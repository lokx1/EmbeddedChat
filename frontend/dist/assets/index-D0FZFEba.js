var Nm=Object.defineProperty;var Sm=(e,t,n)=>t in e?Nm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var sr=(e,t,n)=>Sm(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var If={exports:{}},Al={},zf={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),Em=Symbol.for("react.portal"),_m=Symbol.for("react.fragment"),Cm=Symbol.for("react.strict_mode"),jm=Symbol.for("react.profiler"),$m=Symbol.for("react.provider"),Mm=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),Pm=Symbol.for("react.memo"),Am=Symbol.for("react.lazy"),Cu=Symbol.iterator;function Dm(e){return e===null||typeof e!="object"?null:(e=Cu&&e[Cu]||e["@@iterator"],typeof e=="function"?e:null)}var Ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Of=Object.assign,Wf={};function Ur(e,t,n){this.props=e,this.context=t,this.refs=Wf,this.updater=n||Ff}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hf(){}Hf.prototype=Ur.prototype;function lc(e,t,n){this.props=e,this.context=t,this.refs=Wf,this.updater=n||Ff}var ic=lc.prototype=new Hf;ic.constructor=lc;Of(ic,Ur.prototype);ic.isPureReactComponent=!0;var ju=Array.isArray,Vf=Object.prototype.hasOwnProperty,ac={current:null},Bf={key:!0,ref:!0,__self:!0,__source:!0};function Uf(e,t,n){var r,o={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)Vf.call(t,r)&&!Bf.hasOwnProperty(r)&&(o[r]=t[r]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return{$$typeof:es,type:e,key:s,ref:l,props:o,_owner:ac.current}}function Rm(e,t){return{$$typeof:es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cc(e){return typeof e=="object"&&e!==null&&e.$$typeof===es}function Im(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $u=/\/+/g;function ai(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Im(""+e.key):t.toString(36)}function Rs(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case es:case Em:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+ai(l,0):r,ju(o)?(n="",e!=null&&(n=e.replace($u,"$&/")+"/"),Rs(o,t,n,"",function(u){return u})):o!=null&&(cc(o)&&(o=Rm(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace($u,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",ju(e))for(var i=0;i<e.length;i++){s=e[i];var c=r+ai(s,i);l+=Rs(s,t,n,c,o)}else if(c=Dm(e),typeof c=="function")for(e=c.call(e),i=0;!(s=e.next()).done;)s=s.value,c=r+ai(s,i++),l+=Rs(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function as(e,t,n){if(e==null)return e;var r=[],o=0;return Rs(e,r,"","",function(s){return t.call(n,s,o++)}),r}function zm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},Is={transition:null},Fm={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Is,ReactCurrentOwner:ac};function Gf(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:as,forEach:function(e,t,n){as(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return as(e,function(){t++}),t},toArray:function(e){return as(e,function(t){return t})||[]},only:function(e){if(!cc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Ur;J.Fragment=_m;J.Profiler=jm;J.PureComponent=lc;J.StrictMode=Cm;J.Suspense=Tm;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fm;J.act=Gf;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Of({},e.props),o=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=ac.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Vf.call(t,c)&&!Bf.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:es,type:e.type,key:o,ref:s,props:r,_owner:l}};J.createContext=function(e){return e={$$typeof:Mm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$m,_context:e},e.Consumer=e};J.createElement=Uf;J.createFactory=function(e){var t=Uf.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Lm,render:e}};J.isValidElement=cc;J.lazy=function(e){return{$$typeof:Am,_payload:{_status:-1,_result:e},_init:zm}};J.memo=function(e,t){return{$$typeof:Pm,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Is.transition;Is.transition={};try{e()}finally{Is.transition=t}};J.unstable_act=Gf;J.useCallback=function(e,t){return Ge.current.useCallback(e,t)};J.useContext=function(e){return Ge.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};J.useEffect=function(e,t){return Ge.current.useEffect(e,t)};J.useId=function(){return Ge.current.useId()};J.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Ge.current.useMemo(e,t)};J.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};J.useRef=function(e){return Ge.current.useRef(e)};J.useState=function(e){return Ge.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Ge.current.useTransition()};J.version="18.3.1";zf.exports=J;var p=zf.exports;const D=Rf(p);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om=p,Wm=Symbol.for("react.element"),Hm=Symbol.for("react.fragment"),Vm=Object.prototype.hasOwnProperty,Bm=Om.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Um={key:!0,ref:!0,__self:!0,__source:!0};function Yf(e,t,n){var r,o={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Vm.call(t,r)&&!Um.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Wm,type:e,key:s,ref:l,props:o,_owner:Bm.current}}Al.Fragment=Hm;Al.jsx=Yf;Al.jsxs=Yf;If.exports=Al;var a=If.exports,qi={},Xf={exports:{}},at={},qf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,C){var T=L.length;L.push(C);e:for(;0<T;){var I=T-1>>>1,R=L[I];if(0<o(R,C))L[I]=C,L[T]=R,T=I;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var C=L[0],T=L.pop();if(T!==C){L[0]=T;e:for(var I=0,R=L.length,B=R>>>1;I<B;){var V=2*(I+1)-1,Y=L[V],Z=V+1,Q=L[Z];if(0>o(Y,T))Z<R&&0>o(Q,Y)?(L[I]=Q,L[Z]=T,I=Z):(L[I]=Y,L[V]=T,I=V);else if(Z<R&&0>o(Q,T))L[I]=Q,L[Z]=T,I=Z;else break e}}return C}function o(L,C){var T=L.sortIndex-C.sortIndex;return T!==0?T:L.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var c=[],u=[],d=1,h=null,f=3,g=!1,k=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=L)r(u),C.sortIndex=C.expirationTime,t(c,C);else break;C=n(u)}}function w(L){if(x=!1,v(L),!k)if(n(c)!==null)k=!0,$(S);else{var C=n(u);C!==null&&z(w,C.startTime-L)}}function S(L,C){k=!1,x&&(x=!1,m(M),M=-1),g=!0;var T=f;try{for(v(C),h=n(c);h!==null&&(!(h.expirationTime>C)||L&&!F());){var I=h.callback;if(typeof I=="function"){h.callback=null,f=h.priorityLevel;var R=I(h.expirationTime<=C);C=e.unstable_now(),typeof R=="function"?h.callback=R:h===n(c)&&r(c),v(C)}else r(c);h=n(c)}if(h!==null)var B=!0;else{var V=n(u);V!==null&&z(w,V.startTime-C),B=!1}return B}finally{h=null,f=T,g=!1}}var N=!1,j=null,M=-1,P=5,A=-1;function F(){return!(e.unstable_now()-A<P)}function H(){if(j!==null){var L=e.unstable_now();A=L;var C=!0;try{C=j(!0,L)}finally{C?O():(N=!1,j=null)}}else N=!1}var O;if(typeof y=="function")O=function(){y(H)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,_=b.port2;b.port1.onmessage=H,O=function(){_.postMessage(null)}}else O=function(){E(H,0)};function $(L){j=L,N||(N=!0,O())}function z(L,C){M=E(function(){L(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){k||g||(k=!0,$(S))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var T=f;f=C;try{return L()}finally{f=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,C){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var T=f;f=L;try{return C()}finally{f=T}},e.unstable_scheduleCallback=function(L,C,T){var I=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?I+T:I):T=I,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=T+R,L={id:d++,callback:C,priorityLevel:L,startTime:T,expirationTime:R,sortIndex:-1},T>I?(L.sortIndex=T,t(u,L),n(c)===null&&L===n(u)&&(x?(m(M),M=-1):x=!0,z(w,T-I))):(L.sortIndex=R,t(c,L),k||g||(k=!0,$(S))),L},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(L){var C=f;return function(){var T=f;f=C;try{return L.apply(this,arguments)}finally{f=T}}}})(Zf);qf.exports=Zf;var Gm=qf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=p,lt=Gm;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qf=new Set,jo={};function tr(e,t){Pr(e,t),Pr(e+"Capture",t)}function Pr(e,t){for(jo[e]=t,e=0;e<t.length;e++)Qf.add(t[e])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zi=Object.prototype.hasOwnProperty,Xm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mu={},Lu={};function qm(e){return Zi.call(Lu,e)?!0:Zi.call(Mu,e)?!1:Xm.test(e)?Lu[e]=!0:(Mu[e]=!0,!1)}function Zm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qm(e,t,n,r){if(t===null||typeof t>"u"||Zm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,n,r,o,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var uc=/[\-:]([a-z])/g;function dc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uc,dc);De[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uc,dc);De[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uc,dc);De[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function fc(e,t,n,r){var o=De.hasOwnProperty(t)?De[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qm(t,n,o,r)&&(n=null),r||o===null?qm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nn=Ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cs=Symbol.for("react.element"),dr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),hc=Symbol.for("react.strict_mode"),Qi=Symbol.for("react.profiler"),Kf=Symbol.for("react.provider"),Jf=Symbol.for("react.context"),gc=Symbol.for("react.forward_ref"),Ki=Symbol.for("react.suspense"),Ji=Symbol.for("react.suspense_list"),pc=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),e0=Symbol.for("react.offscreen"),Tu=Symbol.iterator;function Qr(e){return e===null||typeof e!="object"?null:(e=Tu&&e[Tu]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,ci;function fo(e){if(ci===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ci=t&&t[1]||""}return`
`+ci+e}var ui=!1;function di(e,t){if(!e||ui)return"";ui=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),l=o.length-1,i=s.length-1;1<=l&&0<=i&&o[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(o[l]!==s[i]){if(l!==1||i!==1)do if(l--,i--,0>i||o[l]!==s[i]){var c=`
`+o[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=i);break}}}finally{ui=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fo(e):""}function Km(e){switch(e.tag){case 5:return fo(e.type);case 16:return fo("Lazy");case 13:return fo("Suspense");case 19:return fo("SuspenseList");case 0:case 2:case 15:return e=di(e.type,!1),e;case 11:return e=di(e.type.render,!1),e;case 1:return e=di(e.type,!0),e;default:return""}}function ea(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fr:return"Fragment";case dr:return"Portal";case Qi:return"Profiler";case hc:return"StrictMode";case Ki:return"Suspense";case Ji:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jf:return(e.displayName||"Context")+".Consumer";case Kf:return(e._context.displayName||"Context")+".Provider";case gc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pc:return t=e.displayName||null,t!==null?t:ea(e.type)||"Memo";case sn:t=e._payload,e=e._init;try{return ea(e(t))}catch{}}return null}function Jm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ea(t);case 8:return t===hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function En(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function t0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ey(e){var t=t0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function us(e){e._valueTracker||(e._valueTracker=ey(e))}function n0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=t0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function el(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ta(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=En(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function r0(e,t){t=t.checked,t!=null&&fc(e,"checked",t,!1)}function na(e,t){r0(e,t);var n=En(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ra(e,t.type,n):t.hasOwnProperty("defaultValue")&&ra(e,t.type,En(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Au(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ra(e,t,n){(t!=="number"||el(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ho=Array.isArray;function Sr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+En(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function oa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Du(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(ho(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:En(n)}}function o0(e,t){var n=En(t.value),r=En(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ru(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function s0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?s0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ds,l0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ds=ds||document.createElement("div"),ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $o(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ty=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(e){ty.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vo[t]=vo[e]})});function i0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vo.hasOwnProperty(e)&&vo[e]?(""+t).trim():t+"px"}function a0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=i0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ny=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function la(e,t){if(t){if(ny[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function ia(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function mc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ca=null,Er=null,_r=null;function Iu(e){if(e=rs(e)){if(typeof ca!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Fl(t),ca(e.stateNode,e.type,t))}}function c0(e){Er?_r?_r.push(e):_r=[e]:Er=e}function u0(){if(Er){var e=Er,t=_r;if(_r=Er=null,Iu(e),t)for(e=0;e<t.length;e++)Iu(t[e])}}function d0(e,t){return e(t)}function f0(){}var fi=!1;function h0(e,t,n){if(fi)return e(t,n);fi=!0;try{return d0(e,t,n)}finally{fi=!1,(Er!==null||_r!==null)&&(f0(),u0())}}function Mo(e,t){var n=e.stateNode;if(n===null)return null;var r=Fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var ua=!1;if(Zt)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){ua=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{ua=!1}function ry(e,t,n,r,o,s,l,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var wo=!1,tl=null,nl=!1,da=null,oy={onError:function(e){wo=!0,tl=e}};function sy(e,t,n,r,o,s,l,i,c){wo=!1,tl=null,ry.apply(oy,arguments)}function ly(e,t,n,r,o,s,l,i,c){if(sy.apply(this,arguments),wo){if(wo){var u=tl;wo=!1,tl=null}else throw Error(W(198));nl||(nl=!0,da=u)}}function nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function g0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zu(e){if(nr(e)!==e)throw Error(W(188))}function iy(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return zu(o),e;if(s===r)return zu(o),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=o,r=s;else{for(var l=!1,i=o.child;i;){if(i===n){l=!0,n=o,r=s;break}if(i===r){l=!0,r=o,n=s;break}i=i.sibling}if(!l){for(i=s.child;i;){if(i===n){l=!0,n=s,r=o;break}if(i===r){l=!0,r=s,n=o;break}i=i.sibling}if(!l)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function p0(e){return e=iy(e),e!==null?m0(e):null}function m0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=m0(e);if(t!==null)return t;e=e.sibling}return null}var y0=lt.unstable_scheduleCallback,Fu=lt.unstable_cancelCallback,ay=lt.unstable_shouldYield,cy=lt.unstable_requestPaint,ke=lt.unstable_now,uy=lt.unstable_getCurrentPriorityLevel,yc=lt.unstable_ImmediatePriority,x0=lt.unstable_UserBlockingPriority,rl=lt.unstable_NormalPriority,dy=lt.unstable_LowPriority,v0=lt.unstable_IdlePriority,Dl=null,Dt=null;function fy(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Dl,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:py,hy=Math.log,gy=Math.LN2;function py(e){return e>>>=0,e===0?32:31-(hy(e)/gy|0)|0}var fs=64,hs=4194304;function go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ol(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var i=l&~o;i!==0?r=go(i):(s&=l,s!==0&&(r=go(s)))}else l=n&~o,l!==0?r=go(l):s!==0&&(r=go(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Et(t),o=1<<n,r|=e[n],t&=~o;return r}function my(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Et(s),i=1<<l,c=o[l];c===-1?(!(i&n)||i&r)&&(o[l]=my(i,t)):c<=t&&(e.expiredLanes|=i),s&=~i}}function fa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function w0(){var e=fs;return fs<<=1,!(fs&4194240)&&(fs=64),e}function hi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ts(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=n}function xy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Et(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function xc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Et(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ie=0;function k0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var b0,vc,N0,S0,E0,ha=!1,gs=[],mn=null,yn=null,xn=null,Lo=new Map,To=new Map,un=[],vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(e,t){switch(e){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(t.pointerId)}}function Jr(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=rs(t),t!==null&&vc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function wy(e,t,n,r,o){switch(t){case"focusin":return mn=Jr(mn,e,t,n,r,o),!0;case"dragenter":return yn=Jr(yn,e,t,n,r,o),!0;case"mouseover":return xn=Jr(xn,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Lo.set(s,Jr(Lo.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,To.set(s,Jr(To.get(s)||null,e,t,n,r,o)),!0}return!1}function _0(e){var t=On(e.target);if(t!==null){var n=nr(t);if(n!==null){if(t=n.tag,t===13){if(t=g0(n),t!==null){e.blockedOn=t,E0(e.priority,function(){N0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);aa=r,n.target.dispatchEvent(r),aa=null}else return t=rs(n),t!==null&&vc(t),e.blockedOn=n,!1;t.shift()}return!0}function Wu(e,t,n){zs(e)&&n.delete(t)}function ky(){ha=!1,mn!==null&&zs(mn)&&(mn=null),yn!==null&&zs(yn)&&(yn=null),xn!==null&&zs(xn)&&(xn=null),Lo.forEach(Wu),To.forEach(Wu)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,ha||(ha=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,ky)))}function Po(e){function t(o){return eo(o,e)}if(0<gs.length){eo(gs[0],e);for(var n=1;n<gs.length;n++){var r=gs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mn!==null&&eo(mn,e),yn!==null&&eo(yn,e),xn!==null&&eo(xn,e),Lo.forEach(t),To.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)_0(n),n.blockedOn===null&&un.shift()}var Cr=nn.ReactCurrentBatchConfig,sl=!0;function by(e,t,n,r){var o=ie,s=Cr.transition;Cr.transition=null;try{ie=1,wc(e,t,n,r)}finally{ie=o,Cr.transition=s}}function Ny(e,t,n,r){var o=ie,s=Cr.transition;Cr.transition=null;try{ie=4,wc(e,t,n,r)}finally{ie=o,Cr.transition=s}}function wc(e,t,n,r){if(sl){var o=ga(e,t,n,r);if(o===null)Ni(e,t,r,ll,n),Ou(e,r);else if(wy(o,e,t,n,r))r.stopPropagation();else if(Ou(e,r),t&4&&-1<vy.indexOf(e)){for(;o!==null;){var s=rs(o);if(s!==null&&b0(s),s=ga(e,t,n,r),s===null&&Ni(e,t,r,ll,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Ni(e,t,r,null,n)}}var ll=null;function ga(e,t,n,r){if(ll=null,e=mc(r),e=On(e),e!==null)if(t=nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=g0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ll=e,null}function C0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uy()){case yc:return 1;case x0:return 4;case rl:case dy:return 16;case v0:return 536870912;default:return 16}default:return 16}}var gn=null,kc=null,Fs=null;function j0(){if(Fs)return Fs;var e,t=kc,n=t.length,r,o="value"in gn?gn.value:gn.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[s-r];r++);return Fs=o.slice(e,1<r?1-r:void 0)}function Os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function Hu(){return!1}function ct(e){function t(n,r,o,s,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ps:Hu,this.isPropagationStopped=Hu,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),t}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bc=ct(Gr),ns=ye({},Gr,{view:0,detail:0}),Sy=ct(ns),gi,pi,to,Rl=ye({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==to&&(to&&e.type==="mousemove"?(gi=e.screenX-to.screenX,pi=e.screenY-to.screenY):pi=gi=0,to=e),gi)},movementY:function(e){return"movementY"in e?e.movementY:pi}}),Vu=ct(Rl),Ey=ye({},Rl,{dataTransfer:0}),_y=ct(Ey),Cy=ye({},ns,{relatedTarget:0}),mi=ct(Cy),jy=ye({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),$y=ct(jy),My=ye({},Gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ly=ct(My),Ty=ye({},Gr,{data:0}),Bu=ct(Ty),Py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ry(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dy[e])?!!t[e]:!1}function Nc(){return Ry}var Iy=ye({},ns,{key:function(e){if(e.key){var t=Py[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ay[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nc,charCode:function(e){return e.type==="keypress"?Os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zy=ct(Iy),Fy=ye({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uu=ct(Fy),Oy=ye({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nc}),Wy=ct(Oy),Hy=ye({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vy=ct(Hy),By=ye({},Rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uy=ct(By),Gy=[9,13,27,32],Sc=Zt&&"CompositionEvent"in window,ko=null;Zt&&"documentMode"in document&&(ko=document.documentMode);var Yy=Zt&&"TextEvent"in window&&!ko,$0=Zt&&(!Sc||ko&&8<ko&&11>=ko),Gu=" ",Yu=!1;function M0(e,t){switch(e){case"keyup":return Gy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hr=!1;function Xy(e,t){switch(e){case"compositionend":return L0(t);case"keypress":return t.which!==32?null:(Yu=!0,Gu);case"textInput":return e=t.data,e===Gu&&Yu?null:e;default:return null}}function qy(e,t){if(hr)return e==="compositionend"||!Sc&&M0(e,t)?(e=j0(),Fs=kc=gn=null,hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $0&&t.locale!=="ko"?null:t.data;default:return null}}var Zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zy[e.type]:t==="textarea"}function T0(e,t,n,r){c0(r),t=il(t,"onChange"),0<t.length&&(n=new bc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bo=null,Ao=null;function Qy(e){V0(e,0)}function Il(e){var t=mr(e);if(n0(t))return e}function Ky(e,t){if(e==="change")return t}var P0=!1;if(Zt){var yi;if(Zt){var xi="oninput"in document;if(!xi){var qu=document.createElement("div");qu.setAttribute("oninput","return;"),xi=typeof qu.oninput=="function"}yi=xi}else yi=!1;P0=yi&&(!document.documentMode||9<document.documentMode)}function Zu(){bo&&(bo.detachEvent("onpropertychange",A0),Ao=bo=null)}function A0(e){if(e.propertyName==="value"&&Il(Ao)){var t=[];T0(t,Ao,e,mc(e)),h0(Qy,t)}}function Jy(e,t,n){e==="focusin"?(Zu(),bo=t,Ao=n,bo.attachEvent("onpropertychange",A0)):e==="focusout"&&Zu()}function ex(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(Ao)}function tx(e,t){if(e==="click")return Il(t)}function nx(e,t){if(e==="input"||e==="change")return Il(t)}function rx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:rx;function Do(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Zi.call(t,o)||!Ct(e[o],t[o]))return!1}return!0}function Qu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ku(e,t){var n=Qu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qu(n)}}function D0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function R0(){for(var e=window,t=el();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=el(e.document)}return t}function Ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ox(e){var t=R0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&D0(n.ownerDocument.documentElement,n)){if(r!==null&&Ec(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Ku(n,s);var l=Ku(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sx=Zt&&"documentMode"in document&&11>=document.documentMode,gr=null,pa=null,No=null,ma=!1;function Ju(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ma||gr==null||gr!==el(r)||(r=gr,"selectionStart"in r&&Ec(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),No&&Do(No,r)||(No=r,r=il(pa,"onSelect"),0<r.length&&(t=new bc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionend:ms("Transition","TransitionEnd")},vi={},I0={};Zt&&(I0=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function zl(e){if(vi[e])return vi[e];if(!pr[e])return e;var t=pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in I0)return vi[e]=t[n];return e}var z0=zl("animationend"),F0=zl("animationiteration"),O0=zl("animationstart"),W0=zl("transitionend"),H0=new Map,ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(e,t){H0.set(e,t),tr(t,[e])}for(var wi=0;wi<ed.length;wi++){var ki=ed[wi],lx=ki.toLowerCase(),ix=ki[0].toUpperCase()+ki.slice(1);jn(lx,"on"+ix)}jn(z0,"onAnimationEnd");jn(F0,"onAnimationIteration");jn(O0,"onAnimationStart");jn("dblclick","onDoubleClick");jn("focusin","onFocus");jn("focusout","onBlur");jn(W0,"onTransitionEnd");Pr("onMouseEnter",["mouseout","mouseover"]);Pr("onMouseLeave",["mouseout","mouseover"]);Pr("onPointerEnter",["pointerout","pointerover"]);Pr("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ax=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function td(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ly(r,t,void 0,e),e.currentTarget=null}function V0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==s&&o.isPropagationStopped())break e;td(o,i,u),s=c}else for(l=0;l<r.length;l++){if(i=r[l],c=i.instance,u=i.currentTarget,i=i.listener,c!==s&&o.isPropagationStopped())break e;td(o,i,u),s=c}}}if(nl)throw e=da,nl=!1,da=null,e}function de(e,t){var n=t[ka];n===void 0&&(n=t[ka]=new Set);var r=e+"__bubble";n.has(r)||(B0(t,e,2,!1),n.add(r))}function bi(e,t,n){var r=0;t&&(r|=4),B0(n,e,r,t)}var ys="_reactListening"+Math.random().toString(36).slice(2);function Ro(e){if(!e[ys]){e[ys]=!0,Qf.forEach(function(n){n!=="selectionchange"&&(ax.has(n)||bi(n,!1,e),bi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ys]||(t[ys]=!0,bi("selectionchange",!1,t))}}function B0(e,t,n,r){switch(C0(t)){case 1:var o=by;break;case 4:o=Ny;break;default:o=wc}n=o.bind(null,t,n,e),o=void 0,!ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ni(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var i=r.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;l=l.return}for(;i!==null;){if(l=On(i),l===null)return;if(c=l.tag,c===5||c===6){r=s=l;continue e}i=i.parentNode}}r=r.return}h0(function(){var u=s,d=mc(n),h=[];e:{var f=H0.get(e);if(f!==void 0){var g=bc,k=e;switch(e){case"keypress":if(Os(n)===0)break e;case"keydown":case"keyup":g=zy;break;case"focusin":k="focus",g=mi;break;case"focusout":k="blur",g=mi;break;case"beforeblur":case"afterblur":g=mi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Wy;break;case z0:case F0:case O0:g=$y;break;case W0:g=Vy;break;case"scroll":g=Sy;break;case"wheel":g=Uy;break;case"copy":case"cut":case"paste":g=Ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Uu}var x=(t&4)!==0,E=!x&&e==="scroll",m=x?f!==null?f+"Capture":null:f;x=[];for(var y=u,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,m!==null&&(w=Mo(y,m),w!=null&&x.push(Io(y,w,v)))),E)break;y=y.return}0<x.length&&(f=new g(f,k,null,n,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==aa&&(k=n.relatedTarget||n.fromElement)&&(On(k)||k[Qt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(k=n.relatedTarget||n.toElement,g=u,k=k?On(k):null,k!==null&&(E=nr(k),k!==E||k.tag!==5&&k.tag!==6)&&(k=null)):(g=null,k=u),g!==k)){if(x=Vu,w="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=Uu,w="onPointerLeave",m="onPointerEnter",y="pointer"),E=g==null?f:mr(g),v=k==null?f:mr(k),f=new x(w,y+"leave",g,n,d),f.target=E,f.relatedTarget=v,w=null,On(d)===u&&(x=new x(m,y+"enter",k,n,d),x.target=v,x.relatedTarget=E,w=x),E=w,g&&k)t:{for(x=g,m=k,y=0,v=x;v;v=lr(v))y++;for(v=0,w=m;w;w=lr(w))v++;for(;0<y-v;)x=lr(x),y--;for(;0<v-y;)m=lr(m),v--;for(;y--;){if(x===m||m!==null&&x===m.alternate)break t;x=lr(x),m=lr(m)}x=null}else x=null;g!==null&&nd(h,f,g,x,!1),k!==null&&E!==null&&nd(h,E,k,x,!0)}}e:{if(f=u?mr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=Ky;else if(Xu(f))if(P0)S=nx;else{S=ex;var N=Jy}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=tx);if(S&&(S=S(e,u))){T0(h,S,n,d);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&ra(f,"number",f.value)}switch(N=u?mr(u):window,e){case"focusin":(Xu(N)||N.contentEditable==="true")&&(gr=N,pa=u,No=null);break;case"focusout":No=pa=gr=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,Ju(h,n,d);break;case"selectionchange":if(sx)break;case"keydown":case"keyup":Ju(h,n,d)}var j;if(Sc)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else hr?M0(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&($0&&n.locale!=="ko"&&(hr||M!=="onCompositionStart"?M==="onCompositionEnd"&&hr&&(j=j0()):(gn=d,kc="value"in gn?gn.value:gn.textContent,hr=!0)),N=il(u,M),0<N.length&&(M=new Bu(M,e,null,n,d),h.push({event:M,listeners:N}),j?M.data=j:(j=L0(n),j!==null&&(M.data=j)))),(j=Yy?Xy(e,n):qy(e,n))&&(u=il(u,"onBeforeInput"),0<u.length&&(d=new Bu("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=j))}V0(h,t)})}function Io(e,t,n){return{instance:e,listener:t,currentTarget:n}}function il(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Mo(e,n),s!=null&&r.unshift(Io(e,s,o)),s=Mo(e,t),s!=null&&r.push(Io(e,s,o))),e=e.return}return r}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nd(e,t,n,r,o){for(var s=t._reactName,l=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,o?(c=Mo(n,s),c!=null&&l.unshift(Io(n,c,i))):o||(c=Mo(n,s),c!=null&&l.push(Io(n,c,i)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var cx=/\r\n?/g,ux=/\u0000|\uFFFD/g;function rd(e){return(typeof e=="string"?e:""+e).replace(cx,`
`).replace(ux,"")}function xs(e,t,n){if(t=rd(t),rd(e)!==t&&n)throw Error(W(425))}function al(){}var ya=null,xa=null;function va(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wa=typeof setTimeout=="function"?setTimeout:void 0,dx=typeof clearTimeout=="function"?clearTimeout:void 0,od=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof od<"u"?function(e){return od.resolve(null).then(e).catch(hx)}:wa;function hx(e){setTimeout(function(){throw e})}function Si(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Po(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Po(t)}function vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Yr,zo="__reactProps$"+Yr,Qt="__reactContainer$"+Yr,ka="__reactEvents$"+Yr,gx="__reactListeners$"+Yr,px="__reactHandles$"+Yr;function On(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qt]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sd(e);e!==null;){if(n=e[Pt])return n;e=sd(e)}return t}e=n,n=e.parentNode}return null}function rs(e){return e=e[Pt]||e[Qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Fl(e){return e[zo]||null}var ba=[],yr=-1;function $n(e){return{current:e}}function fe(e){0>yr||(e.current=ba[yr],ba[yr]=null,yr--)}function ae(e,t){yr++,ba[yr]=e.current,e.current=t}var _n={},We=$n(_n),Je=$n(!1),qn=_n;function Ar(e,t){var n=e.type.contextTypes;if(!n)return _n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function et(e){return e=e.childContextTypes,e!=null}function cl(){fe(Je),fe(We)}function ld(e,t,n){if(We.current!==_n)throw Error(W(168));ae(We,t),ae(Je,n)}function U0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(W(108,Jm(e)||"Unknown",o));return ye({},n,r)}function ul(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_n,qn=We.current,ae(We,e),ae(Je,Je.current),!0}function id(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=U0(e,t,qn),r.__reactInternalMemoizedMergedChildContext=e,fe(Je),fe(We),ae(We,e)):fe(Je),ae(Je,n)}var Vt=null,Ol=!1,Ei=!1;function G0(e){Vt===null?Vt=[e]:Vt.push(e)}function mx(e){Ol=!0,G0(e)}function Mn(){if(!Ei&&Vt!==null){Ei=!0;var e=0,t=ie;try{var n=Vt;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,Ol=!1}catch(o){throw Vt!==null&&(Vt=Vt.slice(e+1)),y0(yc,Mn),o}finally{ie=t,Ei=!1}}return null}var xr=[],vr=0,dl=null,fl=0,ut=[],dt=0,Zn=null,Bt=1,Ut="";function In(e,t){xr[vr++]=fl,xr[vr++]=dl,dl=e,fl=t}function Y0(e,t,n){ut[dt++]=Bt,ut[dt++]=Ut,ut[dt++]=Zn,Zn=e;var r=Bt;e=Ut;var o=32-Et(r)-1;r&=~(1<<o),n+=1;var s=32-Et(t)+o;if(30<s){var l=o-o%5;s=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Bt=1<<32-Et(t)+o|n<<o|r,Ut=s+e}else Bt=1<<s|n<<o|r,Ut=e}function _c(e){e.return!==null&&(In(e,1),Y0(e,1,0))}function Cc(e){for(;e===dl;)dl=xr[--vr],xr[vr]=null,fl=xr[--vr],xr[vr]=null;for(;e===Zn;)Zn=ut[--dt],ut[dt]=null,Ut=ut[--dt],ut[dt]=null,Bt=ut[--dt],ut[dt]=null}var ot=null,rt=null,he=!1,Nt=null;function X0(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ad(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,rt=vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zn!==null?{id:Bt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,rt=null,!0):!1;default:return!1}}function Na(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sa(e){if(he){var t=rt;if(t){var n=t;if(!ad(e,t)){if(Na(e))throw Error(W(418));t=vn(n.nextSibling);var r=ot;t&&ad(e,t)?X0(r,n):(e.flags=e.flags&-4097|2,he=!1,ot=e)}}else{if(Na(e))throw Error(W(418));e.flags=e.flags&-4097|2,he=!1,ot=e}}}function cd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function vs(e){if(e!==ot)return!1;if(!he)return cd(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!va(e.type,e.memoizedProps)),t&&(t=rt)){if(Na(e))throw q0(),Error(W(418));for(;t;)X0(e,t),t=vn(t.nextSibling)}if(cd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=ot?vn(e.stateNode.nextSibling):null;return!0}function q0(){for(var e=rt;e;)e=vn(e.nextSibling)}function Dr(){rt=ot=null,he=!1}function jc(e){Nt===null?Nt=[e]:Nt.push(e)}var yx=nn.ReactCurrentBatchConfig;function no(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var i=o.refs;l===null?delete i[s]:i[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function ws(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ud(e){var t=e._init;return t(e._payload)}function Z0(e){function t(m,y){if(e){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function o(m,y){return m=Nn(m,y),m.index=0,m.sibling=null,m}function s(m,y,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function i(m,y,v,w){return y===null||y.tag!==6?(y=Ti(v,m.mode,w),y.return=m,y):(y=o(y,v),y.return=m,y)}function c(m,y,v,w){var S=v.type;return S===fr?d(m,y,v.props.children,w,v.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sn&&ud(S)===y.type)?(w=o(y,v.props),w.ref=no(m,y,v),w.return=m,w):(w=Ys(v.type,v.key,v.props,null,m.mode,w),w.ref=no(m,y,v),w.return=m,w)}function u(m,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Pi(v,m.mode,w),y.return=m,y):(y=o(y,v.children||[]),y.return=m,y)}function d(m,y,v,w,S){return y===null||y.tag!==7?(y=Gn(v,m.mode,w,S),y.return=m,y):(y=o(y,v),y.return=m,y)}function h(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ti(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case cs:return v=Ys(y.type,y.key,y.props,null,m.mode,v),v.ref=no(m,null,y),v.return=m,v;case dr:return y=Pi(y,m.mode,v),y.return=m,y;case sn:var w=y._init;return h(m,w(y._payload),v)}if(ho(y)||Qr(y))return y=Gn(y,m.mode,v,null),y.return=m,y;ws(m,y)}return null}function f(m,y,v,w){var S=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:i(m,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case cs:return v.key===S?c(m,y,v,w):null;case dr:return v.key===S?u(m,y,v,w):null;case sn:return S=v._init,f(m,y,S(v._payload),w)}if(ho(v)||Qr(v))return S!==null?null:d(m,y,v,w,null);ws(m,v)}return null}function g(m,y,v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(v)||null,i(y,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cs:return m=m.get(w.key===null?v:w.key)||null,c(y,m,w,S);case dr:return m=m.get(w.key===null?v:w.key)||null,u(y,m,w,S);case sn:var N=w._init;return g(m,y,v,N(w._payload),S)}if(ho(w)||Qr(w))return m=m.get(v)||null,d(y,m,w,S,null);ws(y,w)}return null}function k(m,y,v,w){for(var S=null,N=null,j=y,M=y=0,P=null;j!==null&&M<v.length;M++){j.index>M?(P=j,j=null):P=j.sibling;var A=f(m,j,v[M],w);if(A===null){j===null&&(j=P);break}e&&j&&A.alternate===null&&t(m,j),y=s(A,y,M),N===null?S=A:N.sibling=A,N=A,j=P}if(M===v.length)return n(m,j),he&&In(m,M),S;if(j===null){for(;M<v.length;M++)j=h(m,v[M],w),j!==null&&(y=s(j,y,M),N===null?S=j:N.sibling=j,N=j);return he&&In(m,M),S}for(j=r(m,j);M<v.length;M++)P=g(j,m,M,v[M],w),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?M:P.key),y=s(P,y,M),N===null?S=P:N.sibling=P,N=P);return e&&j.forEach(function(F){return t(m,F)}),he&&In(m,M),S}function x(m,y,v,w){var S=Qr(v);if(typeof S!="function")throw Error(W(150));if(v=S.call(v),v==null)throw Error(W(151));for(var N=S=null,j=y,M=y=0,P=null,A=v.next();j!==null&&!A.done;M++,A=v.next()){j.index>M?(P=j,j=null):P=j.sibling;var F=f(m,j,A.value,w);if(F===null){j===null&&(j=P);break}e&&j&&F.alternate===null&&t(m,j),y=s(F,y,M),N===null?S=F:N.sibling=F,N=F,j=P}if(A.done)return n(m,j),he&&In(m,M),S;if(j===null){for(;!A.done;M++,A=v.next())A=h(m,A.value,w),A!==null&&(y=s(A,y,M),N===null?S=A:N.sibling=A,N=A);return he&&In(m,M),S}for(j=r(m,j);!A.done;M++,A=v.next())A=g(j,m,M,A.value,w),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?M:A.key),y=s(A,y,M),N===null?S=A:N.sibling=A,N=A);return e&&j.forEach(function(H){return t(m,H)}),he&&In(m,M),S}function E(m,y,v,w){if(typeof v=="object"&&v!==null&&v.type===fr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case cs:e:{for(var S=v.key,N=y;N!==null;){if(N.key===S){if(S=v.type,S===fr){if(N.tag===7){n(m,N.sibling),y=o(N,v.props.children),y.return=m,m=y;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sn&&ud(S)===N.type){n(m,N.sibling),y=o(N,v.props),y.ref=no(m,N,v),y.return=m,m=y;break e}n(m,N);break}else t(m,N);N=N.sibling}v.type===fr?(y=Gn(v.props.children,m.mode,w,v.key),y.return=m,m=y):(w=Ys(v.type,v.key,v.props,null,m.mode,w),w.ref=no(m,y,v),w.return=m,m=w)}return l(m);case dr:e:{for(N=v.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(m,y.sibling),y=o(y,v.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=Pi(v,m.mode,w),y.return=m,m=y}return l(m);case sn:return N=v._init,E(m,y,N(v._payload),w)}if(ho(v))return k(m,y,v,w);if(Qr(v))return x(m,y,v,w);ws(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(m,y.sibling),y=o(y,v),y.return=m,m=y):(n(m,y),y=Ti(v,m.mode,w),y.return=m,m=y),l(m)):n(m,y)}return E}var Rr=Z0(!0),Q0=Z0(!1),hl=$n(null),gl=null,wr=null,$c=null;function Mc(){$c=wr=gl=null}function Lc(e){var t=hl.current;fe(hl),e._currentValue=t}function Ea(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function jr(e,t){gl=e,$c=wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if($c!==e)if(e={context:e,memoizedValue:t,next:null},wr===null){if(gl===null)throw Error(W(308));wr=e,gl.dependencies={lanes:0,firstContext:e}}else wr=wr.next=e;return t}var Wn=null;function Tc(e){Wn===null?Wn=[e]:Wn.push(e)}function K0(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Tc(t)):(n.next=o.next,o.next=n),t.interleaved=n,Kt(e,r)}function Kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ln=!1;function Pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Kt(e,n)}return o=r.interleaved,o===null?(t.next=t,Tc(r)):(t.next=o.next,o.next=t),r.interleaved=t,Kt(e,n)}function Ws(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xc(e,n)}}function dd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pl(e,t,n,r){var o=e.updateQueue;ln=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var c=i,u=c.next;c.next=null,l===null?s=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==l&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=o.baseState;l=0,d=u=c=null,i=s;do{var f=i.lane,g=i.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var k=e,x=i;switch(f=t,g=n,x.tag){case 1:if(k=x.payload,typeof k=="function"){h=k.call(g,h,f);break e}h=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=x.payload,f=typeof k=="function"?k.call(g,h,f):k,f==null)break e;h=ye({},h,f);break e;case 2:ln=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[i]:f.push(i))}else g={eventTime:g,lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,l|=f;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;f=i,i=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(d===null&&(c=h),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Kn|=l,e.lanes=l,e.memoizedState=h}}function fd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(W(191,o));o.call(r)}}}var os={},Rt=$n(os),Fo=$n(os),Oo=$n(os);function Hn(e){if(e===os)throw Error(W(174));return e}function Ac(e,t){switch(ae(Oo,t),ae(Fo,e),ae(Rt,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sa(t,e)}fe(Rt),ae(Rt,t)}function Ir(){fe(Rt),fe(Fo),fe(Oo)}function eh(e){Hn(Oo.current);var t=Hn(Rt.current),n=sa(t,e.type);t!==n&&(ae(Fo,e),ae(Rt,n))}function Dc(e){Fo.current===e&&(fe(Rt),fe(Fo))}var pe=$n(0);function ml(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _i=[];function Rc(){for(var e=0;e<_i.length;e++)_i[e]._workInProgressVersionPrimary=null;_i.length=0}var Hs=nn.ReactCurrentDispatcher,Ci=nn.ReactCurrentBatchConfig,Qn=0,me=null,Se=null,je=null,yl=!1,So=!1,Wo=0,xx=0;function ze(){throw Error(W(321))}function Ic(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function zc(e,t,n,r,o,s){if(Qn=s,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hs.current=e===null||e.memoizedState===null?bx:Nx,e=n(r,o),So){s=0;do{if(So=!1,Wo=0,25<=s)throw Error(W(301));s+=1,je=Se=null,t.updateQueue=null,Hs.current=Sx,e=n(r,o)}while(So)}if(Hs.current=xl,t=Se!==null&&Se.next!==null,Qn=0,je=Se=me=null,yl=!1,t)throw Error(W(300));return e}function Fc(){var e=Wo!==0;return Wo=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?me.memoizedState=je=e:je=je.next=e,je}function yt(){if(Se===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=je===null?me.memoizedState:je.next;if(t!==null)je=t,Se=e;else{if(e===null)throw Error(W(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},je===null?me.memoizedState=je=e:je=je.next=e}return je}function Ho(e,t){return typeof t=="function"?t(e):t}function ji(e){var t=yt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=Se,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var i=l=null,c=null,u=s;do{var d=u.lane;if((Qn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=h,l=r):c=c.next=h,me.lanes|=d,Kn|=d}u=u.next}while(u!==null&&u!==s);c===null?l=r:c.next=i,Ct(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,me.lanes|=s,Kn|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $i(e){var t=yt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do s=e(s,l.action),l=l.next;while(l!==o);Ct(s,t.memoizedState)||(Qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function th(){}function nh(e,t){var n=me,r=yt(),o=t(),s=!Ct(r.memoizedState,o);if(s&&(r.memoizedState=o,Qe=!0),r=r.queue,Oc(sh.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Vo(9,oh.bind(null,n,r,o,t),void 0,null),$e===null)throw Error(W(349));Qn&30||rh(n,t,o)}return o}function rh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function oh(e,t,n,r){t.value=n,t.getSnapshot=r,lh(t)&&ih(e)}function sh(e,t,n){return n(function(){lh(t)&&ih(e)})}function lh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function ih(e){var t=Kt(e,1);t!==null&&_t(t,e,1,-1)}function hd(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t.queue=e,e=e.dispatch=kx.bind(null,me,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ah(){return yt().memoizedState}function Vs(e,t,n,r){var o=Tt();me.flags|=e,o.memoizedState=Vo(1|t,n,void 0,r===void 0?null:r)}function Wl(e,t,n,r){var o=yt();r=r===void 0?null:r;var s=void 0;if(Se!==null){var l=Se.memoizedState;if(s=l.destroy,r!==null&&Ic(r,l.deps)){o.memoizedState=Vo(t,n,s,r);return}}me.flags|=e,o.memoizedState=Vo(1|t,n,s,r)}function gd(e,t){return Vs(8390656,8,e,t)}function Oc(e,t){return Wl(2048,8,e,t)}function ch(e,t){return Wl(4,2,e,t)}function uh(e,t){return Wl(4,4,e,t)}function dh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fh(e,t,n){return n=n!=null?n.concat([e]):null,Wl(4,4,dh.bind(null,t,e),n)}function Wc(){}function hh(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ic(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gh(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ic(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ph(e,t,n){return Qn&21?(Ct(n,t)||(n=w0(),me.lanes|=n,Kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function vx(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=Ci.transition;Ci.transition={};try{e(!1),t()}finally{ie=n,Ci.transition=r}}function mh(){return yt().memoizedState}function wx(e,t,n){var r=bn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yh(e))xh(t,n);else if(n=K0(e,t,n,r),n!==null){var o=Ue();_t(n,e,r,o),vh(n,t,r)}}function kx(e,t,n){var r=bn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yh(e))xh(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,i=s(l,n);if(o.hasEagerState=!0,o.eagerState=i,Ct(i,l)){var c=t.interleaved;c===null?(o.next=o,Tc(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=K0(e,t,o,r),n!==null&&(o=Ue(),_t(n,e,r,o),vh(n,t,r))}}function yh(e){var t=e.alternate;return e===me||t!==null&&t===me}function xh(e,t){So=yl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xc(e,n)}}var xl={readContext:mt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},bx={readContext:mt,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:gd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vs(4194308,4,dh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wx.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:hd,useDebugValue:Wc,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=hd(!1),t=e[0];return e=vx.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=me,o=Tt();if(he){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),$e===null)throw Error(W(349));Qn&30||rh(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,gd(sh.bind(null,r,s,e),[e]),r.flags|=2048,Vo(9,oh.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Tt(),t=$e.identifierPrefix;if(he){var n=Ut,r=Bt;n=(r&~(1<<32-Et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nx={readContext:mt,useCallback:hh,useContext:mt,useEffect:Oc,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:gh,useReducer:ji,useRef:ah,useState:function(){return ji(Ho)},useDebugValue:Wc,useDeferredValue:function(e){var t=yt();return ph(t,Se.memoizedState,e)},useTransition:function(){var e=ji(Ho)[0],t=yt().memoizedState;return[e,t]},useMutableSource:th,useSyncExternalStore:nh,useId:mh,unstable_isNewReconciler:!1},Sx={readContext:mt,useCallback:hh,useContext:mt,useEffect:Oc,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:gh,useReducer:$i,useRef:ah,useState:function(){return $i(Ho)},useDebugValue:Wc,useDeferredValue:function(e){var t=yt();return Se===null?t.memoizedState=e:ph(t,Se.memoizedState,e)},useTransition:function(){var e=$i(Ho)[0],t=yt().memoizedState;return[e,t]},useMutableSource:th,useSyncExternalStore:nh,useId:mh,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _a(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hl={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ue(),o=bn(e),s=Yt(r,o);s.payload=t,n!=null&&(s.callback=n),t=wn(e,s,o),t!==null&&(_t(t,e,o,r),Ws(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ue(),o=bn(e),s=Yt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=wn(e,s,o),t!==null&&(_t(t,e,o,r),Ws(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),r=bn(e),o=Yt(n,r);o.tag=2,t!=null&&(o.callback=t),t=wn(e,o,r),t!==null&&(_t(t,e,r,n),Ws(t,e,r))}};function pd(e,t,n,r,o,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!Do(n,r)||!Do(o,s):!0}function wh(e,t,n){var r=!1,o=_n,s=t.contextType;return typeof s=="object"&&s!==null?s=mt(s):(o=et(t)?qn:We.current,r=t.contextTypes,s=(r=r!=null)?Ar(e,o):_n),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function md(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hl.enqueueReplaceState(t,t.state,null)}function Ca(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Pc(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=mt(s):(s=et(t)?qn:We.current,o.context=Ar(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_a(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Hl.enqueueReplaceState(o,o.state,null),pl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function zr(e,t){try{var n="",r=t;do n+=Km(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Mi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ja(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ex=typeof WeakMap=="function"?WeakMap:Map;function kh(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wl||(wl=!0,za=r),ja(e,t)},n}function bh(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ja(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ja(e,t),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function yd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ex;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Fx.bind(null,e,t,n),t.then(e,e))}function xd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e)}var _x=nn.ReactCurrentOwner,Qe=!1;function Be(e,t,n,r){t.child=e===null?Q0(t,null,n,r):Rr(t,e.child,n,r)}function wd(e,t,n,r,o){n=n.render;var s=t.ref;return jr(t,o),r=zc(e,t,n,r,s,o),n=Fc(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Jt(e,t,o)):(he&&n&&_c(t),t.flags|=1,Be(e,t,r,o),t.child)}function kd(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!qc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Nh(e,t,s,r,o)):(e=Ys(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:Do,n(l,r)&&e.ref===t.ref)return Jt(e,t,o)}return t.flags|=1,e=Nn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Nh(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Do(s,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Jt(e,t,o)}return $a(e,t,n,r,o)}function Sh(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(br,nt),nt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(br,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ae(br,nt),nt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ae(br,nt),nt|=r;return Be(e,t,o,n),t.child}function Eh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $a(e,t,n,r,o){var s=et(n)?qn:We.current;return s=Ar(t,s),jr(t,o),n=zc(e,t,n,r,s,o),r=Fc(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Jt(e,t,o)):(he&&r&&_c(t),t.flags|=1,Be(e,t,n,o),t.child)}function bd(e,t,n,r,o){if(et(n)){var s=!0;ul(t)}else s=!1;if(jr(t,o),t.stateNode===null)Bs(e,t),wh(t,n,r),Ca(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=et(n)?qn:We.current,u=Ar(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==r||c!==u)&&md(t,l,r,u),ln=!1;var f=t.memoizedState;l.state=f,pl(t,r,l,o),c=t.memoizedState,i!==r||f!==c||Je.current||ln?(typeof d=="function"&&(_a(t,n,d,r),c=t.memoizedState),(i=ln||pd(t,n,i,r,f,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,J0(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:wt(t.type,i),l.props=u,h=t.pendingProps,f=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=mt(c):(c=et(n)?qn:We.current,c=Ar(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==h||f!==c)&&md(t,l,r,c),ln=!1,f=t.memoizedState,l.state=f,pl(t,r,l,o);var k=t.memoizedState;i!==h||f!==k||Je.current||ln?(typeof g=="function"&&(_a(t,n,g,r),k=t.memoizedState),(u=ln||pd(t,n,u,r,f,k,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,k,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,k,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),l.props=r,l.state=k,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ma(e,t,n,r,s,o)}function Ma(e,t,n,r,o,s){Eh(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&id(t,n,!1),Jt(e,t,s);r=t.stateNode,_x.current=t;var i=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Rr(t,e.child,null,s),t.child=Rr(t,null,i,s)):Be(e,t,i,s),t.memoizedState=r.state,o&&id(t,n,!0),t.child}function _h(e){var t=e.stateNode;t.pendingContext?ld(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ld(e,t.context,!1),Ac(e,t.containerInfo)}function Nd(e,t,n,r,o){return Dr(),jc(o),t.flags|=256,Be(e,t,n,r),t.child}var La={dehydrated:null,treeContext:null,retryLane:0};function Ta(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ch(e,t,n){var r=t.pendingProps,o=pe.current,s=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ae(pe,o&1),e===null)return Sa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Ul(l,r,0,null),e=Gn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ta(n),t.memoizedState=La,e):Hc(t,l));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return Cx(e,t,l,r,i,o,n);if(s){s=r.fallback,l=t.mode,o=e.child,i=o.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Nn(o,c),r.subtreeFlags=o.subtreeFlags&14680064),i!==null?s=Nn(i,s):(s=Gn(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?Ta(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=La,r}return s=e.child,e=s.sibling,r=Nn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hc(e,t){return t=Ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ks(e,t,n,r){return r!==null&&jc(r),Rr(t,e.child,null,n),e=Hc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cx(e,t,n,r,o,s,l){if(n)return t.flags&256?(t.flags&=-257,r=Mi(Error(W(422))),ks(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Ul({mode:"visible",children:r.children},o,0,null),s=Gn(s,o,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Rr(t,e.child,null,l),t.child.memoizedState=Ta(l),t.memoizedState=La,s);if(!(t.mode&1))return ks(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var i=r.dgst;return r=i,s=Error(W(419)),r=Mi(s,r,void 0),ks(e,t,l,r)}if(i=(l&e.childLanes)!==0,Qe||i){if(r=$e,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Kt(e,o),_t(r,e,o,-1))}return Xc(),r=Mi(Error(W(421))),ks(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Ox.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,rt=vn(o.nextSibling),ot=t,he=!0,Nt=null,e!==null&&(ut[dt++]=Bt,ut[dt++]=Ut,ut[dt++]=Zn,Bt=e.id,Ut=e.overflow,Zn=t),t=Hc(t,r.children),t.flags|=4096,t)}function Sd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ea(e.return,t,n)}function Li(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function jh(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Be(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,n,t);else if(e.tag===19)Sd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ae(pe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ml(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Li(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ml(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Li(t,!0,n,null,s);break;case"together":Li(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jx(e,t,n){switch(t.tag){case 3:_h(t),Dr();break;case 5:eh(t);break;case 1:et(t.type)&&ul(t);break;case 4:Ac(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ae(hl,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ae(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?Ch(e,t,n):(ae(pe,pe.current&1),e=Jt(e,t,n),e!==null?e.sibling:null);ae(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ae(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,Sh(e,t,n)}return Jt(e,t,n)}var $h,Pa,Mh,Lh;$h=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pa=function(){};Mh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Hn(Rt.current);var s=null;switch(n){case"input":o=ta(e,o),r=ta(e,r),s=[];break;case"select":o=ye({},o,{value:void 0}),r=ye({},r,{value:void 0}),s=[];break;case"textarea":o=oa(e,o),r=oa(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=al)}la(n,r);var l;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var i=o[u];for(l in i)i.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(i=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(l in i)!i.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&i[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&de("scroll",e),s||i===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Lh=function(e,t,n,r){n!==r&&(t.flags|=4)};function ro(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $x(e,t,n){var r=t.pendingProps;switch(Cc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return et(t.type)&&cl(),Fe(t),null;case 3:return r=t.stateNode,Ir(),fe(Je),fe(We),Rc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(Wa(Nt),Nt=null))),Pa(e,t),Fe(t),null;case 5:Dc(t);var o=Hn(Oo.current);if(n=t.type,e!==null&&t.stateNode!=null)Mh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return Fe(t),null}if(e=Hn(Rt.current),vs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Pt]=t,r[zo]=s,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(o=0;o<po.length;o++)de(po[o],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Pu(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":Du(r,s),de("invalid",r)}la(n,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var i=s[l];l==="children"?typeof i=="string"?r.textContent!==i&&(s.suppressHydrationWarning!==!0&&xs(r.textContent,i,e),o=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&xs(r.textContent,i,e),o=["children",""+i]):jo.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&de("scroll",r)}switch(n){case"input":us(r),Au(r,s,!0);break;case"textarea":us(r),Ru(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=al)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=s0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Pt]=t,e[zo]=r,$h(e,t,!1,!1),t.stateNode=e;e:{switch(l=ia(n,r),n){case"dialog":de("cancel",e),de("close",e),o=r;break;case"iframe":case"object":case"embed":de("load",e),o=r;break;case"video":case"audio":for(o=0;o<po.length;o++)de(po[o],e);o=r;break;case"source":de("error",e),o=r;break;case"img":case"image":case"link":de("error",e),de("load",e),o=r;break;case"details":de("toggle",e),o=r;break;case"input":Pu(e,r),o=ta(e,r),de("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ye({},r,{value:void 0}),de("invalid",e);break;case"textarea":Du(e,r),o=oa(e,r),de("invalid",e);break;default:o=r}la(n,o),i=o;for(s in i)if(i.hasOwnProperty(s)){var c=i[s];s==="style"?a0(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&l0(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$o(e,c):typeof c=="number"&&$o(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jo.hasOwnProperty(s)?c!=null&&s==="onScroll"&&de("scroll",e):c!=null&&fc(e,s,c,l))}switch(n){case"input":us(e),Au(e,r,!1);break;case"textarea":us(e),Ru(e);break;case"option":r.value!=null&&e.setAttribute("value",""+En(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Sr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)Lh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Hn(Oo.current),Hn(Rt.current),vs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pt]=t,(s=r.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:xs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xs(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=t,t.stateNode=r}return Fe(t),null;case 13:if(fe(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&rt!==null&&t.mode&1&&!(t.flags&128))q0(),Dr(),t.flags|=98560,s=!1;else if(s=vs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Pt]=t}else Dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),s=!1}else Nt!==null&&(Wa(Nt),Nt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Ee===0&&(Ee=3):Xc())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return Ir(),Pa(e,t),e===null&&Ro(t.stateNode.containerInfo),Fe(t),null;case 10:return Lc(t.type._context),Fe(t),null;case 17:return et(t.type)&&cl(),Fe(t),null;case 19:if(fe(pe),s=t.memoizedState,s===null)return Fe(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)ro(s,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ml(e),l!==null){for(t.flags|=128,ro(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ae(pe,pe.current&1|2),t.child}e=e.sibling}s.tail!==null&&ke()>Fr&&(t.flags|=128,r=!0,ro(s,!1),t.lanes=4194304)}else{if(!r)if(e=ml(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ro(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!he)return Fe(t),null}else 2*ke()-s.renderingStartTime>Fr&&n!==1073741824&&(t.flags|=128,r=!0,ro(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ke(),t.sibling=null,n=pe.current,ae(pe,r?n&1|2:n&1),t):(Fe(t),null);case 22:case 23:return Yc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function Mx(e,t){switch(Cc(t),t.tag){case 1:return et(t.type)&&cl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ir(),fe(Je),fe(We),Rc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dc(t),null;case 13:if(fe(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(pe),null;case 4:return Ir(),null;case 10:return Lc(t.type._context),null;case 22:case 23:return Yc(),null;case 24:return null;default:return null}}var bs=!1,Oe=!1,Lx=typeof WeakSet=="function"?WeakSet:Set,U=null;function kr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Aa(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Ed=!1;function Tx(e,t){if(ya=sl,e=R0(),Ec(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,i=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||o!==0&&h.nodeType!==3||(i=l+o),h!==s||r!==0&&h.nodeType!==3||(c=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===o&&(i=l),f===s&&++d===r&&(c=l),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xa={focusedElem:e,selectionRange:n},sl=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var x=k.memoizedProps,E=k.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:wt(t.type,x),E);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(w){xe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return k=Ed,Ed=!1,k}function Eo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Aa(t,n,s)}o=o.next}while(o!==r)}}function Vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Da(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Th(e){var t=e.alternate;t!==null&&(e.alternate=null,Th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[zo],delete t[ka],delete t[gx],delete t[px])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ph(e){return e.tag===5||e.tag===3||e.tag===4}function _d(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ra(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=al));else if(r!==4&&(e=e.child,e!==null))for(Ra(e,t,n),e=e.sibling;e!==null;)Ra(e,t,n),e=e.sibling}function Ia(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ia(e,t,n),e=e.sibling;e!==null;)Ia(e,t,n),e=e.sibling}var Pe=null,kt=!1;function rn(e,t,n){for(n=n.child;n!==null;)Ah(e,t,n),n=n.sibling}function Ah(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Dl,n)}catch{}switch(n.tag){case 5:Oe||kr(n,t);case 6:var r=Pe,o=kt;Pe=null,rn(e,t,n),Pe=r,kt=o,Pe!==null&&(kt?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(kt?(e=Pe,n=n.stateNode,e.nodeType===8?Si(e.parentNode,n):e.nodeType===1&&Si(e,n),Po(e)):Si(Pe,n.stateNode));break;case 4:r=Pe,o=kt,Pe=n.stateNode.containerInfo,kt=!0,rn(e,t,n),Pe=r,kt=o;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Aa(n,t,l),o=o.next}while(o!==r)}rn(e,t,n);break;case 1:if(!Oe&&(kr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){xe(n,t,i)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,rn(e,t,n),Oe=r):rn(e,t,n);break;default:rn(e,t,n)}}function Cd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Lx),t.forEach(function(r){var o=Wx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:Pe=i.stateNode,kt=!1;break e;case 3:Pe=i.stateNode.containerInfo,kt=!0;break e;case 4:Pe=i.stateNode.containerInfo,kt=!0;break e}i=i.return}if(Pe===null)throw Error(W(160));Ah(s,l,o),Pe=null,kt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){xe(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dh(t,e),t=t.sibling}function Dh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Lt(e),r&4){try{Eo(3,e,e.return),Vl(3,e)}catch(x){xe(e,e.return,x)}try{Eo(5,e,e.return)}catch(x){xe(e,e.return,x)}}break;case 1:vt(t,e),Lt(e),r&512&&n!==null&&kr(n,n.return);break;case 5:if(vt(t,e),Lt(e),r&512&&n!==null&&kr(n,n.return),e.flags&32){var o=e.stateNode;try{$o(o,"")}catch(x){xe(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&r0(o,s),ia(i,l);var u=ia(i,s);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?a0(o,h):d==="dangerouslySetInnerHTML"?l0(o,h):d==="children"?$o(o,h):fc(o,d,h,u)}switch(i){case"input":na(o,s);break;case"textarea":o0(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Sr(o,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Sr(o,!!s.multiple,s.defaultValue,!0):Sr(o,!!s.multiple,s.multiple?[]:"",!1))}o[zo]=s}catch(x){xe(e,e.return,x)}}break;case 6:if(vt(t,e),Lt(e),r&4){if(e.stateNode===null)throw Error(W(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(x){xe(e,e.return,x)}}break;case 3:if(vt(t,e),Lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Po(t.containerInfo)}catch(x){xe(e,e.return,x)}break;case 4:vt(t,e),Lt(e);break;case 13:vt(t,e),Lt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Uc=ke())),r&4&&Cd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||d,vt(t,e),Oe=u):vt(t,e),Lt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(h=U=d;U!==null;){switch(f=U,g=f.child,f.tag){case 0:case 11:case 14:case 15:Eo(4,f,f.return);break;case 1:kr(f,f.return);var k=f.stateNode;if(typeof k.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(x){xe(r,n,x)}}break;case 5:kr(f,f.return);break;case 22:if(f.memoizedState!==null){$d(h);continue}}g!==null?(g.return=f,U=g):$d(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{o=h.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=i0("display",l))}catch(x){xe(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){xe(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vt(t,e),Lt(e),r&4&&Cd(e);break;case 21:break;default:vt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ph(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&($o(o,""),r.flags&=-33);var s=_d(e);Ia(e,s,o);break;case 3:case 4:var l=r.stateNode.containerInfo,i=_d(e);Ra(e,i,l);break;default:throw Error(W(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Px(e,t,n){U=e,Rh(e)}function Rh(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var o=U,s=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||bs;if(!l){var i=o.alternate,c=i!==null&&i.memoizedState!==null||Oe;i=bs;var u=Oe;if(bs=l,(Oe=c)&&!u)for(U=o;U!==null;)l=U,c=l.child,l.tag===22&&l.memoizedState!==null?Md(o):c!==null?(c.return=l,U=c):Md(o);for(;s!==null;)U=s,Rh(s),s=s.sibling;U=o,bs=i,Oe=u}jd(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,U=s):jd(e)}}function jd(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||Vl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:wt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&fd(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fd(t,l,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Po(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Oe||t.flags&512&&Da(t)}catch(f){xe(t,t.return,f)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function $d(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function Md(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vl(4,t)}catch(c){xe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){xe(t,o,c)}}var s=t.return;try{Da(t)}catch(c){xe(t,s,c)}break;case 5:var l=t.return;try{Da(t)}catch(c){xe(t,l,c)}}}catch(c){xe(t,t.return,c)}if(t===e){U=null;break}var i=t.sibling;if(i!==null){i.return=t.return,U=i;break}U=t.return}}var Ax=Math.ceil,vl=nn.ReactCurrentDispatcher,Vc=nn.ReactCurrentOwner,pt=nn.ReactCurrentBatchConfig,oe=0,$e=null,be=null,Ae=0,nt=0,br=$n(0),Ee=0,Bo=null,Kn=0,Bl=0,Bc=0,_o=null,Ze=null,Uc=0,Fr=1/0,Ht=null,wl=!1,za=null,kn=null,Ns=!1,pn=null,kl=0,Co=0,Fa=null,Us=-1,Gs=0;function Ue(){return oe&6?ke():Us!==-1?Us:Us=ke()}function bn(e){return e.mode&1?oe&2&&Ae!==0?Ae&-Ae:yx.transition!==null?(Gs===0&&(Gs=w0()),Gs):(e=ie,e!==0||(e=window.event,e=e===void 0?16:C0(e.type)),e):1}function _t(e,t,n,r){if(50<Co)throw Co=0,Fa=null,Error(W(185));ts(e,n,r),(!(oe&2)||e!==$e)&&(e===$e&&(!(oe&2)&&(Bl|=n),Ee===4&&dn(e,Ae)),tt(e,r),n===1&&oe===0&&!(t.mode&1)&&(Fr=ke()+500,Ol&&Mn()))}function tt(e,t){var n=e.callbackNode;yy(e,t);var r=ol(e,e===$e?Ae:0);if(r===0)n!==null&&Fu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Fu(n),t===1)e.tag===0?mx(Ld.bind(null,e)):G0(Ld.bind(null,e)),fx(function(){!(oe&6)&&Mn()}),n=null;else{switch(k0(r)){case 1:n=yc;break;case 4:n=x0;break;case 16:n=rl;break;case 536870912:n=v0;break;default:n=rl}n=Bh(n,Ih.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ih(e,t){if(Us=-1,Gs=0,oe&6)throw Error(W(327));var n=e.callbackNode;if($r()&&e.callbackNode!==n)return null;var r=ol(e,e===$e?Ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bl(e,r);else{t=r;var o=oe;oe|=2;var s=Fh();($e!==e||Ae!==t)&&(Ht=null,Fr=ke()+500,Un(e,t));do try{Ix();break}catch(i){zh(e,i)}while(!0);Mc(),vl.current=s,oe=o,be!==null?t=0:($e=null,Ae=0,t=Ee)}if(t!==0){if(t===2&&(o=fa(e),o!==0&&(r=o,t=Oa(e,o))),t===1)throw n=Bo,Un(e,0),dn(e,r),tt(e,ke()),n;if(t===6)dn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Dx(o)&&(t=bl(e,r),t===2&&(s=fa(e),s!==0&&(r=s,t=Oa(e,s))),t===1))throw n=Bo,Un(e,0),dn(e,r),tt(e,ke()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:zn(e,Ze,Ht);break;case 3:if(dn(e,r),(r&130023424)===r&&(t=Uc+500-ke(),10<t)){if(ol(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ue(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=wa(zn.bind(null,e,Ze,Ht),t);break}zn(e,Ze,Ht);break;case 4:if(dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-Et(r);s=1<<l,l=t[l],l>o&&(o=l),r&=~s}if(r=o,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ax(r/1960))-r,10<r){e.timeoutHandle=wa(zn.bind(null,e,Ze,Ht),r);break}zn(e,Ze,Ht);break;case 5:zn(e,Ze,Ht);break;default:throw Error(W(329))}}}return tt(e,ke()),e.callbackNode===n?Ih.bind(null,e):null}function Oa(e,t){var n=_o;return e.current.memoizedState.isDehydrated&&(Un(e,t).flags|=256),e=bl(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&Wa(t)),e}function Wa(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Dx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Ct(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~Bc,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Et(t),r=1<<n;e[n]=-1,t&=~r}}function Ld(e){if(oe&6)throw Error(W(327));$r();var t=ol(e,0);if(!(t&1))return tt(e,ke()),null;var n=bl(e,t);if(e.tag!==0&&n===2){var r=fa(e);r!==0&&(t=r,n=Oa(e,r))}if(n===1)throw n=Bo,Un(e,0),dn(e,t),tt(e,ke()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zn(e,Ze,Ht),tt(e,ke()),null}function Gc(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(Fr=ke()+500,Ol&&Mn())}}function Jn(e){pn!==null&&pn.tag===0&&!(oe&6)&&$r();var t=oe;oe|=1;var n=pt.transition,r=ie;try{if(pt.transition=null,ie=1,e)return e()}finally{ie=r,pt.transition=n,oe=t,!(oe&6)&&Mn()}}function Yc(){nt=br.current,fe(br)}function Un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dx(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(Cc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cl();break;case 3:Ir(),fe(Je),fe(We),Rc();break;case 5:Dc(r);break;case 4:Ir();break;case 13:fe(pe);break;case 19:fe(pe);break;case 10:Lc(r.type._context);break;case 22:case 23:Yc()}n=n.return}if($e=e,be=e=Nn(e.current,null),Ae=nt=t,Ee=0,Bo=null,Bc=Bl=Kn=0,Ze=_o=null,Wn!==null){for(t=0;t<Wn.length;t++)if(n=Wn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=o,r.next=l}n.pending=r}Wn=null}return e}function zh(e,t){do{var n=be;try{if(Mc(),Hs.current=xl,yl){for(var r=me.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}yl=!1}if(Qn=0,je=Se=me=null,So=!1,Wo=0,Vc.current=null,n===null||n.return===null){Ee=1,Bo=t,be=null;break}e:{var s=e,l=n.return,i=n,c=t;if(t=Ae,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=i,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=xd(l);if(g!==null){g.flags&=-257,vd(g,l,i,s,t),g.mode&1&&yd(s,u,t),t=g,c=u;var k=t.updateQueue;if(k===null){var x=new Set;x.add(c),t.updateQueue=x}else k.add(c);break e}else{if(!(t&1)){yd(s,u,t),Xc();break e}c=Error(W(426))}}else if(he&&i.mode&1){var E=xd(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),vd(E,l,i,s,t),jc(zr(c,i));break e}}s=c=zr(c,i),Ee!==4&&(Ee=2),_o===null?_o=[s]:_o.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=kh(s,c,t);dd(s,m);break e;case 1:i=c;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(kn===null||!kn.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=bh(s,i,t);dd(s,w);break e}}s=s.return}while(s!==null)}Wh(n)}catch(S){t=S,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function Fh(){var e=vl.current;return vl.current=xl,e===null?xl:e}function Xc(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),$e===null||!(Kn&268435455)&&!(Bl&268435455)||dn($e,Ae)}function bl(e,t){var n=oe;oe|=2;var r=Fh();($e!==e||Ae!==t)&&(Ht=null,Un(e,t));do try{Rx();break}catch(o){zh(e,o)}while(!0);if(Mc(),oe=n,vl.current=r,be!==null)throw Error(W(261));return $e=null,Ae=0,Ee}function Rx(){for(;be!==null;)Oh(be)}function Ix(){for(;be!==null&&!ay();)Oh(be)}function Oh(e){var t=Vh(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?Wh(e):be=t,Vc.current=null}function Wh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Mx(n,t),n!==null){n.flags&=32767,be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,be=null;return}}else if(n=$x(n,t,nt),n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Ee===0&&(Ee=5)}function zn(e,t,n){var r=ie,o=pt.transition;try{pt.transition=null,ie=1,zx(e,t,n,r)}finally{pt.transition=o,ie=r}return null}function zx(e,t,n,r){do $r();while(pn!==null);if(oe&6)throw Error(W(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(xy(e,s),e===$e&&(be=$e=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ns||(Ns=!0,Bh(rl,function(){return $r(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pt.transition,pt.transition=null;var l=ie;ie=1;var i=oe;oe|=4,Vc.current=null,Tx(e,n),Dh(n,e),ox(xa),sl=!!ya,xa=ya=null,e.current=n,Px(n),cy(),oe=i,ie=l,pt.transition=s}else e.current=n;if(Ns&&(Ns=!1,pn=e,kl=o),s=e.pendingLanes,s===0&&(kn=null),fy(n.stateNode),tt(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(wl)throw wl=!1,e=za,za=null,e;return kl&1&&e.tag!==0&&$r(),s=e.pendingLanes,s&1?e===Fa?Co++:(Co=0,Fa=e):Co=0,Mn(),null}function $r(){if(pn!==null){var e=k0(kl),t=pt.transition,n=ie;try{if(pt.transition=null,ie=16>e?16:e,pn===null)var r=!1;else{if(e=pn,pn=null,kl=0,oe&6)throw Error(W(331));var o=oe;for(oe|=4,U=e.current;U!==null;){var s=U,l=s.child;if(U.flags&16){var i=s.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Eo(8,d,s)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var f=d.sibling,g=d.return;if(Th(d),d===u){U=null;break}if(f!==null){f.return=g,U=f;break}U=g}}}var k=s.alternate;if(k!==null){var x=k.child;if(x!==null){k.child=null;do{var E=x.sibling;x.sibling=null,x=E}while(x!==null)}}U=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,U=l;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Eo(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,U=m;break e}U=s.return}}var y=e.current;for(U=y;U!==null;){l=U;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,U=v;else e:for(l=y;U!==null;){if(i=U,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Vl(9,i)}}catch(S){xe(i,i.return,S)}if(i===l){U=null;break e}var w=i.sibling;if(w!==null){w.return=i.return,U=w;break e}U=i.return}}if(oe=o,Mn(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Dl,e)}catch{}r=!0}return r}finally{ie=n,pt.transition=t}}return!1}function Td(e,t,n){t=zr(n,t),t=kh(e,t,1),e=wn(e,t,1),t=Ue(),e!==null&&(ts(e,1,t),tt(e,t))}function xe(e,t,n){if(e.tag===3)Td(e,e,n);else for(;t!==null;){if(t.tag===3){Td(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kn===null||!kn.has(r))){e=zr(n,e),e=bh(t,e,1),t=wn(t,e,1),e=Ue(),t!==null&&(ts(t,1,e),tt(t,e));break}}t=t.return}}function Fx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Ae&n)===n&&(Ee===4||Ee===3&&(Ae&130023424)===Ae&&500>ke()-Uc?Un(e,0):Bc|=n),tt(e,t)}function Hh(e,t){t===0&&(e.mode&1?(t=hs,hs<<=1,!(hs&130023424)&&(hs=4194304)):t=1);var n=Ue();e=Kt(e,t),e!==null&&(ts(e,t,n),tt(e,n))}function Ox(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hh(e,n)}function Wx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),Hh(e,n)}var Vh;Vh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,jx(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,he&&t.flags&1048576&&Y0(t,fl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bs(e,t),e=t.pendingProps;var o=Ar(t,We.current);jr(t,n),o=zc(null,t,r,e,o,n);var s=Fc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(r)?(s=!0,ul(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Pc(t),o.updater=Hl,t.stateNode=o,o._reactInternals=t,Ca(t,r,e,n),t=Ma(null,t,r,!0,s,n)):(t.tag=0,he&&s&&_c(t),Be(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Vx(r),e=wt(r,e),o){case 0:t=$a(null,t,r,e,n);break e;case 1:t=bd(null,t,r,e,n);break e;case 11:t=wd(null,t,r,e,n);break e;case 14:t=kd(null,t,r,wt(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:wt(r,o),$a(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:wt(r,o),bd(e,t,r,o,n);case 3:e:{if(_h(t),e===null)throw Error(W(387));r=t.pendingProps,s=t.memoizedState,o=s.element,J0(e,t),pl(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=zr(Error(W(423)),t),t=Nd(e,t,r,n,o);break e}else if(r!==o){o=zr(Error(W(424)),t),t=Nd(e,t,r,n,o);break e}else for(rt=vn(t.stateNode.containerInfo.firstChild),ot=t,he=!0,Nt=null,n=Q0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dr(),r===o){t=Jt(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return eh(t),e===null&&Sa(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,l=o.children,va(r,o)?l=null:s!==null&&va(r,s)&&(t.flags|=32),Eh(e,t),Be(e,t,l,n),t.child;case 6:return e===null&&Sa(t),null;case 13:return Ch(e,t,n);case 4:return Ac(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rr(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:wt(r,o),wd(e,t,r,o,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,l=o.value,ae(hl,r._currentValue),r._currentValue=l,s!==null)if(Ct(s.value,l)){if(s.children===o.children&&!Je.current){t=Jt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){l=s.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Yt(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Ea(s.return,n,t),i.lanes|=n;break}c=c.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(W(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),Ea(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Be(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,jr(t,n),o=mt(o),r=r(o),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,o=wt(r,t.pendingProps),o=wt(r.type,o),kd(e,t,r,o,n);case 15:return Nh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:wt(r,o),Bs(e,t),t.tag=1,et(r)?(e=!0,ul(t)):e=!1,jr(t,n),wh(t,r,o),Ca(t,r,o,n),Ma(null,t,r,!0,e,n);case 19:return jh(e,t,n);case 22:return Sh(e,t,n)}throw Error(W(156,t.tag))};function Bh(e,t){return y0(e,t)}function Hx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,r){return new Hx(e,t,n,r)}function qc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vx(e){if(typeof e=="function")return qc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gc)return 11;if(e===pc)return 14}return 2}function Nn(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ys(e,t,n,r,o,s){var l=2;if(r=e,typeof e=="function")qc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case fr:return Gn(n.children,o,s,t);case hc:l=8,o|=8;break;case Qi:return e=ht(12,n,t,o|2),e.elementType=Qi,e.lanes=s,e;case Ki:return e=ht(13,n,t,o),e.elementType=Ki,e.lanes=s,e;case Ji:return e=ht(19,n,t,o),e.elementType=Ji,e.lanes=s,e;case e0:return Ul(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kf:l=10;break e;case Jf:l=9;break e;case gc:l=11;break e;case pc:l=14;break e;case sn:l=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=ht(l,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Gn(e,t,n,r){return e=ht(7,e,r,t),e.lanes=n,e}function Ul(e,t,n,r){return e=ht(22,e,r,t),e.elementType=e0,e.lanes=n,e.stateNode={isHidden:!1},e}function Ti(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function Pi(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bx(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hi(0),this.expirationTimes=hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Zc(e,t,n,r,o,s,l,i,c){return e=new Bx(e,t,n,i,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ht(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(s),e}function Ux(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Uh(e){if(!e)return _n;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(et(n))return U0(e,n,t)}return t}function Gh(e,t,n,r,o,s,l,i,c){return e=Zc(n,r,!0,e,o,s,l,i,c),e.context=Uh(null),n=e.current,r=Ue(),o=bn(n),s=Yt(r,o),s.callback=t??null,wn(n,s,o),e.current.lanes=o,ts(e,o,r),tt(e,r),e}function Gl(e,t,n,r){var o=t.current,s=Ue(),l=bn(o);return n=Uh(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=wn(o,t,l),e!==null&&(_t(e,o,l,s),Ws(e,o,l)),l}function Nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qc(e,t){Pd(e,t),(e=e.alternate)&&Pd(e,t)}function Gx(){return null}var Yh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}Yl.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Gl(e,t,null,null)};Yl.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jn(function(){Gl(null,e,null,null)}),t[Qt]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=S0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&_0(e)}};function Jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ad(){}function Yx(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=Nl(l);s.call(u)}}var l=Gh(t,r,e,0,null,!1,!1,"",Ad);return e._reactRootContainer=l,e[Qt]=l.current,Ro(e.nodeType===8?e.parentNode:e),Jn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var i=r;r=function(){var u=Nl(c);i.call(u)}}var c=Zc(e,0,!1,null,null,!1,!1,"",Ad);return e._reactRootContainer=c,e[Qt]=c.current,Ro(e.nodeType===8?e.parentNode:e),Jn(function(){Gl(t,c,n,r)}),c}function ql(e,t,n,r,o){var s=n._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var i=o;o=function(){var c=Nl(l);i.call(c)}}Gl(t,l,e,o)}else l=Yx(n,t,e,o,r);return Nl(l)}b0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=go(t.pendingLanes);n!==0&&(xc(t,n|1),tt(t,ke()),!(oe&6)&&(Fr=ke()+500,Mn()))}break;case 13:Jn(function(){var r=Kt(e,1);if(r!==null){var o=Ue();_t(r,e,1,o)}}),Qc(e,1)}};vc=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var n=Ue();_t(t,e,134217728,n)}Qc(e,134217728)}};N0=function(e){if(e.tag===13){var t=bn(e),n=Kt(e,t);if(n!==null){var r=Ue();_t(n,e,t,r)}Qc(e,t)}};S0=function(){return ie};E0=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};ca=function(e,t,n){switch(t){case"input":if(na(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Fl(r);if(!o)throw Error(W(90));n0(r),na(r,o)}}}break;case"textarea":o0(e,n);break;case"select":t=n.value,t!=null&&Sr(e,!!n.multiple,t,!1)}};d0=Gc;f0=Jn;var Xx={usingClientEntryPoint:!1,Events:[rs,mr,Fl,c0,u0,Gc]},oo={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qx={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=p0(e),e===null?null:e.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||Gx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{Dl=Ss.inject(qx),Dt=Ss}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xx;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jc(t))throw Error(W(200));return Ux(e,t,null,n)};at.createRoot=function(e,t){if(!Jc(e))throw Error(W(299));var n=!1,r="",o=Yh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Zc(e,1,!1,null,null,n,!1,r,o),e[Qt]=t.current,Ro(e.nodeType===8?e.parentNode:e),new Kc(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=p0(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return Jn(e)};at.hydrate=function(e,t,n){if(!Xl(t))throw Error(W(200));return ql(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",l=Yh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Gh(t,null,e,1,n??null,o,!1,s,l),e[Qt]=t.current,Ro(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yl(t)};at.render=function(e,t,n){if(!Xl(t))throw Error(W(200));return ql(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(W(40));return e._reactRootContainer?(Jn(function(){ql(null,null,e,!1,function(){e._reactRootContainer=null,e[Qt]=null})}),!0):!1};at.unstable_batchedUpdates=Gc;at.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return ql(e,t,n,!1,r)};at.version="18.3.1-next-f1338f8080-20240426";function Xh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xh)}catch(e){console.error(e)}}Xh(),Xf.exports=at;var Zx=Xf.exports,Dd=Zx;qi.createRoot=Dd.createRoot,qi.hydrateRoot=Dd.hydrateRoot;const Ai="http://localhost:8000",qh=p.createContext(void 0),Qx=({children:e})=>{const[t,n]=p.useState({user:null,token:null,isAuthenticated:!1,loading:!0,error:null});p.useEffect(()=>{(async()=>{try{const u=localStorage.getItem("auth_token");if(console.log("AuthContext: Initializing auth, token exists:",!!u),u){console.log("AuthContext: Verifying token with /auth/me");const d=await fetch(`${Ai}/auth/me`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(d.ok){const h=await d.json();console.log("AuthContext: Token valid, user:",h),n({user:h,token:u,isAuthenticated:!0,loading:!1,error:null})}else console.log("AuthContext: Token invalid, response status:",d.status),localStorage.removeItem("auth_token"),n(h=>({...h,loading:!1}))}else console.log("AuthContext: No token found, setting loading to false"),n(d=>({...d,loading:!1}))}catch(u){console.error("Auth initialization error:",u),localStorage.removeItem("auth_token"),n(d=>({...d,loading:!1,error:"Failed to initialize authentication"}))}})()},[]);const i={...t,login:async c=>{n(u=>({...u,loading:!0,error:null}));try{const u=await fetch(`${Ai}/auth/login-json`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),d=await u.json();if(!u.ok)throw new Error(d.detail||"Login failed");const{access_token:h,user:f}=d;localStorage.setItem("auth_token",h),n({user:f,token:h,isAuthenticated:!0,loading:!1,error:null})}catch(u){const d=u instanceof Error?u.message:"Login failed";throw n(h=>({...h,loading:!1,error:d})),u}},register:async c=>{n(u=>({...u,loading:!0,error:null}));try{const u=await fetch(`${Ai}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),d=await u.json();if(!u.ok)throw new Error(d.detail||"Registration failed");const{access_token:h,user:f}=d;localStorage.setItem("auth_token",h),n({user:f,token:h,isAuthenticated:!0,loading:!1,error:null})}catch(u){const d=u instanceof Error?u.message:"Registration failed";throw n(h=>({...h,loading:!1,error:d})),u}},logout:()=>{localStorage.removeItem("auth_token"),n({user:null,token:null,isAuthenticated:!1,loading:!1,error:null})},clearError:()=>{n(c=>({...c,error:null}))}};return a.jsx(qh.Provider,{value:i,children:e})},eu=()=>{const e=p.useContext(qh);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},tu=({children:e,onClick:t,type:n="button",variant:r="primary",size:o="md",disabled:s=!1,loading:l=!1,className:i=""})=>{const c="inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200",u={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",ghost:"bg-transparent hover:bg-gray-100 text-gray-700 focus:ring-gray-500",outline:"bg-transparent border border-gray-300 hover:bg-gray-50 text-gray-700 focus:ring-gray-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},h=s||l?"opacity-50 cursor-not-allowed":"",f=`${c} ${u[r]} ${d[o]} ${h} ${i}`;return a.jsxs("button",{type:n,onClick:t,disabled:s||l,className:f,children:[l&&a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e]})},fn=p.forwardRef(({label:e,error:t,helperText:n,className:r="",...o},s)=>{const c=`block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${t?"border-red-300 focus:ring-red-500 focus:border-red-500":""} ${r}`;return a.jsxs("div",{children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),a.jsx("input",{ref:s,className:c,...o}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),n&&!t&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})});fn.displayName="Input";const Kx=({onLogin:e,onSwitchToRegister:t,loading:n=!1,error:r})=>{const[o,s]=p.useState(""),[l,i]=p.useState(""),[c,u]=p.useState(""),d=async h=>{if(h.preventDefault(),u(""),!o.trim()){u("Username is required");return}if(!l){u("Password is required");return}try{await e(o.trim(),l)}catch{}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to EmbeddedChat"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx("button",{type:"button",onClick:t,className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(fn,{label:"Username",type:"text",value:o,onChange:h=>s(h.target.value),placeholder:"Enter your username",required:!0}),a.jsx(fn,{label:"Password",type:"password",value:l,onChange:h=>i(h.target.value),placeholder:"Enter your password",required:!0})]}),(r||c)&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("p",{className:"text-sm text-red-600",children:r||c})}),a.jsx(tu,{type:"submit",variant:"primary",size:"lg",loading:n,className:"w-full",children:n?"Signing in...":"Sign in"})]})]})})},Jx=({onRegister:e,onSwitchToLogin:t,loading:n=!1,error:r})=>{const[o,s]=p.useState({username:"",email:"",password:"",full_name:""}),[l,i]=p.useState(""),[c,u]=p.useState({}),d=()=>{const g={};return o.username.trim()?o.username.length<3&&(g.username="Username must be at least 3 characters"):g.username="Username is required",o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(g.email="Please enter a valid email address"):g.email="Email is required",o.password?o.password.length<8&&(g.password="Password must be at least 8 characters"):g.password="Password is required",o.password!==l&&(g.confirmPassword="Passwords do not match"),u(g),Object.keys(g).length===0},h=async g=>{if(g.preventDefault(),!!d())try{await e(o)}catch{}},f=(g,k)=>{s(x=>({...x,[g]:k})),c[g]&&u(x=>({...x,[g]:""}))};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx("button",{type:"button",onClick:t,className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(fn,{label:"Username",type:"text",value:o.username,onChange:g=>f("username",g.target.value),placeholder:"Choose a username",error:c.username,required:!0}),a.jsx(fn,{label:"Email",type:"email",value:o.email,onChange:g=>f("email",g.target.value),placeholder:"Enter your email",error:c.email,required:!0}),a.jsx(fn,{label:"Full Name (Optional)",type:"text",value:o.full_name,onChange:g=>f("full_name",g.target.value),placeholder:"Enter your full name"}),a.jsx(fn,{label:"Password",type:"password",value:o.password,onChange:g=>f("password",g.target.value),placeholder:"Create a password",error:c.password,helperText:"Must be at least 8 characters",required:!0}),a.jsx(fn,{label:"Confirm Password",type:"password",value:l,onChange:g=>{i(g.target.value),c.confirmPassword&&u(k=>({...k,confirmPassword:""}))},placeholder:"Confirm your password",error:c.confirmPassword,required:!0})]}),r&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("p",{className:"text-sm text-red-600",children:r})}),a.jsx(tu,{type:"submit",variant:"primary",size:"lg",loading:n,className:"w-full",children:n?"Creating account...":"Create account"})]})]})})},e1=({message:e,type:t="info",duration:n=5e3,onClose:r})=>{p.useEffect(()=>{const i=setTimeout(()=>{r()},n);return()=>clearTimeout(i)},[n,r]);const o=()=>{const i="fixed top-4 right-4 z-50 max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5";switch(t){case"success":return`${i} border-l-4 border-green-400`;case"error":return`${i} border-l-4 border-red-400`;case"warning":return`${i} border-l-4 border-yellow-400`;case"info":default:return`${i} border-l-4 border-blue-400`}},s=()=>{switch(t){case"success":return"text-green-400";case"error":return"text-red-400";case"warning":return"text-yellow-400";case"info":default:return"text-blue-400"}},l=()=>{switch(t){case"success":return a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":default:return a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return a.jsxs("div",{className:o(),children:[a.jsx("div",{className:"flex-1 w-0 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`flex-shrink-0 ${s()}`,children:l()}),a.jsx("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e})})]})}),a.jsx("div",{className:"flex border-l border-gray-200",children:a.jsx("button",{onClick:r,className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-gray-600 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Close"})})]})},t1=({onAuthSuccess:e})=>{const[t,n]=p.useState(!0),[r,o]=p.useState(!1),[s,l]=p.useState(""),[i,c]=p.useState("success"),{login:u,register:d,loading:h,error:f,clearError:g}=eu(),k=w=>{l(w),c("success"),o(!0)},x=w=>{l(w),c("error"),o(!0)},E=async(w,S)=>{try{g(),await u({username:w,password:S}),k("Welcome back! You have been logged in successfully."),e==null||e()}catch(N){const j=N instanceof Error?N.message:typeof N=="string"?N:"Login failed. Please try again.";x(j)}},m=async w=>{try{g(),await d(w),k("Account created successfully! Welcome to EmbeddedChat."),e==null||e()}catch(S){const N=S instanceof Error?S.message:typeof S=="string"?S:"Registration failed. Please try again.";x(N)}},y=()=>{g(),n(!1)},v=()=>{g(),n(!0)};return a.jsxs(a.Fragment,{children:[t?a.jsx(Kx,{onLogin:E,onSwitchToRegister:y,loading:h,error:f||void 0}):a.jsx(Jx,{onRegister:m,onSwitchToLogin:v,loading:h,error:f||void 0}),r&&a.jsx(e1,{message:s,type:i,onClose:()=>o(!1)})]})};function n1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const r1=p.forwardRef(n1);function o1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const s1=p.forwardRef(o1);function l1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const i1=p.forwardRef(l1);function a1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const Zh=p.forwardRef(a1);function c1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Xs=p.forwardRef(c1);function u1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const Qh=p.forwardRef(u1);function d1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Kh=p.forwardRef(d1);function f1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Rd=p.forwardRef(f1);function h1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Jh=p.forwardRef(h1);function g1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const p1=p.forwardRef(g1);function m1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const y1=p.forwardRef(m1);function x1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"}))}const Ha=p.forwardRef(x1);function v1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nu=p.forwardRef(v1);function w1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const Id=p.forwardRef(w1);function k1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9.75 16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z"}))}const b1=p.forwardRef(k1);function N1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const S1=p.forwardRef(N1);function E1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const qs=p.forwardRef(E1);function _1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const C1=p.forwardRef(_1);function j1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const zd=p.forwardRef(j1);function $1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const M1=p.forwardRef($1);function L1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const eg=p.forwardRef(L1);function T1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const P1=p.forwardRef(T1);function A1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const tg=p.forwardRef(A1);function D1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const R1=p.forwardRef(D1);function I1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const Va=p.forwardRef(I1);function z1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Uo=p.forwardRef(z1);function F1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const O1=p.forwardRef(F1);function W1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const H1=p.forwardRef(W1);function V1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Sl=p.forwardRef(V1);function B1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const U1=p.forwardRef(B1);function G1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const ng=p.forwardRef(G1);function Y1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const X1=p.forwardRef(Y1);function q1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Z1=p.forwardRef(q1);function Q1({title:e,titleId:t,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const rg=p.forwardRef(Q1),og=p.createContext(void 0),zt=()=>{const e=p.useContext(og);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},K1=({children:e})=>{const[t,n]=p.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),r=()=>{const s=t==="light"?"dark":"light";n(s),localStorage.setItem("theme",s)};p.useEffect(()=>{const s=document.documentElement;t==="dark"?s.classList.add("dark"):s.classList.remove("dark")},[t]);const o={theme:t,toggleTheme:r,isDark:t==="dark"};return a.jsx(og.Provider,{value:o,children:e})},so=({children:e,className:t="",hover:n=!0,onClick:r,gradient:o=!1})=>{const{isDark:s}=zt(),l=`
    rounded-xl border transition-all duration-300 ease-in-out
    ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}
    ${n?"hover:shadow-lg hover:scale-[1.02] hover:-translate-y-1":""}
    ${r?"cursor-pointer":""}
    ${o?s?"bg-gradient-to-br from-gray-800 to-gray-900":"bg-gradient-to-br from-white to-gray-50":""}
  `;return a.jsx("div",{className:`${l} ${t}`,onClick:r,children:e})},Di="http://localhost:8000/api/v1";class J1{async fetchWithAuth(t,n={}){const r=localStorage.getItem("auth_token"),o=await fetch(`${Di}${t}`,{...n,headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...n.headers}});if(!o.ok)throw new Error(`API Error: ${o.status}`);return o.json()}async getDashboardStats(){try{console.log("DashboardService: Fetching stats from",`${Di}/dashboard/stats`);const t=await this.fetchWithAuth("/dashboard/stats");console.log("DashboardService: Raw API response:",t);const n={activeChats:t.active_chats||0,totalDocuments:t.total_documents||0,totalWorkflows:t.total_workflows||0,teamMembers:t.team_members||1,chatGrowth:t.chat_growth||"No data",documentGrowth:t.document_growth||"No data",workflowGrowth:t.workflow_growth||"No data",memberGrowth:t.member_growth||"No change"};return console.log("DashboardService: Converted stats:",n),n}catch(t){console.error("Failed to fetch dashboard stats:",t);const n={activeChats:0,totalDocuments:0,totalWorkflows:0,teamMembers:1,chatGrowth:"No data",documentGrowth:"No data",workflowGrowth:"No data",memberGrowth:"No change"};return console.log("DashboardService: Using fallback stats:",n),n}}async getRecentActivity(){try{console.log("DashboardService: Fetching activity from",`${Di}/dashboard/activity`);const t=await this.fetchWithAuth("/dashboard/activity");return console.log("DashboardService: Activity response:",t),t}catch(t){return console.error("Failed to fetch recent activity:",t),console.log("DashboardService: Using empty activity array as fallback"),[]}}async getUserSessions(){try{return await this.fetchWithAuth("/chat/sessions")}catch(t){return console.error("Failed to fetch user sessions:",t),[]}}async getDocuments(){try{return await this.fetchWithAuth("/documents")}catch(t){return console.error("Failed to fetch documents:",t),[]}}}const Fd=new J1,sg=p.createContext(void 0),lg=()=>{const e=p.useContext(sg);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},ev=({children:e})=>{const[t,n]=p.useState([]),r=p.useCallback(l=>{const i=Math.random().toString(36).substring(2,9),c={...l,id:i};n(d=>[...d,c]);const u=l.duration??5e3;u>0&&setTimeout(()=>{o(i)},u)},[]),o=p.useCallback(l=>{n(i=>i.filter(c=>c.id!==l))},[]),s=p.useCallback(()=>{n([])},[]);return a.jsxs(sg.Provider,{value:{notifications:t,addNotification:r,removeNotification:o,clearAll:s},children:[e,a.jsx(tv,{})]})},tv=()=>{const{notifications:e,removeNotification:t}=lg(),{isDark:n}=zt(),r=s=>{const l="w-6 h-6";switch(s){case"success":return a.jsx(Jh,{className:`${l} text-green-500`});case"error":return a.jsx(Z1,{className:`${l} text-red-500`});case"warning":return a.jsx(eg,{className:`${l} text-yellow-500`});case"info":return a.jsx(R1,{className:`${l} text-blue-500`})}},o=s=>{switch(s){case"success":return"border-l-green-500";case"error":return"border-l-red-500";case"warning":return"border-l-yellow-500";case"info":return"border-l-blue-500"}};return e.length===0?null:a.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:e.map(s=>a.jsx("div",{className:`
            ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}
            border-l-4 ${o(s.type)} rounded-r-lg shadow-lg
            transform transition-all duration-300 ease-in-out
            animate-in slide-in-from-right-2
          `,children:a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:r(s.type)}),a.jsxs("div",{className:"ml-3 flex-1",children:[a.jsx("h3",{className:`text-sm font-medium ${n?"text-gray-100":"text-gray-900"}`,children:s.title}),s.message&&a.jsx("p",{className:`mt-1 text-sm ${n?"text-gray-300":"text-gray-600"}`,children:s.message}),s.action&&a.jsx("div",{className:"mt-2",children:a.jsx("button",{onClick:s.action.onClick,className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:s.action.label})})]}),a.jsx("button",{onClick:()=>t(s.id),className:"ml-4 inline-flex text-gray-400 hover:text-gray-600 focus:outline-none",children:a.jsx(rg,{className:"w-5 h-5"})})]})})},s.id))})},Od=({user:e,onModuleChange:t=()=>{}})=>{const{isDark:n}=zt(),[r,o]=p.useState(null),[s,l]=p.useState([]),[i,c]=p.useState(!0);p.useEffect(()=>{(async()=>{if(!e){console.log("Dashboard: No user, setting loading to false"),c(!1);return}console.log("Dashboard: Fetching data for user:",e.username),c(!0);try{const[E,m]=await Promise.all([Fd.getDashboardStats(),Fd.getRecentActivity()]);console.log("Dashboard: Got stats data:",E),console.log("Dashboard: Got activity data:",m),o(E),l(m)}catch(E){console.error("Failed to fetch dashboard data:",E);const m={activeChats:0,totalDocuments:0,totalWorkflows:0,teamMembers:1,chatGrowth:"0%",documentGrowth:"0%",workflowGrowth:"0%",memberGrowth:"0%"};console.log("Dashboard: Using fallback data:",m),o(m),l([])}finally{c(!1)}})()},[e]);const u=x=>{const E=new Date(x),y=new Date().getTime()-E.getTime(),v=Math.floor(y/6e4),w=Math.floor(y/36e5),S=Math.floor(y/864e5);return v<1?"Just now":v<60?`${v} minutes ago`:w<24?`${w} hours ago`:`${S} days ago`},d=()=>r?[{title:"Active Chats",value:r.activeChats,change:r.chatGrowth||"No data",trend:r.chatGrowth&&r.chatGrowth.includes("+")?"up":r.chatGrowth&&r.chatGrowth.includes("-")?"down":"neutral",icon:Rd,color:"blue"},{title:"Documents",value:r.totalDocuments,change:r.documentGrowth||"No data",trend:r.documentGrowth&&r.documentGrowth.includes("+")?"up":r.documentGrowth&&r.documentGrowth.includes("-")?"down":"neutral",icon:zd,color:"green"},{title:"Workflows",value:r.totalWorkflows,change:r.workflowGrowth||"No data",trend:r.workflowGrowth&&r.workflowGrowth.includes("+")?"up":r.workflowGrowth&&r.workflowGrowth.includes("-")?"down":"neutral",icon:Sl,color:"purple"},{title:"Team Members",value:r.teamMembers,change:r.memberGrowth||"No change",trend:r.memberGrowth&&r.memberGrowth.includes("+")?"up":r.memberGrowth&&r.memberGrowth.includes("-")?"down":"neutral",icon:X1,color:"orange"}]:[],h=[{id:"new-chat",title:"Start New Chat",description:"Begin a conversation with AI assistance",icon:Rd,color:"blue",action:"chat"},{id:"upload-doc",title:"Upload Document",description:"Add new documents to your knowledge base",icon:zd,color:"green",action:"upload"},{id:"create-workflow",title:"Create Workflow",description:"Design automated processes",icon:Sl,color:"purple",action:"designer"},{id:"view-analytics",title:"View Analytics",description:"Check performance metrics and insights",icon:Kh,color:"indigo",action:"analytics"}],{addNotification:f}=lg(),g=x=>({blue:"bg-blue-500 text-blue-100",green:"bg-green-500 text-green-100",purple:"bg-purple-500 text-purple-100",orange:"bg-orange-500 text-orange-100",indigo:"bg-indigo-500 text-indigo-100"})[x]||"bg-gray-500 text-gray-100",k=(x,E)=>{f({type:"info",title:`Opening ${E}`,message:"Redirecting to the selected module...",duration:2e3}),t(x)};return e?a.jsxs("div",{className:`h-full overflow-auto p-6 space-y-6 transition-colors duration-300 ${n?"bg-gray-900":"bg-gray-50"}`,children:[a.jsx(so,{gradient:!0,className:"p-6 text-white bg-gradient-to-r from-blue-600 to-purple-600",children:a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",(e==null?void 0:e.username)||"User","! 👋"]}),a.jsx("p",{className:"text-blue-100",children:"Here's what's happening with your EmbeddedChat workspace today."})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i?Array.from({length:4}).map((x,E)=>a.jsx(so,{className:"p-6 animate-pulse",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:`h-4 rounded mb-2 ${n?"bg-gray-700":"bg-gray-200"}`}),a.jsx("div",{className:`h-8 rounded mb-2 ${n?"bg-gray-700":"bg-gray-200"}`}),a.jsx("div",{className:`h-4 rounded w-16 ${n?"bg-gray-700":"bg-gray-200"}`})]}),a.jsx("div",{className:`w-12 h-12 rounded-full ${n?"bg-gray-700":"bg-gray-200"}`})]})},E)):d().map((x,E)=>a.jsx(so,{className:"p-6 animate-slide-up",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${n?"text-gray-400":"text-gray-600"}`,children:x.title}),a.jsx("p",{className:`text-2xl font-bold mt-1 ${n?"text-gray-100":"text-gray-900"}`,children:x.value}),a.jsxs("div",{className:"flex items-center mt-2",children:[x.trend==="up"&&a.jsx(i1,{className:"w-4 h-4 text-green-500 mr-1"}),x.trend==="down"&&a.jsx(s1,{className:"w-4 h-4 text-red-500 mr-1"}),a.jsx("span",{className:`text-sm ${x.trend==="up"?"text-green-600":x.trend==="down"?"text-red-600":"text-gray-500"}`,children:x.change})]})]}),a.jsx("div",{className:`p-3 rounded-full ${g(x.color)} animate-bounce-subtle`,children:a.jsx(x.icon,{className:"w-6 h-6"})})]})},E))}),a.jsxs(so,{className:"animate-slide-up",children:[a.jsxs("div",{className:`p-6 border-b ${n?"border-gray-700":"border-gray-200"}`,children:[a.jsx("h2",{className:`text-lg font-semibold ${n?"text-gray-100":"text-gray-900"}`,children:"Quick Actions"}),a.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:"Get started with common tasks"})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:h.map(x=>a.jsxs("div",{className:`group p-4 border rounded-lg transition-all cursor-pointer hover:scale-105 ${n?"border-gray-600 hover:border-gray-500 hover:shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,onClick:()=>k(x.action,x.title),children:[a.jsx("div",{className:`inline-flex p-3 rounded-lg ${g(x.color)} mb-3 group-hover:scale-110 transition-transform`,children:a.jsx(x.icon,{className:"w-6 h-6"})}),a.jsx("h3",{className:`font-medium transition-colors ${n?"text-gray-100 group-hover:text-blue-400":"text-gray-900 group-hover:text-blue-600"}`,children:x.title}),a.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:x.description})]},x.id))})})]}),a.jsxs(so,{className:"animate-slide-up",children:[a.jsxs("div",{className:`p-6 border-b ${n?"border-gray-700":"border-gray-200"}`,children:[a.jsx("h2",{className:`text-lg font-semibold ${n?"text-gray-100":"text-gray-900"}`,children:"Recent Activity"}),a.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:"Latest updates from your workspace"})]}),a.jsx("div",{className:`divide-y ${n?"divide-gray-700":"divide-gray-200"}`,children:i?Array.from({length:3}).map((x,E)=>a.jsx("div",{className:"p-6 animate-pulse",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`w-5 h-5 rounded-full ${n?"bg-gray-700":"bg-gray-200"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:`h-4 rounded mb-2 ${n?"bg-gray-700":"bg-gray-200"}`}),a.jsx("div",{className:`h-4 rounded mb-2 w-3/4 ${n?"bg-gray-700":"bg-gray-200"}`}),a.jsx("div",{className:`h-3 rounded w-20 ${n?"bg-gray-700":"bg-gray-200"}`})]})]})},E)):s.length>0?s.map(x=>a.jsx("div",{className:`p-6 transition-colors hover:${n?"bg-gray-700":"bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:x.status==="success"?a.jsx(Jh,{className:"w-5 h-5 text-green-500"}):x.status==="error"?a.jsx(eg,{className:"w-5 h-5 text-red-500"}):a.jsx(nu,{className:"w-5 h-5 text-gray-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-medium ${n?"text-gray-100":"text-gray-900"}`,children:x.title}),a.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:x.description}),a.jsx("p",{className:"text-xs mt-2 text-gray-500",children:u(x.timestamp)})]})]})},x.id)):a.jsx("div",{className:"p-6 text-center",children:a.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"No recent activity to display"})})}),a.jsx("div",{className:`p-6 border-t ${n?"border-gray-700 bg-gray-800":"border-gray-200 bg-gray-50"}`,children:a.jsx(tu,{variant:"ghost",className:"w-full justify-center",onClick:()=>t("analytics"),children:"View All Activity"})})]})]}):a.jsx("div",{className:`p-6 min-h-screen flex items-center justify-center transition-colors duration-300 ${n?"bg-gray-900":"bg-gray-50"}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:`mt-4 ${n?"text-gray-300":"text-gray-600"}`,children:"Loading user data..."})]})})},nv=({enabled:e,onChange:t,size:n="md",label:r,description:o})=>{const{isDark:s}=zt(),i={sm:{container:"w-8 h-4",circle:"w-3 h-3",translate:"translate-x-4"},md:{container:"w-11 h-6",circle:"w-5 h-5",translate:"translate-x-5"},lg:{container:"w-14 h-7",circle:"w-6 h-6",translate:"translate-x-7"}}[n];return a.jsxs("div",{className:"flex items-center justify-between",children:[(r||o)&&a.jsxs("div",{className:"flex-1 mr-4",children:[r&&a.jsx("div",{className:`text-sm font-medium ${s?"text-gray-200":"text-gray-900"}`,children:r}),o&&a.jsx("div",{className:`text-xs ${s?"text-gray-400":"text-gray-500"}`,children:o})]}),a.jsx("button",{type:"button",className:`
          relative inline-flex flex-shrink-0 ${i.container} 
          border-2 border-transparent rounded-full cursor-pointer 
          transition-colors ease-in-out duration-200 focus:outline-none 
          focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
          ${e?"bg-blue-600":s?"bg-gray-600":"bg-gray-200"}
        `,onClick:()=>t(!e),children:a.jsx("span",{className:`
            ${i.circle} pointer-events-none inline-block 
            rounded-full bg-white shadow transform ring-0 
            transition ease-in-out duration-200
            ${e?i.translate:"translate-x-0"}
          `})})]})};function Re(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Re(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var ig={exports:{}},ag={},cg={exports:{}},ug={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=p;function rv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ov=typeof Object.is=="function"?Object.is:rv,sv=Or.useState,lv=Or.useEffect,iv=Or.useLayoutEffect,av=Or.useDebugValue;function cv(e,t){var n=t(),r=sv({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return iv(function(){o.value=n,o.getSnapshot=t,Ri(o)&&s({inst:o})},[e,n,t]),lv(function(){return Ri(o)&&s({inst:o}),e(function(){Ri(o)&&s({inst:o})})},[e]),av(n),n}function Ri(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ov(e,n)}catch{return!0}}function uv(e,t){return t()}var dv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uv:cv;ug.useSyncExternalStore=Or.useSyncExternalStore!==void 0?Or.useSyncExternalStore:dv;cg.exports=ug;var fv=cg.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=p,hv=fv;function gv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pv=typeof Object.is=="function"?Object.is:gv,mv=hv.useSyncExternalStore,yv=Zl.useRef,xv=Zl.useEffect,vv=Zl.useMemo,wv=Zl.useDebugValue;ag.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=yv(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=vv(function(){function c(g){if(!u){if(u=!0,d=g,g=r(g),o!==void 0&&l.hasValue){var k=l.value;if(o(k,g))return h=k}return h=g}if(k=h,pv(d,g))return k;var x=r(g);return o!==void 0&&o(k,x)?(d=g,k):(d=g,h=x)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,o]);var i=mv(e,s[0],s[1]);return xv(function(){l.hasValue=!0,l.value=i},[i]),wv(i),i};ig.exports=ag;var kv=ig.exports;const bv=Rf(kv),Nv={},Wd=e=>{let t;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const g=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(k=>k(t,g))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Nv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,c);return c},Sv=e=>e?Wd(e):Wd,{useDebugValue:Ev}=D,{useSyncExternalStoreWithSelector:_v}=bv,Cv=e=>e;function dg(e,t=Cv,n){const r=_v(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ev(r),r}const Hd=(e,t)=>{const n=Sv(e),r=(o,s=t)=>dg(n,o,s);return Object.assign(r,n),r},jv=(e,t)=>e?Hd(e,t):Hd;function Me(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var $v={value:()=>{}};function Ql(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zs(n)}function Zs(e){this._=e}function Mv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Zs.prototype=Ql.prototype={constructor:Zs,on:function(e,t){var n=this._,r=Mv(e+"",n),o,s=-1,l=r.length;if(arguments.length<2){for(;++s<l;)if((o=(e=r[s]).type)&&(o=Lv(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(o=(e=r[s]).type)n[o]=Vd(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Vd(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Zs(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function Lv(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Vd(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=$v,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ba="http://www.w3.org/1999/xhtml";const Bd={svg:"http://www.w3.org/2000/svg",xhtml:Ba,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Bd.hasOwnProperty(t)?{space:Bd[t],local:e}:e}function Tv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ba&&t.documentElement.namespaceURI===Ba?t.createElement(e):t.createElementNS(n,e)}}function Pv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fg(e){var t=Kl(e);return(t.local?Pv:Tv)(t)}function Av(){}function ru(e){return e==null?Av:function(){return this.querySelector(e)}}function Dv(e){typeof e!="function"&&(e=ru(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],l=s.length,i=r[o]=new Array(l),c,u,d=0;d<l;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),i[d]=u);return new it(r,this._parents)}function Rv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Iv(){return[]}function hg(e){return e==null?Iv:function(){return this.querySelectorAll(e)}}function zv(e){return function(){return Rv(e.apply(this,arguments))}}function Fv(e){typeof e=="function"?e=zv(e):e=hg(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var l=t[s],i=l.length,c,u=0;u<i;++u)(c=l[u])&&(r.push(e.call(c,c.__data__,u,l)),o.push(c));return new it(r,o)}function gg(e){return function(){return this.matches(e)}}function pg(e){return function(t){return t.matches(e)}}var Ov=Array.prototype.find;function Wv(e){return function(){return Ov.call(this.children,e)}}function Hv(){return this.firstElementChild}function Vv(e){return this.select(e==null?Hv:Wv(typeof e=="function"?e:pg(e)))}var Bv=Array.prototype.filter;function Uv(){return Array.from(this.children)}function Gv(e){return function(){return Bv.call(this.children,e)}}function Yv(e){return this.selectAll(e==null?Uv:Gv(typeof e=="function"?e:pg(e)))}function Xv(e){typeof e!="function"&&(e=gg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],l=s.length,i=r[o]=[],c,u=0;u<l;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&i.push(c);return new it(r,this._parents)}function mg(e){return new Array(e.length)}function qv(){return new it(this._enter||this._groups.map(mg),this._parents)}function El(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}El.prototype={constructor:El,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Zv(e){return function(){return e}}function Qv(e,t,n,r,o,s){for(var l=0,i,c=t.length,u=s.length;l<u;++l)(i=t[l])?(i.__data__=s[l],r[l]=i):n[l]=new El(e,s[l]);for(;l<c;++l)(i=t[l])&&(o[l]=i)}function Kv(e,t,n,r,o,s,l){var i,c,u=new Map,d=t.length,h=s.length,f=new Array(d),g;for(i=0;i<d;++i)(c=t[i])&&(f[i]=g=l.call(c,c.__data__,i,t)+"",u.has(g)?o[i]=c:u.set(g,c));for(i=0;i<h;++i)g=l.call(e,s[i],i,s)+"",(c=u.get(g))?(r[i]=c,c.__data__=s[i],u.delete(g)):n[i]=new El(e,s[i]);for(i=0;i<d;++i)(c=t[i])&&u.get(f[i])===c&&(o[i]=c)}function Jv(e){return e.__data__}function ew(e,t){if(!arguments.length)return Array.from(this,Jv);var n=t?Kv:Qv,r=this._parents,o=this._groups;typeof e!="function"&&(e=Zv(e));for(var s=o.length,l=new Array(s),i=new Array(s),c=new Array(s),u=0;u<s;++u){var d=r[u],h=o[u],f=h.length,g=tw(e.call(d,d&&d.__data__,u,r)),k=g.length,x=i[u]=new Array(k),E=l[u]=new Array(k),m=c[u]=new Array(f);n(d,h,x,E,m,g,t);for(var y=0,v=0,w,S;y<k;++y)if(w=x[y]){for(y>=v&&(v=y+1);!(S=E[v])&&++v<k;);w._next=S||null}}return l=new it(l,r),l._enter=i,l._exit=c,l}function tw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nw(){return new it(this._exit||this._groups.map(mg),this._parents)}function rw(e,t,n){var r=this.enter(),o=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function ow(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,l=Math.min(o,s),i=new Array(o),c=0;c<l;++c)for(var u=n[c],d=r[c],h=u.length,f=i[c]=new Array(h),g,k=0;k<h;++k)(g=u[k]||d[k])&&(f[k]=g);for(;c<o;++c)i[c]=n[c];return new it(i,this._parents)}function sw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,s=r[o],l;--o>=0;)(l=r[o])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function lw(e){e||(e=iw);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var l=n[s],i=l.length,c=o[s]=new Array(i),u,d=0;d<i;++d)(u=l[d])&&(c[d]=u);c.sort(t)}return new it(o,this._parents).order()}function iw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function aw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cw(){return Array.from(this)}function uw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var l=r[o];if(l)return l}return null}function dw(){let e=0;for(const t of this)++e;return e}function fw(){return!this.node()}function hw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,l=o.length,i;s<l;++s)(i=o[s])&&e.call(i,i.__data__,s,o);return this}function gw(e){return function(){this.removeAttribute(e)}}function pw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mw(e,t){return function(){this.setAttribute(e,t)}}function yw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function xw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function vw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ww(e,t){var n=Kl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?pw:gw:typeof t=="function"?n.local?vw:xw:n.local?yw:mw)(n,t))}function yg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kw(e){return function(){this.style.removeProperty(e)}}function bw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Nw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Sw(e,t,n){return arguments.length>1?this.each((t==null?kw:typeof t=="function"?Nw:bw)(e,t,n??"")):Wr(this.node(),e)}function Wr(e,t){return e.style.getPropertyValue(t)||yg(e).getComputedStyle(e,null).getPropertyValue(t)}function Ew(e){return function(){delete this[e]}}function _w(e,t){return function(){this[e]=t}}function Cw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function jw(e,t){return arguments.length>1?this.each((t==null?Ew:typeof t=="function"?Cw:_w)(e,t)):this.node()[e]}function xg(e){return e.trim().split(/^|\s+/)}function ou(e){return e.classList||new vg(e)}function vg(e){this._node=e,this._names=xg(e.getAttribute("class")||"")}vg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function wg(e,t){for(var n=ou(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function kg(e,t){for(var n=ou(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function $w(e){return function(){wg(this,e)}}function Mw(e){return function(){kg(this,e)}}function Lw(e,t){return function(){(t.apply(this,arguments)?wg:kg)(this,e)}}function Tw(e,t){var n=xg(e+"");if(arguments.length<2){for(var r=ou(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Lw:t?$w:Mw)(n,t))}function Pw(){this.textContent=""}function Aw(e){return function(){this.textContent=e}}function Dw(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Rw(e){return arguments.length?this.each(e==null?Pw:(typeof e=="function"?Dw:Aw)(e)):this.node().textContent}function Iw(){this.innerHTML=""}function zw(e){return function(){this.innerHTML=e}}function Fw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ow(e){return arguments.length?this.each(e==null?Iw:(typeof e=="function"?Fw:zw)(e)):this.node().innerHTML}function Ww(){this.nextSibling&&this.parentNode.appendChild(this)}function Hw(){return this.each(Ww)}function Vw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bw(){return this.each(Vw)}function Uw(e){var t=typeof e=="function"?e:fg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Gw(){return null}function Yw(e,t){var n=typeof e=="function"?e:fg(e),r=t==null?Gw:typeof t=="function"?t:ru(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Xw(){var e=this.parentNode;e&&e.removeChild(this)}function qw(){return this.each(Xw)}function Zw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Kw(e){return this.select(e?Qw:Zw)}function Jw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function e2(e){return function(t){e.call(this,t,this.__data__)}}function t2(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function n2(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function r2(e,t,n){return function(){var r=this.__on,o,s=e2(t);if(r){for(var l=0,i=r.length;l<i;++l)if((o=r[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(o):this.__on=[o]}}function o2(e,t,n){var r=t2(e+""),o,s=r.length,l;if(arguments.length<2){var i=this.node().__on;if(i){for(var c=0,u=i.length,d;c<u;++c)for(o=0,d=i[c];o<s;++o)if((l=r[o]).type===d.type&&l.name===d.name)return d.value}return}for(i=t?r2:n2,o=0;o<s;++o)this.each(i(r[o],t,n));return this}function bg(e,t,n){var r=yg(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function s2(e,t){return function(){return bg(this,e,t)}}function l2(e,t){return function(){return bg(this,e,t.apply(this,arguments))}}function i2(e,t){return this.each((typeof t=="function"?l2:s2)(e,t))}function*a2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length,l;o<s;++o)(l=r[o])&&(yield l)}var Ng=[null];function it(e,t){this._groups=e,this._parents=t}function ss(){return new it([[document.documentElement]],Ng)}function c2(){return this}it.prototype=ss.prototype={constructor:it,select:Dv,selectAll:Fv,selectChild:Vv,selectChildren:Yv,filter:Xv,data:ew,enter:qv,exit:nw,join:rw,merge:ow,selection:c2,order:sw,sort:lw,call:aw,nodes:cw,node:uw,size:dw,empty:fw,each:hw,attr:ww,style:Sw,property:jw,classed:Tw,text:Rw,html:Ow,raise:Hw,lower:Bw,append:Uw,insert:Yw,remove:qw,clone:Kw,datum:Jw,on:o2,dispatch:i2,[Symbol.iterator]:a2};function ft(e){return typeof e=="string"?new it([[document.querySelector(e)]],[document.documentElement]):new it([[e]],Ng)}function u2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function bt(e,t){if(e=u2(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const d2={passive:!1},Go={capture:!0,passive:!1};function Ii(e){e.stopImmediatePropagation()}function Mr(e){e.preventDefault(),e.stopImmediatePropagation()}function Sg(e){var t=e.document.documentElement,n=ft(e).on("dragstart.drag",Mr,Go);"onselectstart"in t?n.on("selectstart.drag",Mr,Go):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Eg(e,t){var n=e.document.documentElement,r=ft(e).on("dragstart.drag",null);t&&(r.on("click.drag",Mr,Go),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Es=e=>()=>e;function Ua(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:s,x:l,y:i,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Ua.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function f2(e){return!e.ctrlKey&&!e.button}function h2(){return this.parentNode}function g2(e,t){return t??{x:e.x,y:e.y}}function p2(){return navigator.maxTouchPoints||"ontouchstart"in this}function m2(){var e=f2,t=h2,n=g2,r=p2,o={},s=Ql("start","drag","end"),l=0,i,c,u,d,h=0;function f(w){w.on("mousedown.drag",g).filter(r).on("touchstart.drag",E).on("touchmove.drag",m,d2).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(w,S){if(!(d||!e.call(this,w,S))){var N=v(this,t.call(this,w,S),w,S,"mouse");N&&(ft(w.view).on("mousemove.drag",k,Go).on("mouseup.drag",x,Go),Sg(w.view),Ii(w),u=!1,i=w.clientX,c=w.clientY,N("start",w))}}function k(w){if(Mr(w),!u){var S=w.clientX-i,N=w.clientY-c;u=S*S+N*N>h}o.mouse("drag",w)}function x(w){ft(w.view).on("mousemove.drag mouseup.drag",null),Eg(w.view,u),Mr(w),o.mouse("end",w)}function E(w,S){if(e.call(this,w,S)){var N=w.changedTouches,j=t.call(this,w,S),M=N.length,P,A;for(P=0;P<M;++P)(A=v(this,j,w,S,N[P].identifier,N[P]))&&(Ii(w),A("start",w,N[P]))}}function m(w){var S=w.changedTouches,N=S.length,j,M;for(j=0;j<N;++j)(M=o[S[j].identifier])&&(Mr(w),M("drag",w,S[j]))}function y(w){var S=w.changedTouches,N=S.length,j,M;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),j=0;j<N;++j)(M=o[S[j].identifier])&&(Ii(w),M("end",w,S[j]))}function v(w,S,N,j,M,P){var A=s.copy(),F=bt(P||N,S),H,O,b;if((b=n.call(w,new Ua("beforestart",{sourceEvent:N,target:f,identifier:M,active:l,x:F[0],y:F[1],dx:0,dy:0,dispatch:A}),j))!=null)return H=b.x-F[0]||0,O=b.y-F[1]||0,function _($,z,L){var C=F,T;switch($){case"start":o[M]=_,T=l++;break;case"end":delete o[M],--l;case"drag":F=bt(L||z,S),T=l;break}A.call($,w,new Ua($,{sourceEvent:z,subject:b,target:f,identifier:M,active:T,x:F[0]+H,y:F[1]+O,dx:F[0]-C[0],dy:F[1]-C[1],dispatch:A}),j)}}return f.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Es(!!w),f):e},f.container=function(w){return arguments.length?(t=typeof w=="function"?w:Es(w),f):t},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Es(w),f):n},f.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Es(!!w),f):r},f.on=function(){var w=s.on.apply(s,arguments);return w===s?f:w},f.clickDistance=function(w){return arguments.length?(h=(w=+w)*w,f):Math.sqrt(h)},f}function su(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _g(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ls(){}var Yo=.7,_l=1/Yo,Lr="\\s*([+-]?\\d+)\\s*",Xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",It="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y2=/^#([0-9a-f]{3,8})$/,x2=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),v2=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),w2=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${Xo}\\)$`),k2=new RegExp(`^rgba\\(${It},${It},${It},${Xo}\\)$`),b2=new RegExp(`^hsl\\(${Xo},${It},${It}\\)$`),N2=new RegExp(`^hsla\\(${Xo},${It},${It},${Xo}\\)$`),Ud={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};su(ls,qo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Gd,formatHex:Gd,formatHex8:S2,formatHsl:E2,formatRgb:Yd,toString:Yd});function Gd(){return this.rgb().formatHex()}function S2(){return this.rgb().formatHex8()}function E2(){return Cg(this).formatHsl()}function Yd(){return this.rgb().formatRgb()}function qo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=y2.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Xd(t):n===3?new Ke(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_s(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_s(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=x2.exec(e))?new Ke(t[1],t[2],t[3],1):(t=v2.exec(e))?new Ke(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=w2.exec(e))?_s(t[1],t[2],t[3],t[4]):(t=k2.exec(e))?_s(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=b2.exec(e))?Qd(t[1],t[2]/100,t[3]/100,1):(t=N2.exec(e))?Qd(t[1],t[2]/100,t[3]/100,t[4]):Ud.hasOwnProperty(e)?Xd(Ud[e]):e==="transparent"?new Ke(NaN,NaN,NaN,0):null}function Xd(e){return new Ke(e>>16&255,e>>8&255,e&255,1)}function _s(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ke(e,t,n,r)}function _2(e){return e instanceof ls||(e=qo(e)),e?(e=e.rgb(),new Ke(e.r,e.g,e.b,e.opacity)):new Ke}function Ga(e,t,n,r){return arguments.length===1?_2(e):new Ke(e,t,n,r??1)}function Ke(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}su(Ke,Ga,_g(ls,{brighter(e){return e=e==null?_l:Math.pow(_l,e),new Ke(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yo:Math.pow(Yo,e),new Ke(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ke(Yn(this.r),Yn(this.g),Yn(this.b),Cl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qd,formatHex:qd,formatHex8:C2,formatRgb:Zd,toString:Zd}));function qd(){return`#${Vn(this.r)}${Vn(this.g)}${Vn(this.b)}`}function C2(){return`#${Vn(this.r)}${Vn(this.g)}${Vn(this.b)}${Vn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zd(){const e=Cl(this.opacity);return`${e===1?"rgb(":"rgba("}${Yn(this.r)}, ${Yn(this.g)}, ${Yn(this.b)}${e===1?")":`, ${e})`}`}function Cl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vn(e){return e=Yn(e),(e<16?"0":"")+e.toString(16)}function Qd(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new St(e,t,n,r)}function Cg(e){if(e instanceof St)return new St(e.h,e.s,e.l,e.opacity);if(e instanceof ls||(e=qo(e)),!e)return new St;if(e instanceof St)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,i=s-o,c=(s+o)/2;return i?(t===s?l=(n-r)/i+(n<r)*6:n===s?l=(r-t)/i+2:l=(t-n)/i+4,i/=c<.5?s+o:2-s-o,l*=60):i=c>0&&c<1?0:l,new St(l,i,c,e.opacity)}function j2(e,t,n,r){return arguments.length===1?Cg(e):new St(e,t,n,r??1)}function St(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}su(St,j2,_g(ls,{brighter(e){return e=e==null?_l:Math.pow(_l,e),new St(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yo:Math.pow(Yo,e),new St(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ke(zi(e>=240?e-240:e+120,o,r),zi(e,o,r),zi(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new St(Kd(this.h),Cs(this.s),Cs(this.l),Cl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cl(this.opacity);return`${e===1?"hsl(":"hsla("}${Kd(this.h)}, ${Cs(this.s)*100}%, ${Cs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Kd(e){return e=(e||0)%360,e<0?e+360:e}function Cs(e){return Math.max(0,Math.min(1,e||0))}function zi(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const jg=e=>()=>e;function $2(e,t){return function(n){return e+n*t}}function M2(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function L2(e){return(e=+e)==1?$g:function(t,n){return n-t?M2(t,n,e):jg(isNaN(t)?n:t)}}function $g(e,t){var n=t-e;return n?$2(e,n):jg(isNaN(e)?t:e)}const Jd=function e(t){var n=L2(t);function r(o,s){var l=n((o=Ga(o)).r,(s=Ga(s)).r),i=n(o.g,s.g),c=n(o.b,s.b),u=$g(o.opacity,s.opacity);return function(d){return o.r=l(d),o.g=i(d),o.b=c(d),o.opacity=u(d),o+""}}return r.gamma=e,r}(1);function an(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ya=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fi=new RegExp(Ya.source,"g");function T2(e){return function(){return e}}function P2(e){return function(t){return e(t)+""}}function A2(e,t){var n=Ya.lastIndex=Fi.lastIndex=0,r,o,s,l=-1,i=[],c=[];for(e=e+"",t=t+"";(r=Ya.exec(e))&&(o=Fi.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),i[l]?i[l]+=s:i[++l]=s),(r=r[0])===(o=o[0])?i[l]?i[l]+=o:i[++l]=o:(i[++l]=null,c.push({i:l,x:an(r,o)})),n=Fi.lastIndex;return n<t.length&&(s=t.slice(n),i[l]?i[l]+=s:i[++l]=s),i.length<2?c[0]?P2(c[0].x):T2(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)i[(h=c[d]).i]=h.x(u);return i.join("")})}var ef=180/Math.PI,Xa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mg(e,t,n,r,o,s){var l,i,c;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(i=Math.sqrt(n*n+r*r))&&(n/=i,r/=i,c/=i),e*r<t*n&&(e=-e,t=-t,c=-c,l=-l),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*ef,skewX:Math.atan(c)*ef,scaleX:l,scaleY:i}}var js;function D2(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Xa:Mg(t.a,t.b,t.c,t.d,t.e,t.f)}function R2(e){return e==null||(js||(js=document.createElementNS("http://www.w3.org/2000/svg","g")),js.setAttribute("transform",e),!(e=js.transform.baseVal.consolidate()))?Xa:(e=e.matrix,Mg(e.a,e.b,e.c,e.d,e.e,e.f))}function Lg(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function s(u,d,h,f,g,k){if(u!==h||d!==f){var x=g.push("translate(",null,t,null,n);k.push({i:x-4,x:an(u,h)},{i:x-2,x:an(d,f)})}else(h||f)&&g.push("translate("+h+t+f+n)}function l(u,d,h,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:h.push(o(h)+"rotate(",null,r)-2,x:an(u,d)})):d&&h.push(o(h)+"rotate("+d+r)}function i(u,d,h,f){u!==d?f.push({i:h.push(o(h)+"skewX(",null,r)-2,x:an(u,d)}):d&&h.push(o(h)+"skewX("+d+r)}function c(u,d,h,f,g,k){if(u!==h||d!==f){var x=g.push(o(g)+"scale(",null,",",null,")");k.push({i:x-4,x:an(u,h)},{i:x-2,x:an(d,f)})}else(h!==1||f!==1)&&g.push(o(g)+"scale("+h+","+f+")")}return function(u,d){var h=[],f=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,h,f),l(u.rotate,d.rotate,h,f),i(u.skewX,d.skewX,h,f),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,f),u=d=null,function(g){for(var k=-1,x=f.length,E;++k<x;)h[(E=f[k]).i]=E.x(g);return h.join("")}}}var I2=Lg(D2,"px, ","px)","deg)"),z2=Lg(R2,", ",")",")"),F2=1e-12;function tf(e){return((e=Math.exp(e))+1/e)/2}function O2(e){return((e=Math.exp(e))-1/e)/2}function W2(e){return((e=Math.exp(2*e))-1)/(e+1)}const H2=function e(t,n,r){function o(s,l){var i=s[0],c=s[1],u=s[2],d=l[0],h=l[1],f=l[2],g=d-i,k=h-c,x=g*g+k*k,E,m;if(x<F2)m=Math.log(f/u)/t,E=function(j){return[i+j*g,c+j*k,u*Math.exp(t*j*m)]};else{var y=Math.sqrt(x),v=(f*f-u*u+r*x)/(2*u*n*y),w=(f*f-u*u-r*x)/(2*f*n*y),S=Math.log(Math.sqrt(v*v+1)-v),N=Math.log(Math.sqrt(w*w+1)-w);m=(N-S)/t,E=function(j){var M=j*m,P=tf(S),A=u/(n*y)*(P*W2(t*M+S)-O2(S));return[i+A*g,c+A*k,u*P/tf(t*M+S)]}}return E.duration=m*1e3*t/Math.SQRT2,E}return o.rho=function(s){var l=Math.max(.001,+s),i=l*l,c=i*i;return e(l,i,c)},o}(Math.SQRT2,2,4);var Hr=0,mo=0,lo=0,Tg=1e3,jl,yo,$l=0,er=0,Jl=0,Zo=typeof performance=="object"&&performance.now?performance:Date,Pg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function lu(){return er||(Pg(V2),er=Zo.now()+Jl)}function V2(){er=0}function Ml(){this._call=this._time=this._next=null}Ml.prototype=Ag.prototype={constructor:Ml,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?lu():+n)+(t==null?0:+t),!this._next&&yo!==this&&(yo?yo._next=this:jl=this,yo=this),this._call=e,this._time=n,qa()},stop:function(){this._call&&(this._call=null,this._time=1/0,qa())}};function Ag(e,t,n){var r=new Ml;return r.restart(e,t,n),r}function B2(){lu(),++Hr;for(var e=jl,t;e;)(t=er-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Hr}function nf(){er=($l=Zo.now())+Jl,Hr=mo=0;try{B2()}finally{Hr=0,G2(),er=0}}function U2(){var e=Zo.now(),t=e-$l;t>Tg&&(Jl-=t,$l=e)}function G2(){for(var e,t=jl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:jl=n);yo=e,qa(r)}function qa(e){if(!Hr){mo&&(mo=clearTimeout(mo));var t=e-er;t>24?(e<1/0&&(mo=setTimeout(nf,e-Zo.now()-Jl)),lo&&(lo=clearInterval(lo))):(lo||($l=Zo.now(),lo=setInterval(U2,Tg)),Hr=1,Pg(nf))}}function rf(e,t,n){var r=new Ml;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Y2=Ql("start","end","cancel","interrupt"),X2=[],Dg=0,of=1,Za=2,Qs=3,sf=4,Qa=5,Ks=6;function ei(e,t,n,r,o,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;q2(e,n,{name:t,index:r,group:o,on:Y2,tween:X2,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Dg})}function iu(e,t){var n=jt(e,t);if(n.state>Dg)throw new Error("too late; already scheduled");return n}function Ft(e,t){var n=jt(e,t);if(n.state>Qs)throw new Error("too late; already running");return n}function jt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function q2(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Ag(s,0,n.time);function s(u){n.state=of,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var d,h,f,g;if(n.state!==of)return c();for(d in r)if(g=r[d],g.name===n.name){if(g.state===Qs)return rf(l);g.state===sf?(g.state=Ks,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[d]):+d<t&&(g.state=Ks,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[d])}if(rf(function(){n.state===Qs&&(n.state=sf,n.timer.restart(i,n.delay,n.time),i(u))}),n.state=Za,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Za){for(n.state=Qs,o=new Array(f=n.tween.length),d=0,h=-1;d<f;++d)(g=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++h]=g);o.length=h+1}}function i(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Qa,1),h=-1,f=o.length;++h<f;)o[h].call(e,d);n.state===Qa&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Ks,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Js(e,t){var n=e.__transition,r,o,s=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){s=!1;continue}o=r.state>Za&&r.state<Qa,r.state=Ks,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}s&&delete e.__transition}}function Z2(e){return this.each(function(){Js(this,e)})}function Q2(e,t){var n,r;return function(){var o=Ft(this,e),s=o.tween;if(s!==n){r=n=s;for(var l=0,i=r.length;l<i;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}o.tween=r}}function K2(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=Ft(this,e),l=s.tween;if(l!==r){o=(r=l).slice();for(var i={name:t,value:n},c=0,u=o.length;c<u;++c)if(o[c].name===t){o[c]=i;break}c===u&&o.push(i)}s.tween=o}}function J2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=jt(this.node(),n).tween,o=0,s=r.length,l;o<s;++o)if((l=r[o]).name===e)return l.value;return null}return this.each((t==null?Q2:K2)(n,e,t))}function au(e,t,n){var r=e._id;return e.each(function(){var o=Ft(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return jt(o,r).value[t]}}function Rg(e,t){var n;return(typeof t=="number"?an:t instanceof qo?Jd:(n=qo(t))?(t=n,Jd):A2)(e,t)}function e5(e){return function(){this.removeAttribute(e)}}function t5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function n5(e,t,n){var r,o=n+"",s;return function(){var l=this.getAttribute(e);return l===o?null:l===r?s:s=t(r=l,n)}}function r5(e,t,n){var r,o=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===o?null:l===r?s:s=t(r=l,n)}}function o5(e,t,n){var r,o,s;return function(){var l,i=n(this),c;return i==null?void this.removeAttribute(e):(l=this.getAttribute(e),c=i+"",l===c?null:l===r&&c===o?s:(o=c,s=t(r=l,i)))}}function s5(e,t,n){var r,o,s;return function(){var l,i=n(this),c;return i==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),c=i+"",l===c?null:l===r&&c===o?s:(o=c,s=t(r=l,i)))}}function l5(e,t){var n=Kl(e),r=n==="transform"?z2:Rg;return this.attrTween(e,typeof t=="function"?(n.local?s5:o5)(n,r,au(this,"attr."+e,t)):t==null?(n.local?t5:e5)(n):(n.local?r5:n5)(n,r,t))}function i5(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function a5(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function c5(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&a5(e,s)),n}return o._value=t,o}function u5(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&i5(e,s)),n}return o._value=t,o}function d5(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Kl(e);return this.tween(n,(r.local?c5:u5)(r,t))}function f5(e,t){return function(){iu(this,e).delay=+t.apply(this,arguments)}}function h5(e,t){return t=+t,function(){iu(this,e).delay=t}}function g5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?f5:h5)(t,e)):jt(this.node(),t).delay}function p5(e,t){return function(){Ft(this,e).duration=+t.apply(this,arguments)}}function m5(e,t){return t=+t,function(){Ft(this,e).duration=t}}function y5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?p5:m5)(t,e)):jt(this.node(),t).duration}function x5(e,t){if(typeof t!="function")throw new Error;return function(){Ft(this,e).ease=t}}function v5(e){var t=this._id;return arguments.length?this.each(x5(t,e)):jt(this.node(),t).ease}function w5(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ft(this,e).ease=n}}function k5(e){if(typeof e!="function")throw new Error;return this.each(w5(this._id,e))}function b5(e){typeof e!="function"&&(e=gg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],l=s.length,i=r[o]=[],c,u=0;u<l;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&i.push(c);return new en(r,this._parents,this._name,this._id)}function N5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),l=new Array(r),i=0;i<s;++i)for(var c=t[i],u=n[i],d=c.length,h=l[i]=new Array(d),f,g=0;g<d;++g)(f=c[g]||u[g])&&(h[g]=f);for(;i<r;++i)l[i]=t[i];return new en(l,this._parents,this._name,this._id)}function S5(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function E5(e,t,n){var r,o,s=S5(t)?iu:Ft;return function(){var l=s(this,e),i=l.on;i!==r&&(o=(r=i).copy()).on(t,n),l.on=o}}function _5(e,t){var n=this._id;return arguments.length<2?jt(this.node(),n).on.on(e):this.each(E5(n,e,t))}function C5(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function j5(){return this.on("end.remove",C5(this._id))}function $5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ru(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var i=r[l],c=i.length,u=s[l]=new Array(c),d,h,f=0;f<c;++f)(d=i[f])&&(h=e.call(d,d.__data__,f,i))&&("__data__"in d&&(h.__data__=d.__data__),u[f]=h,ei(u[f],t,n,f,u,jt(d,n)));return new en(s,this._parents,t,n)}function M5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hg(e));for(var r=this._groups,o=r.length,s=[],l=[],i=0;i<o;++i)for(var c=r[i],u=c.length,d,h=0;h<u;++h)if(d=c[h]){for(var f=e.call(d,d.__data__,h,c),g,k=jt(d,n),x=0,E=f.length;x<E;++x)(g=f[x])&&ei(g,t,n,x,f,k);s.push(f),l.push(d)}return new en(s,l,t,n)}var L5=ss.prototype.constructor;function T5(){return new L5(this._groups,this._parents)}function P5(e,t){var n,r,o;return function(){var s=Wr(this,e),l=(this.style.removeProperty(e),Wr(this,e));return s===l?null:s===n&&l===r?o:o=t(n=s,r=l)}}function Ig(e){return function(){this.style.removeProperty(e)}}function A5(e,t,n){var r,o=n+"",s;return function(){var l=Wr(this,e);return l===o?null:l===r?s:s=t(r=l,n)}}function D5(e,t,n){var r,o,s;return function(){var l=Wr(this,e),i=n(this),c=i+"";return i==null&&(c=i=(this.style.removeProperty(e),Wr(this,e))),l===c?null:l===r&&c===o?s:(o=c,s=t(r=l,i))}}function R5(e,t){var n,r,o,s="style."+t,l="end."+s,i;return function(){var c=Ft(this,e),u=c.on,d=c.value[s]==null?i||(i=Ig(t)):void 0;(u!==n||o!==d)&&(r=(n=u).copy()).on(l,o=d),c.on=r}}function I5(e,t,n){var r=(e+="")=="transform"?I2:Rg;return t==null?this.styleTween(e,P5(e,r)).on("end.style."+e,Ig(e)):typeof t=="function"?this.styleTween(e,D5(e,r,au(this,"style."+e,t))).each(R5(this._id,e)):this.styleTween(e,A5(e,r,t),n).on("end.style."+e,null)}function z5(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function F5(e,t,n){var r,o;function s(){var l=t.apply(this,arguments);return l!==o&&(r=(o=l)&&z5(e,l,n)),r}return s._value=t,s}function O5(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,F5(e,t,n??""))}function W5(e){return function(){this.textContent=e}}function H5(e){return function(){var t=e(this);this.textContent=t??""}}function V5(e){return this.tween("text",typeof e=="function"?H5(au(this,"text",e)):W5(e==null?"":e+""))}function B5(e){return function(t){this.textContent=e.call(this,t)}}function U5(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&B5(o)),t}return r._value=e,r}function G5(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,U5(e))}function Y5(){for(var e=this._name,t=this._id,n=zg(),r=this._groups,o=r.length,s=0;s<o;++s)for(var l=r[s],i=l.length,c,u=0;u<i;++u)if(c=l[u]){var d=jt(c,t);ei(c,e,n,u,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new en(r,this._parents,e,n)}function X5(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,l){var i={value:l},c={value:function(){--o===0&&s()}};n.each(function(){var u=Ft(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(i),t._.interrupt.push(i),t._.end.push(c)),u.on=t}),o===0&&s()})}var q5=0;function en(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function zg(){return++q5}var Wt=ss.prototype;en.prototype={constructor:en,select:$5,selectAll:M5,selectChild:Wt.selectChild,selectChildren:Wt.selectChildren,filter:b5,merge:N5,selection:T5,transition:Y5,call:Wt.call,nodes:Wt.nodes,node:Wt.node,size:Wt.size,empty:Wt.empty,each:Wt.each,on:_5,attr:l5,attrTween:d5,style:I5,styleTween:O5,text:V5,textTween:G5,remove:j5,tween:J2,delay:g5,duration:y5,ease:v5,easeVarying:k5,end:X5,[Symbol.iterator]:Wt[Symbol.iterator]};function Z5(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Q5={time:null,delay:0,duration:250,ease:Z5};function K5(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function J5(e){var t,n;e instanceof en?(t=e._id,e=e._name):(t=zg(),(n=Q5).time=lu(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var l=r[s],i=l.length,c,u=0;u<i;++u)(c=l[u])&&ei(c,e,t,u,l,n||K5(c,t));return new en(r,this._parents,e,t)}ss.prototype.interrupt=Z2;ss.prototype.transition=J5;const $s=e=>()=>e;function ek(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Gt(e,t,n){this.k=e,this.x=t,this.y=n}Gt.prototype={constructor:Gt,scale:function(e){return e===1?this:new Gt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xt=new Gt(1,0,0);Gt.prototype;function Oi(e){e.stopImmediatePropagation()}function io(e){e.preventDefault(),e.stopImmediatePropagation()}function tk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function nk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function lf(){return this.__zoom||Xt}function rk(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ok(){return navigator.maxTouchPoints||"ontouchstart"in this}function sk(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function Fg(){var e=tk,t=nk,n=sk,r=rk,o=ok,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],i=250,c=H2,u=Ql("start","zoom","end"),d,h,f,g=500,k=150,x=0,E=10;function m(b){b.property("__zoom",lf).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",A).filter(o).on("touchstart.zoom",F).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(b,_,$,z){var L=b.selection?b.selection():b;L.property("__zoom",lf),b!==L?S(b,_,$,z):L.interrupt().each(function(){N(this,arguments).event(z).start().zoom(null,typeof _=="function"?_.apply(this,arguments):_).end()})},m.scaleBy=function(b,_,$,z){m.scaleTo(b,function(){var L=this.__zoom.k,C=typeof _=="function"?_.apply(this,arguments):_;return L*C},$,z)},m.scaleTo=function(b,_,$,z){m.transform(b,function(){var L=t.apply(this,arguments),C=this.__zoom,T=$==null?w(L):typeof $=="function"?$.apply(this,arguments):$,I=C.invert(T),R=typeof _=="function"?_.apply(this,arguments):_;return n(v(y(C,R),T,I),L,l)},$,z)},m.translateBy=function(b,_,$,z){m.transform(b,function(){return n(this.__zoom.translate(typeof _=="function"?_.apply(this,arguments):_,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),l)},null,z)},m.translateTo=function(b,_,$,z,L){m.transform(b,function(){var C=t.apply(this,arguments),T=this.__zoom,I=z==null?w(C):typeof z=="function"?z.apply(this,arguments):z;return n(Xt.translate(I[0],I[1]).scale(T.k).translate(typeof _=="function"?-_.apply(this,arguments):-_,typeof $=="function"?-$.apply(this,arguments):-$),C,l)},z,L)};function y(b,_){return _=Math.max(s[0],Math.min(s[1],_)),_===b.k?b:new Gt(_,b.x,b.y)}function v(b,_,$){var z=_[0]-$[0]*b.k,L=_[1]-$[1]*b.k;return z===b.x&&L===b.y?b:new Gt(b.k,z,L)}function w(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function S(b,_,$,z){b.on("start.zoom",function(){N(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(z).end()}).tween("zoom",function(){var L=this,C=arguments,T=N(L,C).event(z),I=t.apply(L,C),R=$==null?w(I):typeof $=="function"?$.apply(L,C):$,B=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),V=L.__zoom,Y=typeof _=="function"?_.apply(L,C):_,Z=c(V.invert(R).concat(B/V.k),Y.invert(R).concat(B/Y.k));return function(Q){if(Q===1)Q=Y;else{var ee=Z(Q),re=B/ee[2];Q=new Gt(re,R[0]-ee[0]*re,R[1]-ee[1]*re)}T.zoom(null,Q)}})}function N(b,_,$){return!$&&b.__zooming||new j(b,_)}function j(b,_){this.that=b,this.args=_,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,_),this.taps=0}j.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,_){return this.mouse&&b!=="mouse"&&(this.mouse[1]=_.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=_.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=_.invert(this.touch1[0])),this.that.__zoom=_,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var _=ft(this.that).datum();u.call(b,this.that,new ek(b,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),_)}};function M(b,..._){if(!e.apply(this,arguments))return;var $=N(this,_).event(b),z=this.__zoom,L=Math.max(s[0],Math.min(s[1],z.k*Math.pow(2,r.apply(this,arguments)))),C=bt(b);if($.wheel)($.mouse[0][0]!==C[0]||$.mouse[0][1]!==C[1])&&($.mouse[1]=z.invert($.mouse[0]=C)),clearTimeout($.wheel);else{if(z.k===L)return;$.mouse=[C,z.invert(C)],Js(this),$.start()}io(b),$.wheel=setTimeout(T,k),$.zoom("mouse",n(v(y(z,L),$.mouse[0],$.mouse[1]),$.extent,l));function T(){$.wheel=null,$.end()}}function P(b,..._){if(f||!e.apply(this,arguments))return;var $=b.currentTarget,z=N(this,_,!0).event(b),L=ft(b.view).on("mousemove.zoom",R,!0).on("mouseup.zoom",B,!0),C=bt(b,$),T=b.clientX,I=b.clientY;Sg(b.view),Oi(b),z.mouse=[C,this.__zoom.invert(C)],Js(this),z.start();function R(V){if(io(V),!z.moved){var Y=V.clientX-T,Z=V.clientY-I;z.moved=Y*Y+Z*Z>x}z.event(V).zoom("mouse",n(v(z.that.__zoom,z.mouse[0]=bt(V,$),z.mouse[1]),z.extent,l))}function B(V){L.on("mousemove.zoom mouseup.zoom",null),Eg(V.view,z.moved),io(V),z.event(V).end()}}function A(b,..._){if(e.apply(this,arguments)){var $=this.__zoom,z=bt(b.changedTouches?b.changedTouches[0]:b,this),L=$.invert(z),C=$.k*(b.shiftKey?.5:2),T=n(v(y($,C),z,L),t.apply(this,_),l);io(b),i>0?ft(this).transition().duration(i).call(S,T,z,b):ft(this).call(m.transform,T,z,b)}}function F(b,..._){if(e.apply(this,arguments)){var $=b.touches,z=$.length,L=N(this,_,b.changedTouches.length===z).event(b),C,T,I,R;for(Oi(b),T=0;T<z;++T)I=$[T],R=bt(I,this),R=[R,this.__zoom.invert(R),I.identifier],L.touch0?!L.touch1&&L.touch0[2]!==R[2]&&(L.touch1=R,L.taps=0):(L.touch0=R,C=!0,L.taps=1+!!d);d&&(d=clearTimeout(d)),C&&(L.taps<2&&(h=R[0],d=setTimeout(function(){d=null},g)),Js(this),L.start())}}function H(b,..._){if(this.__zooming){var $=N(this,_).event(b),z=b.changedTouches,L=z.length,C,T,I,R;for(io(b),C=0;C<L;++C)T=z[C],I=bt(T,this),$.touch0&&$.touch0[2]===T.identifier?$.touch0[0]=I:$.touch1&&$.touch1[2]===T.identifier&&($.touch1[0]=I);if(T=$.that.__zoom,$.touch1){var B=$.touch0[0],V=$.touch0[1],Y=$.touch1[0],Z=$.touch1[1],Q=(Q=Y[0]-B[0])*Q+(Q=Y[1]-B[1])*Q,ee=(ee=Z[0]-V[0])*ee+(ee=Z[1]-V[1])*ee;T=y(T,Math.sqrt(Q/ee)),I=[(B[0]+Y[0])/2,(B[1]+Y[1])/2],R=[(V[0]+Z[0])/2,(V[1]+Z[1])/2]}else if($.touch0)I=$.touch0[0],R=$.touch0[1];else return;$.zoom("touch",n(v(T,I,R),$.extent,l))}}function O(b,..._){if(this.__zooming){var $=N(this,_).event(b),z=b.changedTouches,L=z.length,C,T;for(Oi(b),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),C=0;C<L;++C)T=z[C],$.touch0&&$.touch0[2]===T.identifier?delete $.touch0:$.touch1&&$.touch1[2]===T.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(T=bt(T,this),Math.hypot(h[0]-T[0],h[1]-T[1])<E)){var I=ft(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return m.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:$s(+b),m):r},m.filter=function(b){return arguments.length?(e=typeof b=="function"?b:$s(!!b),m):e},m.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:$s(!!b),m):o},m.extent=function(b){return arguments.length?(t=typeof b=="function"?b:$s([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),m):t},m.scaleExtent=function(b){return arguments.length?(s[0]=+b[0],s[1]=+b[1],m):[s[0],s[1]]},m.translateExtent=function(b){return arguments.length?(l[0][0]=+b[0][0],l[1][0]=+b[1][0],l[0][1]=+b[0][1],l[1][1]=+b[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(b){return arguments.length?(n=b,m):n},m.duration=function(b){return arguments.length?(i=+b,m):i},m.interpolate=function(b){return arguments.length?(c=b,m):c},m.on=function(){var b=u.on.apply(u,arguments);return b===u?m:b},m.clickDistance=function(b){return arguments.length?(x=(b=+b)*b,m):Math.sqrt(x)},m.tapDistance=function(b){return arguments.length?(E=+b,m):E},m}const ti=p.createContext(null),lk=ti.Provider,tn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Og=tn.error001();function ce(e,t){const n=p.useContext(ti);if(n===null)throw new Error(Og);return dg(n,e,t)}const _e=()=>{const e=p.useContext(ti);if(e===null)throw new Error(Og);return p.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},ik=e=>e.userSelectionActive?"none":"all";function cu({position:e,children:t,className:n,style:r,...o}){const s=ce(ik),l=`${e}`.split("-");return D.createElement("div",{className:Re(["react-flow__panel",n,...l]),style:{...r,pointerEvents:s},...o},t)}function ak({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:D.createElement(cu,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},D.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const ck=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:s={},labelBgPadding:l=[2,4],labelBgBorderRadius:i=2,children:c,className:u,...d})=>{const h=p.useRef(null),[f,g]=p.useState({x:0,y:0,width:0,height:0}),k=Re(["react-flow__edge-textwrapper",u]);return p.useEffect(()=>{if(h.current){const x=h.current.getBBox();g({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:D.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:k,visibility:f.width?"visible":"hidden",...d},o&&D.createElement("rect",{width:f.width+2*l[0],x:-l[0],y:-l[1],height:f.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:i,ry:i}),D.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:h,style:r},n),c)};var uk=p.memo(ck);const uu=e=>({width:e.offsetWidth,height:e.offsetHeight}),Vr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),du=(e={x:0,y:0},t)=>({x:Vr(e.x,t[0][0],t[1][0]),y:Vr(e.y,t[0][1],t[1][1])}),af=(e,t,n)=>e<t?Vr(Math.abs(e-t),1,50)/50:e>n?-Vr(Math.abs(e-n),1,50)/50:0,Wg=(e,t)=>{const n=af(e.x,35,t.width-35)*20,r=af(e.y,35,t.height-35)*20;return[n,r]},Hg=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Vg=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Qo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Bg=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),cf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),dk=(e,t)=>Bg(Vg(Qo(e),Qo(t))),Ka=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},fk=e=>gt(e.width)&&gt(e.height)&&gt(e.x)&&gt(e.y),gt=e=>!isNaN(e)&&isFinite(e),ve=Symbol.for("internals"),Ug=["Enter"," ","Escape"],hk=(e,t)=>{},gk=e=>"nativeEvent"in e;function Ja(e){var o,s;const t=gk(e)?e.nativeEvent:e,n=((s=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Gg=e=>"clientX"in e,Sn=(e,t)=>{var s,l;const n=Gg(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,o=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Ll=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},is=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:g=20})=>D.createElement(D.Fragment,null,D.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:f}),g&&D.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),o&&gt(n)&&gt(r)?D.createElement(uk,{x:n,y:r,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u}):null);is.displayName="BaseEdge";function ao(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(s=>s.id===e);o&&n(r,{...o})}}function Yg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,l=Math.abs(r-t)/2,i=r<t?r+l:r-l;return[s,i,o,l]}function Xg({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:l,targetControlY:i}){const c=e*.125+o*.375+l*.375+n*.125,u=t*.125+s*.375+i*.375+r*.125,d=Math.abs(c-e),h=Math.abs(u-t);return[c,u,d,h]}var Cn;(function(e){e.Strict="strict",e.Loose="loose"})(Cn||(Cn={}));var Bn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Bn||(Bn={}));var Ko;(function(e){e.Partial="partial",e.Full="full"})(Ko||(Ko={}));var hn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(hn||(hn={}));var Tl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Tl||(Tl={}));var q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(q||(q={}));function uf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===q.Left||e===q.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function qg({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:o,targetPosition:s=q.Top}){const[l,i]=uf({pos:n,x1:e,y1:t,x2:r,y2:o}),[c,u]=uf({pos:s,x1:r,y1:o,x2:e,y2:t}),[d,h,f,g]=Xg({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:i,targetControlX:c,targetControlY:u});return[`M${e},${t} C${l},${i} ${c},${u} ${r},${o}`,d,h,f,g]}const fu=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=q.Bottom,targetPosition:s=q.Top,label:l,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:g,markerStart:k,interactionWidth:x})=>{const[E,m,y]=qg({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s});return D.createElement(is,{path:E,labelX:m,labelY:y,label:l,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:g,markerStart:k,interactionWidth:x})});fu.displayName="SimpleBezierEdge";const df={[q.Left]:{x:-1,y:0},[q.Right]:{x:1,y:0},[q.Top]:{x:0,y:-1},[q.Bottom]:{x:0,y:1}},pk=({source:e,sourcePosition:t=q.Bottom,target:n})=>t===q.Left||t===q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},ff=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function mk({source:e,sourcePosition:t=q.Bottom,target:n,targetPosition:r=q.Top,center:o,offset:s}){const l=df[t],i=df[r],c={x:e.x+l.x*s,y:e.y+l.y*s},u={x:n.x+i.x*s,y:n.y+i.y*s},d=pk({source:c,sourcePosition:t,target:u}),h=d.x!==0?"x":"y",f=d[h];let g=[],k,x;const E={x:0,y:0},m={x:0,y:0},[y,v,w,S]=Yg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[h]*i[h]===-1){k=o.x??y,x=o.y??v;const j=[{x:k,y:c.y},{x:k,y:u.y}],M=[{x:c.x,y:x},{x:u.x,y:x}];l[h]===f?g=h==="x"?j:M:g=h==="x"?M:j}else{const j=[{x:c.x,y:u.y}],M=[{x:u.x,y:c.y}];if(h==="x"?g=l.x===f?M:j:g=l.y===f?j:M,t===r){const O=Math.abs(e[h]-n[h]);if(O<=s){const b=Math.min(s-1,s-O);l[h]===f?E[h]=(c[h]>e[h]?-1:1)*b:m[h]=(u[h]>n[h]?-1:1)*b}}if(t!==r){const O=h==="x"?"y":"x",b=l[h]===i[O],_=c[O]>u[O],$=c[O]<u[O];(l[h]===1&&(!b&&_||b&&$)||l[h]!==1&&(!b&&$||b&&_))&&(g=h==="x"?j:M)}const P={x:c.x+E.x,y:c.y+E.y},A={x:u.x+m.x,y:u.y+m.y},F=Math.max(Math.abs(P.x-g[0].x),Math.abs(A.x-g[0].x)),H=Math.max(Math.abs(P.y-g[0].y),Math.abs(A.y-g[0].y));F>=H?(k=(P.x+A.x)/2,x=g[0].y):(k=g[0].x,x=(P.y+A.y)/2)}return[[e,{x:c.x+E.x,y:c.y+E.y},...g,{x:u.x+m.x,y:u.y+m.y},n],k,x,w,S]}function yk(e,t,n,r){const o=Math.min(ff(e,t)/2,ff(t,n)/2,r),{x:s,y:l}=t;if(e.x===s&&s===n.x||e.y===l&&l===n.y)return`L${s} ${l}`;if(e.y===l){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${s+o*u},${l}Q ${s},${l} ${s},${l+o*d}`}const i=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${s},${l+o*c}Q ${s},${l} ${s+o*i},${l}`}function ec({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:o,targetPosition:s=q.Top,borderRadius:l=5,centerX:i,centerY:c,offset:u=20}){const[d,h,f,g,k]=mk({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:s,center:{x:i,y:c},offset:u});return[d.reduce((E,m,y)=>{let v="";return y>0&&y<d.length-1?v=yk(d[y-1],m,d[y+1],l):v=`${y===0?"M":"L"}${m.x} ${m.y}`,E+=v,E},""),h,f,g,k]}const ni=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:h=q.Bottom,targetPosition:f=q.Top,markerEnd:g,markerStart:k,pathOptions:x,interactionWidth:E})=>{const[m,y,v]=ec({sourceX:e,sourceY:t,sourcePosition:h,targetX:n,targetY:r,targetPosition:f,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return D.createElement(is,{path:m,labelX:y,labelY:v,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:g,markerStart:k,interactionWidth:E})});ni.displayName="SmoothStepEdge";const hu=p.memo(e=>{var t;return D.createElement(ni,{...e,pathOptions:p.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});hu.displayName="StepEdge";function xk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,s,l,i]=Yg({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,s,l,i]}const gu=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:g})=>{const[k,x,E]=xk({sourceX:e,sourceY:t,targetX:n,targetY:r});return D.createElement(is,{path:k,labelX:x,labelY:E,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:g})});gu.displayName="StraightEdge";function Ms(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function hf({pos:e,x1:t,y1:n,x2:r,y2:o,c:s}){switch(e){case q.Left:return[t-Ms(t-r,s),n];case q.Right:return[t+Ms(r-t,s),n];case q.Top:return[t,n-Ms(n-o,s)];case q.Bottom:return[t,n+Ms(o-n,s)]}}function Zg({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:o,targetPosition:s=q.Top,curvature:l=.25}){const[i,c]=hf({pos:n,x1:e,y1:t,x2:r,y2:o,c:l}),[u,d]=hf({pos:s,x1:r,y1:o,x2:e,y2:t,c:l}),[h,f,g,k]=Xg({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${i},${c} ${u},${d} ${r},${o}`,h,f,g,k]}const Pl=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=q.Bottom,targetPosition:s=q.Top,label:l,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:g,markerStart:k,pathOptions:x,interactionWidth:E})=>{const[m,y,v]=Zg({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s,curvature:x==null?void 0:x.curvature});return D.createElement(is,{path:m,labelX:y,labelY:v,label:l,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:g,markerStart:k,interactionWidth:E})});Pl.displayName="BezierEdge";const pu=p.createContext(null),vk=pu.Provider;pu.Consumer;const wk=()=>p.useContext(pu),kk=e=>"id"in e&&"source"in e&&"target"in e,bk=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,tc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,Nk=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),mu=(e,t)=>{if(!e.source||!e.target)return t;let n;return kk(e)?n={...e}:n={...e,id:bk(e)},Nk(n,t)?t:t.concat(n)},nc=({x:e,y:t},[n,r,o],s,[l,i])=>{const c={x:(e-n)/o,y:(t-r)/o};return s?{x:l*Math.round(c.x/l),y:i*Math.round(c.y/i)}:c},Qg=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),Xn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},ri=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:s,y:l}=Xn(o,t).positionAbsolute;return Vg(r,Qo({x:s,y:l,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Bg(n)},Kg=(e,t,[n,r,o]=[0,0,1],s=!1,l=!1,i=[0,0])=>{const c={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(d=>{const{width:h,height:f,selectable:g=!0,hidden:k=!1}=d;if(l&&!g||k)return!1;const{positionAbsolute:x}=Xn(d,i),E={x:x.x,y:x.y,width:h||0,height:f||0},m=Ka(c,E),y=typeof h>"u"||typeof f>"u"||h===null||f===null,v=s&&m>0,w=(h||0)*(f||0);(y||v||m>=w||d.dragging)&&u.push(d)}),u},Jg=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},ep=(e,t,n,r,o,s=.1)=>{const l=t/(e.width*(1+s)),i=n/(e.height*(1+s)),c=Math.min(l,i),u=Vr(c,r,o),d=e.x+e.width/2,h=e.y+e.height/2,f=t/2-d*u,g=n/2-h*u;return{x:f,y:g,zoom:u}},Fn=(e,t=0)=>e.transition().duration(t);function gf(e,t,n,r){return(t[n]||[]).reduce((o,s)=>{var l,i;return`${e.id}-${s.id}-${n}`!==r&&o.push({id:s.id||null,type:n,nodeId:e.id,x:(((l=e.positionAbsolute)==null?void 0:l.x)??0)+s.x+s.width/2,y:(((i=e.positionAbsolute)==null?void 0:i.y)??0)+s.y+s.height/2}),o},[])}function Sk(e,t,n,r,o,s){const{x:l,y:i}=Sn(e),u=t.elementsFromPoint(l,i).find(k=>k.classList.contains("react-flow__handle"));if(u){const k=u.getAttribute("data-nodeid");if(k){const x=yu(void 0,u),E=u.getAttribute("data-handleid"),m=s({nodeId:k,id:E,type:x});if(m){const y=o.find(v=>v.nodeId===k&&v.type===x&&v.id===E);return{handle:{id:E,type:x,nodeId:k,x:(y==null?void 0:y.x)||n.x,y:(y==null?void 0:y.y)||n.y},validHandleResult:m}}}}let d=[],h=1/0;if(o.forEach(k=>{const x=Math.sqrt((k.x-n.x)**2+(k.y-n.y)**2);if(x<=r){const E=s(k);x<=h&&(x<h?d=[{handle:k,validHandleResult:E}]:x===h&&d.push({handle:k,validHandleResult:E}),h=x)}}),!d.length)return{handle:null,validHandleResult:tp()};if(d.length===1)return d[0];const f=d.some(({validHandleResult:k})=>k.isValid),g=d.some(({handle:k})=>k.type==="target");return d.find(({handle:k,validHandleResult:x})=>g?k.type==="target":f?x.isValid:!0)||d[0]}const Ek={source:null,target:null,sourceHandle:null,targetHandle:null},tp=()=>({handleDomNode:null,isValid:!1,connection:Ek,endHandle:null});function np(e,t,n,r,o,s,l){const i=o==="target",c=l.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...tp(),handleDomNode:c};if(c){const d=yu(void 0,c),h=c.getAttribute("data-nodeid"),f=c.getAttribute("data-handleid"),g=c.classList.contains("connectable"),k=c.classList.contains("connectableend"),x={source:i?h:n,sourceHandle:i?f:r,target:i?n:h,targetHandle:i?r:f};u.connection=x,g&&k&&(t===Cn.Strict?i&&d==="source"||!i&&d==="target":h!==n||f!==r)&&(u.endHandle={nodeId:h,handleId:f,type:d},u.isValid=s(x))}return u}function _k({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,s)=>{if(s[ve]){const{handleBounds:l}=s[ve];let i=[],c=[];l&&(i=gf(s,l,"source",`${t}-${n}-${r}`),c=gf(s,l,"target",`${t}-${n}-${r}`)),o.push(...i,...c)}return o},[])}function yu(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Wi(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Ck(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function rp({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:s,setState:l,isValidConnection:i,edgeUpdaterType:c,onReconnectEnd:u}){const d=Hg(e.target),{connectionMode:h,domNode:f,autoPanOnConnect:g,connectionRadius:k,onConnectStart:x,panBy:E,getNodes:m,cancelConnection:y}=s();let v=0,w;const{x:S,y:N}=Sn(e),j=d==null?void 0:d.elementFromPoint(S,N),M=yu(c,j),P=f==null?void 0:f.getBoundingClientRect();if(!P||!M)return;let A,F=Sn(e,P),H=!1,O=null,b=!1,_=null;const $=_k({nodes:m(),nodeId:n,handleId:t,handleType:M}),z=()=>{if(!g)return;const[T,I]=Wg(F,P);E({x:T,y:I}),v=requestAnimationFrame(z)};l({connectionPosition:F,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:M,connectionStartHandle:{nodeId:n,handleId:t,type:M},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:M});function L(T){const{transform:I}=s();F=Sn(T,P);const{handle:R,validHandleResult:B}=Sk(T,d,nc(F,I,!1,[1,1]),k,$,V=>np(V,h,n,t,o?"target":"source",i,d));if(w=R,H||(z(),H=!0),_=B.handleDomNode,O=B.connection,b=B.isValid,l({connectionPosition:w&&b?Qg({x:w.x,y:w.y},I):F,connectionStatus:Ck(!!w,b),connectionEndHandle:B.endHandle}),!w&&!b&&!_)return Wi(A);O.source!==O.target&&_&&(Wi(A),A=_,_.classList.add("connecting","react-flow__handle-connecting"),_.classList.toggle("valid",b),_.classList.toggle("react-flow__handle-valid",b))}function C(T){var I,R;(w||_)&&O&&b&&(r==null||r(O)),(R=(I=s()).onConnectEnd)==null||R.call(I,T),c&&(u==null||u(T)),Wi(A),y(),cancelAnimationFrame(v),H=!1,b=!1,O=null,_=null,d.removeEventListener("mousemove",L),d.removeEventListener("mouseup",C),d.removeEventListener("touchmove",L),d.removeEventListener("touchend",C)}d.addEventListener("mousemove",L),d.addEventListener("mouseup",C),d.addEventListener("touchmove",L),d.addEventListener("touchend",C)}const pf=()=>!0,jk=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),$k=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:s,connectionClickStartHandle:l}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.handleId)===t&&(l==null?void 0:l.type)===n}},op=p.forwardRef(({type:e="source",position:t=q.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:l,onConnect:i,children:c,className:u,onMouseDown:d,onTouchStart:h,...f},g)=>{var P,A;const k=l||null,x=e==="target",E=_e(),m=wk(),{connectOnClick:y,noPanClassName:v}=ce(jk,Me),{connecting:w,clickConnecting:S}=ce($k(m,k,e),Me);m||(A=(P=E.getState()).onError)==null||A.call(P,"010",tn.error010());const N=F=>{const{defaultEdgeOptions:H,onConnect:O,hasDefaultEdges:b}=E.getState(),_={...H,...F};if(b){const{edges:$,setEdges:z}=E.getState();z(mu(_,$))}O==null||O(_),i==null||i(_)},j=F=>{if(!m)return;const H=Gg(F);o&&(H&&F.button===0||!H)&&rp({event:F,handleId:k,nodeId:m,onConnect:N,isTarget:x,getState:E.getState,setState:E.setState,isValidConnection:n||E.getState().isValidConnection||pf}),H?d==null||d(F):h==null||h(F)},M=F=>{const{onClickConnectStart:H,onClickConnectEnd:O,connectionClickStartHandle:b,connectionMode:_,isValidConnection:$}=E.getState();if(!m||!b&&!o)return;if(!b){H==null||H(F,{nodeId:m,handleId:k,handleType:e}),E.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:k}});return}const z=Hg(F.target),L=n||$||pf,{connection:C,isValid:T}=np({nodeId:m,id:k,type:e},_,b.nodeId,b.handleId||null,b.type,L,z);T&&N(C),O==null||O(F),E.setState({connectionClickStartHandle:null})};return D.createElement("div",{"data-handleid":k,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${k}-${e}`,className:Re(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",v,u,{source:!x,target:x,connectable:r,connectablestart:o,connectableend:s,connecting:S,connectionindicator:r&&(o&&!w||s&&w)}]),onMouseDown:j,onTouchStart:j,onClick:y?M:void 0,ref:g,...f},c)});op.displayName="Handle";var Br=p.memo(op);const sp=({data:e,isConnectable:t,targetPosition:n=q.Top,sourcePosition:r=q.Bottom})=>D.createElement(D.Fragment,null,D.createElement(Br,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,D.createElement(Br,{type:"source",position:r,isConnectable:t}));sp.displayName="DefaultNode";var rc=p.memo(sp);const lp=({data:e,isConnectable:t,sourcePosition:n=q.Bottom})=>D.createElement(D.Fragment,null,e==null?void 0:e.label,D.createElement(Br,{type:"source",position:n,isConnectable:t}));lp.displayName="InputNode";var ip=p.memo(lp);const ap=({data:e,isConnectable:t,targetPosition:n=q.Top})=>D.createElement(D.Fragment,null,D.createElement(Br,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);ap.displayName="OutputNode";var cp=p.memo(ap);const xu=()=>null;xu.displayName="GroupNode";const Mk=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Ls=e=>e.id;function Lk(e,t){return Me(e.selectedNodes.map(Ls),t.selectedNodes.map(Ls))&&Me(e.selectedEdges.map(Ls),t.selectedEdges.map(Ls))}const up=p.memo(({onSelectionChange:e})=>{const t=_e(),{selectedNodes:n,selectedEdges:r}=ce(Mk,Lk);return p.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(s=>s(o))},[n,r,e]),null});up.displayName="SelectionListener";const Tk=e=>!!e.onSelectionChange;function Pk({onSelectionChange:e}){const t=ce(Tk);return e||t?D.createElement(up,{onSelectionChange:e}):null}const Ak=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ir(e,t){p.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function K(e,t,n){p.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const Dk=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:s,onConnectEnd:l,onClickConnectStart:i,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:h,edgesFocusable:f,edgesUpdatable:g,elevateNodesOnSelect:k,minZoom:x,maxZoom:E,nodeExtent:m,onNodesChange:y,onEdgesChange:v,elementsSelectable:w,connectionMode:S,snapGrid:N,snapToGrid:j,translateExtent:M,connectOnClick:P,defaultEdgeOptions:A,fitView:F,fitViewOptions:H,onNodesDelete:O,onEdgesDelete:b,onNodeDrag:_,onNodeDragStart:$,onNodeDragStop:z,onSelectionDrag:L,onSelectionDragStart:C,onSelectionDragStop:T,noPanClassName:I,nodeOrigin:R,rfId:B,autoPanOnConnect:V,autoPanOnNodeDrag:Y,onError:Z,connectionRadius:Q,isValidConnection:ee,nodeDragThreshold:re})=>{const{setNodes:te,setEdges:Ne,setDefaultNodesAndEdges:we,setMinZoom:Le,setMaxZoom:Ce,setTranslateExtent:ge,setNodeExtent:Te,reset:se}=ce(Ak,Me),X=_e();return p.useEffect(()=>{const G=r==null?void 0:r.map(ne=>({...ne,...A}));return we(n,G),()=>{se()}},[]),K("defaultEdgeOptions",A,X.setState),K("connectionMode",S,X.setState),K("onConnect",o,X.setState),K("onConnectStart",s,X.setState),K("onConnectEnd",l,X.setState),K("onClickConnectStart",i,X.setState),K("onClickConnectEnd",c,X.setState),K("nodesDraggable",u,X.setState),K("nodesConnectable",d,X.setState),K("nodesFocusable",h,X.setState),K("edgesFocusable",f,X.setState),K("edgesUpdatable",g,X.setState),K("elementsSelectable",w,X.setState),K("elevateNodesOnSelect",k,X.setState),K("snapToGrid",j,X.setState),K("snapGrid",N,X.setState),K("onNodesChange",y,X.setState),K("onEdgesChange",v,X.setState),K("connectOnClick",P,X.setState),K("fitViewOnInit",F,X.setState),K("fitViewOnInitOptions",H,X.setState),K("onNodesDelete",O,X.setState),K("onEdgesDelete",b,X.setState),K("onNodeDrag",_,X.setState),K("onNodeDragStart",$,X.setState),K("onNodeDragStop",z,X.setState),K("onSelectionDrag",L,X.setState),K("onSelectionDragStart",C,X.setState),K("onSelectionDragStop",T,X.setState),K("noPanClassName",I,X.setState),K("nodeOrigin",R,X.setState),K("rfId",B,X.setState),K("autoPanOnConnect",V,X.setState),K("autoPanOnNodeDrag",Y,X.setState),K("onError",Z,X.setState),K("connectionRadius",Q,X.setState),K("isValidConnection",ee,X.setState),K("nodeDragThreshold",re,X.setState),ir(e,te),ir(t,Ne),ir(x,Le),ir(E,Ce),ir(M,ge),ir(m,Te),null},mf={display:"none"},Rk={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},dp="react-flow__node-desc",fp="react-flow__edge-desc",Ik="react-flow__aria-live",zk=e=>e.ariaLiveMessage;function Fk({rfId:e}){const t=ce(zk);return D.createElement("div",{id:`${Ik}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Rk},t)}function Ok({rfId:e,disableKeyboardA11y:t}){return D.createElement(D.Fragment,null,D.createElement("div",{id:`${dp}-${e}`,style:mf},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),D.createElement("div",{id:`${fp}-${e}`,style:mf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&D.createElement(Fk,{rfId:e}))}var Jo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=p.useState(!1),o=p.useRef(!1),s=p.useRef(new Set([])),[l,i]=p.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=u.reduce((h,f)=>h.concat(...f),[]);return[u,d]}return[[],[]]},[e]);return p.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=g=>{if(o.current=g.ctrlKey||g.metaKey||g.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Ja(g))return!1;const x=xf(g.code,i);s.current.add(g[x]),yf(l,s.current,!1)&&(g.preventDefault(),r(!0))},h=g=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Ja(g))return!1;const x=xf(g.code,i);yf(l,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[x]),g.key==="Meta"&&s.current.clear(),o.current=!1},f=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",h),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",h),window.removeEventListener("blur",f)}}},[e,r]),n};function yf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function xf(e,t){return t.includes(e)?"code":"key"}function hp(e,t,n,r){var i,c;const o=e.parentNode||e.parentId;if(!o)return n;const s=t.get(o),l=Xn(s,r);return hp(s,t,{x:(n.x??0)+l.x,y:(n.y??0)+l.y,z:(((i=s[ve])==null?void 0:i.z)??0)>(n.z??0)?((c=s[ve])==null?void 0:c.z)??0:n.z??0},r)}function gp(e,t,n){e.forEach(r=>{var s;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:l,y:i,z:c}=hp(r,e,{...r.position,z:((s=r[ve])==null?void 0:s.z)??0},t);r.positionAbsolute={x:l,y:i},r[ve].z=c,n!=null&&n[r.id]&&(r[ve].isParent=!0)}})}function Hi(e,t,n,r){const o=new Map,s={},l=r?1e3:0;return e.forEach(i=>{var g;const c=(gt(i.zIndex)?i.zIndex:0)+(i.selected?l:0),u=t.get(i.id),d={...i,positionAbsolute:{x:i.position.x,y:i.position.y}},h=i.parentNode||i.parentId;h&&(s[h]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==i.type;Object.defineProperty(d,ve,{enumerable:!1,value:{handleBounds:f||(g=u==null?void 0:u[ve])==null?void 0:g.handleBounds,z:c}}),o.set(i.id,d)}),gp(o,n,s),o}function pp(e,t={}){const{getNodes:n,width:r,height:o,minZoom:s,maxZoom:l,d3Zoom:i,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:h}=e(),f=t.initial&&!u&&d;if(i&&c&&(f||!t.initial)){const k=n().filter(E=>{var y;const m=t.includeHiddenNodes?E.width&&E.height:!E.hidden;return(y=t.nodes)!=null&&y.length?m&&t.nodes.some(v=>v.id===E.id):m}),x=k.every(E=>E.width&&E.height);if(k.length>0&&x){const E=ri(k,h),{x:m,y,zoom:v}=ep(E,r,o,t.minZoom??s,t.maxZoom??l,t.padding??.1),w=Xt.translate(m,y).scale(v);return typeof t.duration=="number"&&t.duration>0?i.transform(Fn(c,t.duration),w):i.transform(c,w),!0}}return!1}function Wk(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[ve]:r[ve],selected:n.selected})}),new Map(t)}function Hk(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Ts({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:s,onNodesChange:l,onEdgesChange:i,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:Wk(e,o)}),l==null||l(e)),t!=null&&t.length&&(u&&r({edges:Hk(t,s)}),i==null||i(t))}const ar=()=>{},Vk={zoomIn:ar,zoomOut:ar,zoomTo:ar,getZoom:()=>1,setViewport:ar,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ar,fitBounds:ar,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Bk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Uk=()=>{const e=_e(),{d3Zoom:t,d3Selection:n}=ce(Bk,Me);return p.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(Fn(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Fn(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,s)=>t.scaleTo(Fn(n,s==null?void 0:s.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,s)=>{const[l,i,c]=e.getState().transform,u=Xt.translate(o.x??l,o.y??i).scale(o.zoom??c);t.transform(Fn(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[o,s,l]=e.getState().transform;return{x:o,y:s,zoom:l}},fitView:o=>pp(e.getState,o),setCenter:(o,s,l)=>{const{width:i,height:c,maxZoom:u}=e.getState(),d=typeof(l==null?void 0:l.zoom)<"u"?l.zoom:u,h=i/2-o*d,f=c/2-s*d,g=Xt.translate(h,f).scale(d);t.transform(Fn(n,l==null?void 0:l.duration),g)},fitBounds:(o,s)=>{const{width:l,height:i,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:h,zoom:f}=ep(o,l,i,c,u,(s==null?void 0:s.padding)??.1),g=Xt.translate(d,h).scale(f);t.transform(Fn(n,s==null?void 0:s.duration),g)},project:o=>{const{transform:s,snapToGrid:l,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),nc(o,s,l,i)},screenToFlowPosition:o=>{const{transform:s,snapToGrid:l,snapGrid:i,domNode:c}=e.getState();if(!c)return o;const{x:u,y:d}=c.getBoundingClientRect(),h={x:o.x-u,y:o.y-d};return nc(h,s,l,i)},flowToScreenPosition:o=>{const{transform:s,domNode:l}=e.getState();if(!l)return o;const{x:i,y:c}=l.getBoundingClientRect(),u=Qg(o,s);return{x:u.x+i,y:u.y+c}},viewportInitialized:!0}:Vk,[t,n])};function vu(){const e=Uk(),t=_e(),n=p.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=p.useCallback(x=>t.getState().nodeInternals.get(x),[]),o=p.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(E=>({...E}))},[]),s=p.useCallback(x=>{const{edges:E=[]}=t.getState();return E.find(m=>m.id===x)},[]),l=p.useCallback(x=>{const{getNodes:E,setNodes:m,hasDefaultNodes:y,onNodesChange:v}=t.getState(),w=E(),S=typeof x=="function"?x(w):x;if(y)m(S);else if(v){const N=S.length===0?w.map(j=>({type:"remove",id:j.id})):S.map(j=>({item:j,type:"reset"}));v(N)}},[]),i=p.useCallback(x=>{const{edges:E=[],setEdges:m,hasDefaultEdges:y,onEdgesChange:v}=t.getState(),w=typeof x=="function"?x(E):x;if(y)m(w);else if(v){const S=w.length===0?E.map(N=>({type:"remove",id:N.id})):w.map(N=>({item:N,type:"reset"}));v(S)}},[]),c=p.useCallback(x=>{const E=Array.isArray(x)?x:[x],{getNodes:m,setNodes:y,hasDefaultNodes:v,onNodesChange:w}=t.getState();if(v){const N=[...m(),...E];y(N)}else if(w){const S=E.map(N=>({item:N,type:"add"}));w(S)}},[]),u=p.useCallback(x=>{const E=Array.isArray(x)?x:[x],{edges:m=[],setEdges:y,hasDefaultEdges:v,onEdgesChange:w}=t.getState();if(v)y([...m,...E]);else if(w){const S=E.map(N=>({item:N,type:"add"}));w(S)}},[]),d=p.useCallback(()=>{const{getNodes:x,edges:E=[],transform:m}=t.getState(),[y,v,w]=m;return{nodes:x().map(S=>({...S})),edges:E.map(S=>({...S})),viewport:{x:y,y:v,zoom:w}}},[]),h=p.useCallback(({nodes:x,edges:E})=>{const{nodeInternals:m,getNodes:y,edges:v,hasDefaultNodes:w,hasDefaultEdges:S,onNodesDelete:N,onEdgesDelete:j,onNodesChange:M,onEdgesChange:P}=t.getState(),A=(x||[]).map(_=>_.id),F=(E||[]).map(_=>_.id),H=y().reduce((_,$)=>{const z=$.parentNode||$.parentId,L=!A.includes($.id)&&z&&_.find(T=>T.id===z);return(typeof $.deletable=="boolean"?$.deletable:!0)&&(A.includes($.id)||L)&&_.push($),_},[]),O=v.filter(_=>typeof _.deletable=="boolean"?_.deletable:!0),b=O.filter(_=>F.includes(_.id));if(H||b){const _=Jg(H,O),$=[...b,..._],z=$.reduce((L,C)=>(L.includes(C.id)||L.push(C.id),L),[]);if((S||w)&&(S&&t.setState({edges:v.filter(L=>!z.includes(L.id))}),w&&(H.forEach(L=>{m.delete(L.id)}),t.setState({nodeInternals:new Map(m)}))),z.length>0&&(j==null||j($),P&&P(z.map(L=>({id:L,type:"remove"})))),H.length>0&&(N==null||N(H),M)){const L=H.map(C=>({id:C.id,type:"remove"}));M(L)}}},[]),f=p.useCallback(x=>{const E=fk(x),m=E?null:t.getState().nodeInternals.get(x.id);return!E&&!m?[null,null,E]:[E?x:cf(m),m,E]},[]),g=p.useCallback((x,E=!0,m)=>{const[y,v,w]=f(x);return y?(m||t.getState().getNodes()).filter(S=>{if(!w&&(S.id===v.id||!S.positionAbsolute))return!1;const N=cf(S),j=Ka(N,y);return E&&j>0||j>=y.width*y.height}):[]},[]),k=p.useCallback((x,E,m=!0)=>{const[y]=f(x);if(!y)return!1;const v=Ka(y,E);return m&&v>0||v>=y.width*y.height},[]);return p.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:s,setNodes:l,setEdges:i,addNodes:c,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:g,isNodeIntersecting:k}),[e,n,r,o,s,l,i,c,u,d,h,g,k])}const Gk={actInsideInputWithModifier:!1};var Yk=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=_e(),{deleteElements:r}=vu(),o=Jo(e,Gk),s=Jo(t);p.useEffect(()=>{if(o){const{edges:l,getNodes:i}=n.getState(),c=i().filter(d=>d.selected),u=l.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),p.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function Xk(e){const t=_e();p.useEffect(()=>{let n;const r=()=>{var s,l;if(!e.current)return;const o=uu(e.current);(o.height===0||o.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",tn.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const wu={position:"absolute",width:"100%",height:"100%",top:0,left:0},qk=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ps=e=>({x:e.x,y:e.y,zoom:e.k}),cr=(e,t)=>e.target.closest(`.${t}`),vf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),wf=e=>{const t=e.ctrlKey&&Ll()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Zk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Qk=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:s=!0,panOnScroll:l=!1,panOnScrollSpeed:i=.5,panOnScrollMode:c=Bn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:f,translateExtent:g,minZoom:k,maxZoom:x,zoomActivationKeyCode:E,preventScrolling:m=!0,children:y,noWheelClassName:v,noPanClassName:w})=>{const S=p.useRef(),N=_e(),j=p.useRef(!1),M=p.useRef(!1),P=p.useRef(null),A=p.useRef({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:H,d3ZoomHandler:O,userSelectionActive:b}=ce(Zk,Me),_=Jo(E),$=p.useRef(0),z=p.useRef(!1),L=p.useRef();return Xk(P),p.useEffect(()=>{if(P.current){const C=P.current.getBoundingClientRect(),T=Fg().scaleExtent([k,x]).translateExtent(g),I=ft(P.current).call(T),R=Xt.translate(f.x,f.y).scale(Vr(f.zoom,k,x)),B=[[0,0],[C.width,C.height]],V=T.constrain()(R,B,g);T.transform(I,V),T.wheelDelta(wf),N.setState({d3Zoom:T,d3Selection:I,d3ZoomHandler:I.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:P.current.closest(".react-flow")})}},[]),p.useEffect(()=>{H&&F&&(l&&!_&&!b?H.on("wheel.zoom",C=>{if(cr(C,v))return!1;C.preventDefault(),C.stopImmediatePropagation();const T=H.property("__zoom").k||1;if(C.ctrlKey&&s){const ee=bt(C),re=wf(C),te=T*Math.pow(2,re);F.scaleTo(H,te,ee,C);return}const I=C.deltaMode===1?20:1;let R=c===Bn.Vertical?0:C.deltaX*I,B=c===Bn.Horizontal?0:C.deltaY*I;!Ll()&&C.shiftKey&&c!==Bn.Vertical&&(R=C.deltaY*I,B=0),F.translateBy(H,-(R/T)*i,-(B/T)*i,{internal:!0});const V=Ps(H.property("__zoom")),{onViewportChangeStart:Y,onViewportChange:Z,onViewportChangeEnd:Q}=N.getState();clearTimeout(L.current),z.current||(z.current=!0,t==null||t(C,V),Y==null||Y(V)),z.current&&(e==null||e(C,V),Z==null||Z(V),L.current=setTimeout(()=>{n==null||n(C,V),Q==null||Q(V),z.current=!1},150))},{passive:!1}):typeof O<"u"&&H.on("wheel.zoom",function(C,T){if(!m&&C.type==="wheel"&&!C.ctrlKey||cr(C,v))return null;C.preventDefault(),O.call(this,C,T)},{passive:!1}))},[b,l,c,H,F,O,_,s,m,v,t,e,n]),p.useEffect(()=>{F&&F.on("start",C=>{var R,B;if(!C.sourceEvent||C.sourceEvent.internal)return null;$.current=(R=C.sourceEvent)==null?void 0:R.button;const{onViewportChangeStart:T}=N.getState(),I=Ps(C.transform);j.current=!0,A.current=I,((B=C.sourceEvent)==null?void 0:B.type)==="mousedown"&&N.setState({paneDragging:!0}),T==null||T(I),t==null||t(C.sourceEvent,I)})},[F,t]),p.useEffect(()=>{F&&(b&&!j.current?F.on("zoom",null):b||F.on("zoom",C=>{var I;const{onViewportChange:T}=N.getState();if(N.setState({transform:[C.transform.x,C.transform.y,C.transform.k]}),M.current=!!(r&&vf(h,$.current??0)),(e||T)&&!((I=C.sourceEvent)!=null&&I.internal)){const R=Ps(C.transform);T==null||T(R),e==null||e(C.sourceEvent,R)}}))},[b,F,e,h,r]),p.useEffect(()=>{F&&F.on("end",C=>{if(!C.sourceEvent||C.sourceEvent.internal)return null;const{onViewportChangeEnd:T}=N.getState();if(j.current=!1,N.setState({paneDragging:!1}),r&&vf(h,$.current??0)&&!M.current&&r(C.sourceEvent),M.current=!1,(n||T)&&qk(A.current,C.transform)){const I=Ps(C.transform);A.current=I,clearTimeout(S.current),S.current=setTimeout(()=>{T==null||T(I),n==null||n(C.sourceEvent,I)},l?150:0)}})},[F,l,h,n,r]),p.useEffect(()=>{F&&F.filter(C=>{const T=_||o,I=s&&C.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&C.button===1&&C.type==="mousedown"&&(cr(C,"react-flow__node")||cr(C,"react-flow__edge")))return!0;if(!h&&!T&&!l&&!u&&!s||b||!u&&C.type==="dblclick"||cr(C,v)&&C.type==="wheel"||cr(C,w)&&(C.type!=="wheel"||l&&C.type==="wheel"&&!_)||!s&&C.ctrlKey&&C.type==="wheel"||!T&&!l&&!I&&C.type==="wheel"||!h&&(C.type==="mousedown"||C.type==="touchstart")||Array.isArray(h)&&!h.includes(C.button)&&C.type==="mousedown")return!1;const R=Array.isArray(h)&&h.includes(C.button)||!C.button||C.button<=1;return(!C.ctrlKey||C.type==="wheel")&&R})},[b,F,o,s,l,u,h,d,_]),D.createElement("div",{className:"react-flow__renderer",ref:P,style:wu},y)},Kk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Jk(){const{userSelectionActive:e,userSelectionRect:t}=ce(Kk,Me);return e&&t?D.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function kf(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(o>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),s>0&&(r.style.height+=s),t.position.x<0){const l=Math.abs(t.position.x);r.position.x=r.position.x-l,r.style.width+=l,t.position.x=0}if(t.position.y<0){const l=Math.abs(t.position.y);r.position.y=r.position.y-l,r.style.height+=l,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function mp(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const s=e.filter(i=>i.id===o.id);if(s.length===0)return r.push(o),r;const l={...o};for(const i of s)if(i)switch(i.type){case"select":{l.selected=i.selected;break}case"position":{typeof i.position<"u"&&(l.position=i.position),typeof i.positionAbsolute<"u"&&(l.positionAbsolute=i.positionAbsolute),typeof i.dragging<"u"&&(l.dragging=i.dragging),l.expandParent&&kf(r,l);break}case"dimensions":{typeof i.dimensions<"u"&&(l.width=i.dimensions.width,l.height=i.dimensions.height),typeof i.updateStyle<"u"&&(l.style={...l.style||{},...i.dimensions}),typeof i.resizing=="boolean"&&(l.resizing=i.resizing),l.expandParent&&kf(r,l);break}case"remove":return r}return r.push(l),r},n)}function yp(e,t){return mp(e,t)}function eb(e,t){return mp(e,t)}const cn=(e,t)=>({id:e,type:"select",selected:t});function Nr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(cn(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(cn(r.id,!1))),n},[])}const Vi=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},tb=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),xp=p.memo(({isSelecting:e,selectionMode:t=Ko.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:i,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:h})=>{const f=p.useRef(null),g=_e(),k=p.useRef(0),x=p.useRef(0),E=p.useRef(),{userSelectionActive:m,elementsSelectable:y,dragging:v}=ce(tb,Me),w=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),k.current=0,x.current=0},S=O=>{s==null||s(O),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},N=O=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){O.preventDefault();return}l==null||l(O)},j=i?O=>i(O):void 0,M=O=>{const{resetSelectedElements:b,domNode:_}=g.getState();if(E.current=_==null?void 0:_.getBoundingClientRect(),!y||!e||O.button!==0||O.target!==f.current||!E.current)return;const{x:$,y:z}=Sn(O,E.current);b(),g.setState({userSelectionRect:{width:0,height:0,startX:$,startY:z,x:$,y:z}}),r==null||r(O)},P=O=>{const{userSelectionRect:b,nodeInternals:_,edges:$,transform:z,onNodesChange:L,onEdgesChange:C,nodeOrigin:T,getNodes:I}=g.getState();if(!e||!E.current||!b)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const R=Sn(O,E.current),B=b.startX??0,V=b.startY??0,Y={...b,x:R.x<B?R.x:B,y:R.y<V?R.y:V,width:Math.abs(R.x-B),height:Math.abs(R.y-V)},Z=I(),Q=Kg(_,Y,z,t===Ko.Partial,!0,T),ee=Jg(Q,$).map(te=>te.id),re=Q.map(te=>te.id);if(k.current!==re.length){k.current=re.length;const te=Nr(Z,re);te.length&&(L==null||L(te))}if(x.current!==ee.length){x.current=ee.length;const te=Nr($,ee);te.length&&(C==null||C(te))}g.setState({userSelectionRect:Y})},A=O=>{if(O.button!==0)return;const{userSelectionRect:b}=g.getState();!m&&b&&O.target===f.current&&(S==null||S(O)),g.setState({nodesSelectionActive:k.current>0}),w(),o==null||o(O)},F=O=>{m&&(g.setState({nodesSelectionActive:k.current>0}),o==null||o(O)),w()},H=y&&(e||m);return D.createElement("div",{className:Re(["react-flow__pane",{dragging:v,selection:e}]),onClick:H?void 0:Vi(S,f),onContextMenu:Vi(N,f),onWheel:Vi(j,f),onMouseEnter:H?void 0:c,onMouseDown:H?M:void 0,onMouseMove:H?P:u,onMouseUp:H?A:void 0,onMouseLeave:H?F:d,ref:f,style:wu},h,D.createElement(Jk,null))});xp.displayName="Pane";function vp(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:vp(r,t):!1}function bf(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function nb(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!vp(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var s,l;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=o.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((l=o.positionAbsolute)==null?void 0:l.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function rb(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function wp(e,t,n,r,o=[0,0],s){const l=rb(e,e.extent||r);let i=l;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const h=n.get(c),{x:f,y:g}=Xn(h,o).positionAbsolute;i=h&&gt(f)&&gt(g)&&gt(h.width)&&gt(h.height)?[[f+e.width*o[0],g+e.height*o[1]],[f+h.width-e.width+e.width*o[0],g+h.height-e.height+e.height*o[1]]]:i}else s==null||s("005",tn.error005()),i=l;else if(e.extent&&c&&e.extent!=="parent"){const h=n.get(c),{x:f,y:g}=Xn(h,o).positionAbsolute;i=[[e.extent[0][0]+f,e.extent[0][1]+g],[e.extent[1][0]+f,e.extent[1][1]+g]]}let u={x:0,y:0};if(c){const h=n.get(c);u=Xn(h,o).positionAbsolute}const d=i&&i!=="parent"?du(t,i):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Bi({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const Nf=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const s=Array.from(o),l=t.getBoundingClientRect(),i={x:l.width*r[0],y:l.height*r[1]};return s.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-l.left-i.x)/n,y:(u.top-l.top-i.y)/n,...uu(c)}})};function co(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function oc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:l,nodeInternals:i,onError:c}=t.getState(),u=i.get(e);if(!u){c==null||c("012",tn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&l)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):o([e])}function ob(){const e=_e();return p.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:s}=e.getState(),l=n.touches?n.touches[0].clientX:n.clientX,i=n.touches?n.touches[0].clientY:n.clientY,c={x:(l-r[0])/r[2],y:(i-r[1])/r[2]};return{xSnapped:s?o[0]*Math.round(c.x/o[0]):c.x,ySnapped:s?o[1]*Math.round(c.y/o[1]):c.y,...c}},[])}function Ui(e){return(t,n,r)=>e==null?void 0:e(t,r)}function kp({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:s,selectNodesOnDrag:l}){const i=_e(),[c,u]=p.useState(!1),d=p.useRef([]),h=p.useRef({x:null,y:null}),f=p.useRef(0),g=p.useRef(null),k=p.useRef({x:0,y:0}),x=p.useRef(null),E=p.useRef(!1),m=p.useRef(!1),y=p.useRef(!1),v=ob();return p.useEffect(()=>{if(e!=null&&e.current){const w=ft(e.current),S=({x:M,y:P})=>{const{nodeInternals:A,onNodeDrag:F,onSelectionDrag:H,updateNodePositions:O,nodeExtent:b,snapGrid:_,snapToGrid:$,nodeOrigin:z,onError:L}=i.getState();h.current={x:M,y:P};let C=!1,T={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&b){const R=ri(d.current,z);T=Qo(R)}if(d.current=d.current.map(R=>{const B={x:M-R.distance.x,y:P-R.distance.y};$&&(B.x=_[0]*Math.round(B.x/_[0]),B.y=_[1]*Math.round(B.y/_[1]));const V=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];d.current.length>1&&b&&!R.extent&&(V[0][0]=R.positionAbsolute.x-T.x+b[0][0],V[1][0]=R.positionAbsolute.x+(R.width??0)-T.x2+b[1][0],V[0][1]=R.positionAbsolute.y-T.y+b[0][1],V[1][1]=R.positionAbsolute.y+(R.height??0)-T.y2+b[1][1]);const Y=wp(R,B,A,V,z,L);return C=C||R.position.x!==Y.position.x||R.position.y!==Y.position.y,R.position=Y.position,R.positionAbsolute=Y.positionAbsolute,R}),!C)return;O(d.current,!0,!0),u(!0);const I=o?F:Ui(H);if(I&&x.current){const[R,B]=Bi({nodeId:o,dragItems:d.current,nodeInternals:A});I(x.current,R,B)}},N=()=>{if(!g.current)return;const[M,P]=Wg(k.current,g.current);if(M!==0||P!==0){const{transform:A,panBy:F}=i.getState();h.current.x=(h.current.x??0)-M/A[2],h.current.y=(h.current.y??0)-P/A[2],F({x:M,y:P})&&S(h.current)}f.current=requestAnimationFrame(N)},j=M=>{var z;const{nodeInternals:P,multiSelectionActive:A,nodesDraggable:F,unselectNodesAndEdges:H,onNodeDragStart:O,onSelectionDragStart:b}=i.getState();m.current=!0;const _=o?O:Ui(b);(!l||!s)&&!A&&o&&((z=P.get(o))!=null&&z.selected||H()),o&&s&&l&&oc({id:o,store:i,nodeRef:e});const $=v(M);if(h.current=$,d.current=nb(P,F,$,o),_&&d.current){const[L,C]=Bi({nodeId:o,dragItems:d.current,nodeInternals:P});_(M.sourceEvent,L,C)}};if(t)w.on(".drag",null);else{const M=m2().on("start",P=>{const{domNode:A,nodeDragThreshold:F}=i.getState();F===0&&j(P),y.current=!1;const H=v(P);h.current=H,g.current=(A==null?void 0:A.getBoundingClientRect())||null,k.current=Sn(P.sourceEvent,g.current)}).on("drag",P=>{var O,b;const A=v(P),{autoPanOnNodeDrag:F,nodeDragThreshold:H}=i.getState();if(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!E.current&&m.current&&F&&(E.current=!0,N()),!m.current){const _=A.xSnapped-(((O=h==null?void 0:h.current)==null?void 0:O.x)??0),$=A.ySnapped-(((b=h==null?void 0:h.current)==null?void 0:b.y)??0);Math.sqrt(_*_+$*$)>H&&j(P)}(h.current.x!==A.xSnapped||h.current.y!==A.ySnapped)&&d.current&&m.current&&(x.current=P.sourceEvent,k.current=Sn(P.sourceEvent,g.current),S(A))}}).on("end",P=>{if(!(!m.current||y.current)&&(u(!1),E.current=!1,m.current=!1,cancelAnimationFrame(f.current),d.current)){const{updateNodePositions:A,nodeInternals:F,onNodeDragStop:H,onSelectionDragStop:O}=i.getState(),b=o?H:Ui(O);if(A(d.current,!1,!1),b){const[_,$]=Bi({nodeId:o,dragItems:d.current,nodeInternals:F});b(P.sourceEvent,_,$)}}}).filter(P=>{const A=P.target;return!P.button&&(!n||!bf(A,`.${n}`,e))&&(!r||bf(A,r,e))});return w.call(M),()=>{w.on(".drag",null)}}}},[e,t,n,r,s,i,o,l,v]),c}function bp(){const e=_e();return p.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:s,getNodes:l,snapToGrid:i,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),h=l().filter(y=>y.selected&&(y.draggable||d&&typeof y.draggable>"u")),f=i?c[0]:5,g=i?c[1]:5,k=n.isShiftPressed?4:1,x=n.x*f*k,E=n.y*g*k,m=h.map(y=>{if(y.positionAbsolute){const v={x:y.positionAbsolute.x+x,y:y.positionAbsolute.y+E};i&&(v.x=c[0]*Math.round(v.x/c[0]),v.y=c[1]*Math.round(v.y/c[1]));const{positionAbsolute:w,position:S}=wp(y,v,r,o,void 0,u);y.position=S,y.positionAbsolute=w}return y});s(m,!0,!1)},[])}const Tr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var uo=e=>{const t=({id:n,type:r,data:o,xPos:s,yPos:l,xPosOrigin:i,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:h,onMouseMove:f,onMouseLeave:g,onContextMenu:k,onDoubleClick:x,style:E,className:m,isDraggable:y,isSelectable:v,isConnectable:w,isFocusable:S,selectNodesOnDrag:N,sourcePosition:j,targetPosition:M,hidden:P,resizeObserver:A,dragHandle:F,zIndex:H,isParent:O,noDragClassName:b,noPanClassName:_,initialized:$,disableKeyboardA11y:z,ariaLabel:L,rfId:C,hasHandleBounds:T})=>{const I=_e(),R=p.useRef(null),B=p.useRef(null),V=p.useRef(j),Y=p.useRef(M),Z=p.useRef(r),Q=v||y||d||h||f||g,ee=bp(),re=co(n,I.getState,h),te=co(n,I.getState,f),Ne=co(n,I.getState,g),we=co(n,I.getState,k),Le=co(n,I.getState,x),Ce=se=>{const{nodeDragThreshold:X}=I.getState();if(v&&(!N||!y||X>0)&&oc({id:n,store:I,nodeRef:R}),d){const G=I.getState().nodeInternals.get(n);G&&d(se,{...G})}},ge=se=>{if(!Ja(se)&&!z)if(Ug.includes(se.key)&&v){const X=se.key==="Escape";oc({id:n,store:I,unselect:X,nodeRef:R})}else y&&u&&Object.prototype.hasOwnProperty.call(Tr,se.key)&&(I.setState({ariaLiveMessage:`Moved selected node ${se.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~l}`}),ee({x:Tr[se.key].x,y:Tr[se.key].y,isShiftPressed:se.shiftKey}))};p.useEffect(()=>()=>{B.current&&(A==null||A.unobserve(B.current),B.current=null)},[]),p.useEffect(()=>{if(R.current&&!P){const se=R.current;(!$||!T||B.current!==se)&&(B.current&&(A==null||A.unobserve(B.current)),A==null||A.observe(se),B.current=se)}},[P,$,T]),p.useEffect(()=>{const se=Z.current!==r,X=V.current!==j,G=Y.current!==M;R.current&&(se||X||G)&&(se&&(Z.current=r),X&&(V.current=j),G&&(Y.current=M),I.getState().updateNodeDimensions([{id:n,nodeElement:R.current,forceUpdate:!0}]))},[n,r,j,M]);const Te=kp({nodeRef:R,disabled:P||!y,noDragClassName:b,handleSelector:F,nodeId:n,isSelectable:v,selectNodesOnDrag:N});return P?null:D.createElement("div",{className:Re(["react-flow__node",`react-flow__node-${r}`,{[_]:y},m,{selected:u,selectable:v,parent:O,dragging:Te}]),ref:R,style:{zIndex:H,transform:`translate(${i}px,${c}px)`,pointerEvents:Q?"all":"none",visibility:$?"visible":"hidden",...E},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:re,onMouseMove:te,onMouseLeave:Ne,onContextMenu:we,onClick:Ce,onDoubleClick:Le,onKeyDown:S?ge:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":z?void 0:`${dp}-${C}`,"aria-label":L},D.createElement(vk,{value:n},D.createElement(e,{id:n,data:o,type:r,xPos:s,yPos:l,selected:u,isConnectable:w,sourcePosition:j,targetPosition:M,dragging:Te,dragHandle:F,zIndex:H})))};return t.displayName="NodeWrapper",p.memo(t)};const sb=e=>{const t=e.getNodes().filter(n=>n.selected);return{...ri(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function lb({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=_e(),{width:o,height:s,x:l,y:i,transformString:c,userSelectionActive:u}=ce(sb,Me),d=bp(),h=p.useRef(null);if(p.useEffect(()=>{var k;n||(k=h.current)==null||k.focus({preventScroll:!0})},[n]),kp({nodeRef:h}),u||!o||!s)return null;const f=e?k=>{const x=r.getState().getNodes().filter(E=>E.selected);e(k,x)}:void 0,g=k=>{Object.prototype.hasOwnProperty.call(Tr,k.key)&&d({x:Tr[k.key].x,y:Tr[k.key].y,isShiftPressed:k.shiftKey})};return D.createElement("div",{className:Re(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},D.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:o,height:s,top:i,left:l}}))}var ib=p.memo(lb);const ab=e=>e.nodesSelectionActive,Np=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:l,deleteKeyCode:i,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:f,selectionMode:g,onSelectionStart:k,onSelectionEnd:x,multiSelectionKeyCode:E,panActivationKeyCode:m,zoomActivationKeyCode:y,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:N,panOnScrollSpeed:j,panOnScrollMode:M,zoomOnDoubleClick:P,panOnDrag:A,defaultViewport:F,translateExtent:H,minZoom:O,maxZoom:b,preventScrolling:_,onSelectionContextMenu:$,noWheelClassName:z,noPanClassName:L,disableKeyboardA11y:C})=>{const T=ce(ab),I=Jo(h),R=Jo(m),B=R||A,V=R||N,Y=I||f&&B!==!0;return Yk({deleteKeyCode:i,multiSelectionKeyCode:E}),D.createElement(Qk,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:s,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:V,panOnScrollSpeed:j,panOnScrollMode:M,zoomOnDoubleClick:P,panOnDrag:!I&&B,defaultViewport:F,translateExtent:H,minZoom:O,maxZoom:b,zoomActivationKeyCode:y,preventScrolling:_,noWheelClassName:z,noPanClassName:L},D.createElement(xp,{onSelectionStart:k,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:B,isSelecting:!!Y,selectionMode:g},e,T&&D.createElement(ib,{onSelectionContextMenu:$,noPanClassName:L,disableKeyboardA11y:C})))};Np.displayName="FlowRenderer";var cb=p.memo(Np);function ub(e){return ce(p.useCallback(n=>e?Kg(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function db(e){const t={input:uo(e.input||ip),default:uo(e.default||rc),output:uo(e.output||cp),group:uo(e.group||xu)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,s)=>(o[s]=uo(e[s]||rc),o),n);return{...t,...r}}const fb=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},hb=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Sp=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:s,onError:l}=ce(hb,Me),i=ub(e.onlyRenderVisibleElements),c=p.useRef(),u=p.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const f=h.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));s(f)});return c.current=d,d},[]);return p.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),D.createElement("div",{className:"react-flow__nodes",style:wu},i.map(d=>{var S,N,j;let h=d.type||"default";e.nodeTypes[h]||(l==null||l("003",tn.error003(h)),h="default");const f=e.nodeTypes[h]||e.nodeTypes.default,g=!!(d.draggable||t&&typeof d.draggable>"u"),k=!!(d.selectable||o&&typeof d.selectable>"u"),x=!!(d.connectable||n&&typeof d.connectable>"u"),E=!!(d.focusable||r&&typeof d.focusable>"u"),m=e.nodeExtent?du(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,y=(m==null?void 0:m.x)??0,v=(m==null?void 0:m.y)??0,w=fb({x:y,y:v,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return D.createElement(f,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||q.Bottom,targetPosition:d.targetPosition||q.Top,hidden:d.hidden,xPos:y,yPos:v,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:g,isSelectable:k,isConnectable:x,isFocusable:E,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((S=d[ve])==null?void 0:S.z)??0,isParent:!!((N=d[ve])!=null&&N.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((j=d[ve])!=null&&j.handleBounds)})}))};Sp.displayName="NodeRenderer";var gb=p.memo(Sp);const pb=(e,t,n)=>n===q.Left?e-t:n===q.Right?e+t:e,mb=(e,t,n)=>n===q.Top?e-t:n===q.Bottom?e+t:e,Sf="react-flow__edgeupdater",Ef=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:s,onMouseOut:l,type:i})=>D.createElement("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:l,className:Re([Sf,`${Sf}-${i}`]),cx:pb(t,r,e),cy:mb(n,r,e),r,stroke:"transparent",fill:"transparent"}),yb=()=>!0;var ur=e=>{const t=({id:n,className:r,type:o,data:s,onClick:l,onEdgeDoubleClick:i,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:g,labelBgPadding:k,labelBgBorderRadius:x,style:E,source:m,target:y,sourceX:v,sourceY:w,targetX:S,targetY:N,sourcePosition:j,targetPosition:M,elementsSelectable:P,hidden:A,sourceHandleId:F,targetHandleId:H,onContextMenu:O,onMouseEnter:b,onMouseMove:_,onMouseLeave:$,reconnectRadius:z,onReconnect:L,onReconnectStart:C,onReconnectEnd:T,markerEnd:I,markerStart:R,rfId:B,ariaLabel:V,isFocusable:Y,isReconnectable:Z,pathOptions:Q,interactionWidth:ee,disableKeyboardA11y:re})=>{const te=p.useRef(null),[Ne,we]=p.useState(!1),[Le,Ce]=p.useState(!1),ge=_e(),Te=p.useMemo(()=>`url('#${tc(R,B)}')`,[R,B]),se=p.useMemo(()=>`url('#${tc(I,B)}')`,[I,B]);if(A)return null;const X=Ie=>{var Mt;const{edges:xt,addSelectedEdges:Pn,unselectNodesAndEdges:An,multiSelectionActive:Dn}=ge.getState(),Ot=xt.find(qr=>qr.id===n);Ot&&(P&&(ge.setState({nodesSelectionActive:!1}),Ot.selected&&Dn?(An({nodes:[],edges:[Ot]}),(Mt=te.current)==null||Mt.blur()):Pn([n])),l&&l(Ie,Ot))},G=ao(n,ge.getState,i),ne=ao(n,ge.getState,O),ue=ao(n,ge.getState,b),le=ao(n,ge.getState,_),Ve=ao(n,ge.getState,$),Xe=(Ie,xt)=>{if(Ie.button!==0)return;const{edges:Pn,isValidConnection:An}=ge.getState(),Dn=xt?y:m,Ot=(xt?H:F)||null,Mt=xt?"target":"source",qr=An||yb,si=xt,Zr=Pn.find(Rn=>Rn.id===n);Ce(!0),C==null||C(Ie,Zr,Mt);const li=Rn=>{Ce(!1),T==null||T(Rn,Zr,Mt)};rp({event:Ie,handleId:Ot,nodeId:Dn,onConnect:Rn=>L==null?void 0:L(Zr,Rn),isTarget:si,getState:ge.getState,setState:ge.setState,isValidConnection:qr,edgeUpdaterType:Mt,onReconnectEnd:li})},$t=Ie=>Xe(Ie,!0),Ln=Ie=>Xe(Ie,!1),Tn=()=>we(!0),rr=()=>we(!1),or=!P&&!l,Xr=Ie=>{var xt;if(!re&&Ug.includes(Ie.key)&&P){const{unselectNodesAndEdges:Pn,addSelectedEdges:An,edges:Dn}=ge.getState();Ie.key==="Escape"?((xt=te.current)==null||xt.blur(),Pn({edges:[Dn.find(Mt=>Mt.id===n)]})):An([n])}};return D.createElement("g",{className:Re(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:c,animated:u,inactive:or,updating:Ne}]),onClick:X,onDoubleClick:G,onContextMenu:ne,onMouseEnter:ue,onMouseMove:le,onMouseLeave:Ve,onKeyDown:Y?Xr:void 0,tabIndex:Y?0:void 0,role:Y?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${m} to ${y}`,"aria-describedby":Y?`${fp}-${B}`:void 0,ref:te},!Le&&D.createElement(e,{id:n,source:m,target:y,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:g,labelBgPadding:k,labelBgBorderRadius:x,data:s,style:E,sourceX:v,sourceY:w,targetX:S,targetY:N,sourcePosition:j,targetPosition:M,sourceHandleId:F,targetHandleId:H,markerStart:Te,markerEnd:se,pathOptions:Q,interactionWidth:ee}),Z&&D.createElement(D.Fragment,null,(Z==="source"||Z===!0)&&D.createElement(Ef,{position:j,centerX:v,centerY:w,radius:z,onMouseDown:$t,onMouseEnter:Tn,onMouseOut:rr,type:"source"}),(Z==="target"||Z===!0)&&D.createElement(Ef,{position:M,centerX:S,centerY:N,radius:z,onMouseDown:Ln,onMouseEnter:Tn,onMouseOut:rr,type:"target"})))};return t.displayName="EdgeWrapper",p.memo(t)};function xb(e){const t={default:ur(e.default||Pl),straight:ur(e.bezier||gu),step:ur(e.step||hu),smoothstep:ur(e.step||ni),simplebezier:ur(e.simplebezier||fu)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,s)=>(o[s]=ur(e[s]||Pl),o),n);return{...t,...r}}function _f(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,l=(n==null?void 0:n.height)||t.height;switch(e){case q.Top:return{x:r+s/2,y:o};case q.Right:return{x:r+s,y:o+l/2};case q.Bottom:return{x:r+s/2,y:o+l};case q.Left:return{x:r,y:o+l/2}}}function Cf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const vb=(e,t,n,r,o,s)=>{const l=_f(n,e,t),i=_f(s,r,o);return{sourceX:l.x,sourceY:l.y,targetX:i.x,targetY:i.y}};function wb({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:s,width:l,height:i,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Qo({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:l/c[2],height:i/c[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),f=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*f)>0}function jf(e){var r,o,s,l,i;const t=((r=e==null?void 0:e[ve])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.x)||0,y:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const kb=[{level:0,isMaxLevel:!0,edges:[]}];function bb(e,t,n=!1){let r=-1;const o=e.reduce((l,i)=>{var d,h;const c=gt(i.zIndex);let u=c?i.zIndex:0;if(n){const f=t.get(i.target),g=t.get(i.source),k=i.selected||(f==null?void 0:f.selected)||(g==null?void 0:g.selected),x=Math.max(((d=g==null?void 0:g[ve])==null?void 0:d.z)||0,((h=f==null?void 0:f[ve])==null?void 0:h.z)||0,1e3);u=(c?i.zIndex:0)+(k?x:0)}return l[u]?l[u].push(i):l[u]=[i],r=u>r?u:r,l},{}),s=Object.entries(o).map(([l,i])=>{const c=+l;return{edges:i,level:c,isMaxLevel:c===r}});return s.length===0?kb:s}function Nb(e,t,n){const r=ce(p.useCallback(o=>e?o.edges.filter(s=>{const l=t.get(s.source),i=t.get(s.target);return(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&wb({sourcePos:l.positionAbsolute||{x:0,y:0},targetPos:i.positionAbsolute||{x:0,y:0},sourceWidth:l.width,sourceHeight:l.height,targetWidth:i.width,targetHeight:i.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return bb(r,t,n)}const Sb=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Eb=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),$f={[Tl.Arrow]:Sb,[Tl.ArrowClosed]:Eb};function _b(e){const t=_e();return p.useMemo(()=>{var o,s;return Object.prototype.hasOwnProperty.call($f,e)?$f[e]:((s=(o=t.getState()).onError)==null||s.call(o,"009",tn.error009(e)),null)},[e])}const Cb=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:i="auto-start-reverse"})=>{const c=_b(t);return c?D.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:i,refX:"0",refY:"0"},D.createElement(c,{color:n,strokeWidth:l})):null},jb=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,s)=>([s.markerStart,s.markerEnd].forEach(l=>{if(l&&typeof l=="object"){const i=tc(l,t);r.includes(i)||(o.push({id:i,color:l.color||e,...l}),r.push(i))}}),o),[]).sort((o,s)=>o.id.localeCompare(s.id))},Ep=({defaultColor:e,rfId:t})=>{const n=ce(p.useCallback(jb({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((s,l)=>s.id!==o[l].id)));return D.createElement("defs",null,n.map(r=>D.createElement(Cb,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Ep.displayName="MarkerDefinitions";var $b=p.memo(Ep);const Mb=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),_p=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:s,onEdgeContextMenu:l,onEdgeMouseEnter:i,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:g,onReconnectEnd:k,reconnectRadius:x,children:E,disableKeyboardA11y:m})=>{const{edgesFocusable:y,edgesUpdatable:v,elementsSelectable:w,width:S,height:N,connectionMode:j,nodeInternals:M,onError:P}=ce(Mb,Me),A=Nb(t,M,n);return S?D.createElement(D.Fragment,null,A.map(({level:F,edges:H,isMaxLevel:O})=>D.createElement("svg",{key:F,style:{zIndex:F},width:S,height:N,className:"react-flow__edges react-flow__container"},O&&D.createElement($b,{defaultColor:e,rfId:r}),D.createElement("g",null,H.map(b=>{const[_,$,z]=jf(M.get(b.source)),[L,C,T]=jf(M.get(b.target));if(!z||!T)return null;let I=b.type||"default";o[I]||(P==null||P("011",tn.error011(I)),I="default");const R=o[I]||o.default,B=j===Cn.Strict?C.target:(C.target??[]).concat(C.source??[]),V=Cf($.source,b.sourceHandle),Y=Cf(B,b.targetHandle),Z=(V==null?void 0:V.position)||q.Bottom,Q=(Y==null?void 0:Y.position)||q.Top,ee=!!(b.focusable||y&&typeof b.focusable>"u"),re=b.reconnectable||b.updatable,te=typeof f<"u"&&(re||v&&typeof re>"u");if(!V||!Y)return P==null||P("008",tn.error008(V,b)),null;const{sourceX:Ne,sourceY:we,targetX:Le,targetY:Ce}=vb(_,V,Z,L,Y,Q);return D.createElement(R,{key:b.id,id:b.id,className:Re([b.className,s]),type:I,data:b.data,selected:!!b.selected,animated:!!b.animated,hidden:!!b.hidden,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,style:b.style,source:b.source,target:b.target,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerEnd:b.markerEnd,markerStart:b.markerStart,sourceX:Ne,sourceY:we,targetX:Le,targetY:Ce,sourcePosition:Z,targetPosition:Q,elementsSelectable:w,onContextMenu:l,onMouseEnter:i,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:g,onReconnectEnd:k,reconnectRadius:x,rfId:r,ariaLabel:b.ariaLabel,isFocusable:ee,isReconnectable:te,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth,disableKeyboardA11y:m})})))),E):null};_p.displayName="EdgeRenderer";var Lb=p.memo(_p);const Tb=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Pb({children:e}){const t=ce(Tb);return D.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function Ab(e){const t=vu(),n=p.useRef(!1);p.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Db={[q.Left]:q.Right,[q.Right]:q.Left,[q.Top]:q.Bottom,[q.Bottom]:q.Top},Cp=({nodeId:e,handleType:t,style:n,type:r=hn.Bezier,CustomComponent:o,connectionStatus:s})=>{var N,j,M;const{fromNode:l,handleId:i,toX:c,toY:u,connectionMode:d}=ce(p.useCallback(P=>({fromNode:P.nodeInternals.get(e),handleId:P.connectionHandleId,toX:(P.connectionPosition.x-P.transform[0])/P.transform[2],toY:(P.connectionPosition.y-P.transform[1])/P.transform[2],connectionMode:P.connectionMode}),[e]),Me),h=(N=l==null?void 0:l[ve])==null?void 0:N.handleBounds;let f=h==null?void 0:h[t];if(d===Cn.Loose&&(f=f||(h==null?void 0:h[t==="source"?"target":"source"])),!l||!f)return null;const g=i?f.find(P=>P.id===i):f[0],k=g?g.x+g.width/2:(l.width??0)/2,x=g?g.y+g.height/2:l.height??0,E=(((j=l.positionAbsolute)==null?void 0:j.x)??0)+k,m=(((M=l.positionAbsolute)==null?void 0:M.y)??0)+x,y=g==null?void 0:g.position,v=y?Db[y]:null;if(!y||!v)return null;if(o)return D.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:l,fromHandle:g,fromX:E,fromY:m,toX:c,toY:u,fromPosition:y,toPosition:v,connectionStatus:s});let w="";const S={sourceX:E,sourceY:m,sourcePosition:y,targetX:c,targetY:u,targetPosition:v};return r===hn.Bezier?[w]=Zg(S):r===hn.Step?[w]=ec({...S,borderRadius:0}):r===hn.SmoothStep?[w]=ec(S):r===hn.SimpleBezier?[w]=qg(S):w=`M${E},${m} ${c},${u}`,D.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};Cp.displayName="ConnectionLine";const Rb=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Ib({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:s,nodesConnectable:l,width:i,height:c,connectionStatus:u}=ce(Rb,Me);return!(o&&s&&i&&l)?null:D.createElement("svg",{style:e,width:i,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},D.createElement("g",{className:Re(["react-flow__connection",u])},D.createElement(Cp,{nodeId:o,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Mf(e,t){return p.useRef(null),_e(),p.useMemo(()=>t(e),[e])}const jp=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:s,onNodeClick:l,onEdgeClick:i,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:g,onSelectionContextMenu:k,onSelectionStart:x,onSelectionEnd:E,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:v,connectionLineContainerStyle:w,selectionKeyCode:S,selectionOnDrag:N,selectionMode:j,multiSelectionKeyCode:M,panActivationKeyCode:P,zoomActivationKeyCode:A,deleteKeyCode:F,onlyRenderVisibleElements:H,elementsSelectable:O,selectNodesOnDrag:b,defaultViewport:_,translateExtent:$,minZoom:z,maxZoom:L,preventScrolling:C,defaultMarkerColor:T,zoomOnScroll:I,zoomOnPinch:R,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:Y,zoomOnDoubleClick:Z,panOnDrag:Q,onPaneClick:ee,onPaneMouseEnter:re,onPaneMouseMove:te,onPaneMouseLeave:Ne,onPaneScroll:we,onPaneContextMenu:Le,onEdgeContextMenu:Ce,onEdgeMouseEnter:ge,onEdgeMouseMove:Te,onEdgeMouseLeave:se,onReconnect:X,onReconnectStart:G,onReconnectEnd:ne,reconnectRadius:ue,noDragClassName:le,noWheelClassName:Ve,noPanClassName:Xe,elevateEdgesOnSelect:$t,disableKeyboardA11y:Ln,nodeOrigin:Tn,nodeExtent:rr,rfId:or})=>{const Xr=Mf(e,db),Ie=Mf(t,xb);return Ab(s),D.createElement(cb,{onPaneClick:ee,onPaneMouseEnter:re,onPaneMouseMove:te,onPaneMouseLeave:Ne,onPaneContextMenu:Le,onPaneScroll:we,deleteKeyCode:F,selectionKeyCode:S,selectionOnDrag:N,selectionMode:j,onSelectionStart:x,onSelectionEnd:E,multiSelectionKeyCode:M,panActivationKeyCode:P,zoomActivationKeyCode:A,elementsSelectable:O,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:I,zoomOnPinch:R,zoomOnDoubleClick:Z,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:Y,panOnDrag:Q,defaultViewport:_,translateExtent:$,minZoom:z,maxZoom:L,onSelectionContextMenu:k,preventScrolling:C,noDragClassName:le,noWheelClassName:Ve,noPanClassName:Xe,disableKeyboardA11y:Ln},D.createElement(Pb,null,D.createElement(Lb,{edgeTypes:Ie,onEdgeClick:i,onEdgeDoubleClick:u,onlyRenderVisibleElements:H,onEdgeContextMenu:Ce,onEdgeMouseEnter:ge,onEdgeMouseMove:Te,onEdgeMouseLeave:se,onReconnect:X,onReconnectStart:G,onReconnectEnd:ne,reconnectRadius:ue,defaultMarkerColor:T,noPanClassName:Xe,elevateEdgesOnSelect:!!$t,disableKeyboardA11y:Ln,rfId:or},D.createElement(Ib,{style:y,type:m,component:v,containerStyle:w})),D.createElement("div",{className:"react-flow__edgelabel-renderer"}),D.createElement(gb,{nodeTypes:Xr,onNodeClick:l,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:g,selectNodesOnDrag:b,onlyRenderVisibleElements:H,noPanClassName:Xe,noDragClassName:le,disableKeyboardA11y:Ln,nodeOrigin:Tn,nodeExtent:rr,rfId:or})))};jp.displayName="GraphView";var zb=p.memo(jp);const sc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],on={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:sc,nodeExtent:sc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Cn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:hk,isValidConnection:void 0},Fb=()=>jv((e,t)=>({...on,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:s}=t();e({nodeInternals:Hi(n,r,o,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",s=typeof r<"u",l=o?Hi(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:l,edges:s?r:[],hasDefaultNodes:o,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:s,fitViewOnInitDone:l,fitViewOnInitOptions:i,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:f}=new window.DOMMatrixReadOnly(h.transform),g=n.reduce((x,E)=>{const m=o.get(E.id);if(m!=null&&m.hidden)o.set(m.id,{...m,[ve]:{...m[ve],handleBounds:void 0}});else if(m){const y=uu(E.nodeElement);!!(y.width&&y.height&&(m.width!==y.width||m.height!==y.height||E.forceUpdate))&&(o.set(m.id,{...m,[ve]:{...m[ve],handleBounds:{source:Nf(".source",E.nodeElement,f,u),target:Nf(".target",E.nodeElement,f,u)}},...y}),x.push({id:m.id,type:"dimensions",dimensions:y}))}return x},[]);gp(o,u);const k=l||s&&!l&&pp(t,{initial:!0,...i});e({nodeInternals:new Map(o),fitViewOnInitDone:k}),(g==null?void 0:g.length)>0&&(r==null||r(g))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:s}=t(),l=n.map(i=>{const c={id:i.id,type:"position",dragging:o};return r&&(c.positionAbsolute=i.positionAbsolute,c.position=i.position),c});s(l)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:s,nodeOrigin:l,getNodes:i,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(s){const u=yp(n,i()),d=Hi(u,o,l,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let l,i=null;r?l=n.map(c=>cn(c,!0)):(l=Nr(s(),n),i=Nr(o,[])),Ts({changedNodes:l,changedEdges:i,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let l,i=null;r?l=n.map(c=>cn(c,!0)):(l=Nr(o,n),i=Nr(s(),[])),Ts({changedNodes:i,changedEdges:l,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:s}=t(),l=n||s(),i=r||o,c=l.map(d=>(d.selected=!1,cn(d.id,!1))),u=i.map(d=>cn(d.id,!1));Ts({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(i=>i.selected).map(i=>cn(i.id,!1)),l=n.filter(i=>i.selected).map(i=>cn(i.id,!1));Ts({changedNodes:s,changedEdges:l,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=du(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:s,d3Zoom:l,d3Selection:i,translateExtent:c}=t();if(!l||!i||!n.x&&!n.y)return!1;const u=Xt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[o,s]],h=l==null?void 0:l.constrain()(u,d,c);return l.transform(i,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>e({connectionNodeId:on.connectionNodeId,connectionHandleId:on.connectionHandleId,connectionHandleType:on.connectionHandleType,connectionStatus:on.connectionStatus,connectionStartHandle:on.connectionStartHandle,connectionEndHandle:on.connectionEndHandle}),reset:()=>e({...on})}),Object.is),oi=({children:e})=>{const t=p.useRef(null);return t.current||(t.current=Fb()),D.createElement(lk,{value:t.current},e)};oi.displayName="ReactFlowProvider";const $p=({children:e})=>p.useContext(ti)?D.createElement(D.Fragment,null,e):D.createElement(oi,null,e);$p.displayName="ReactFlowWrapper";const Ob={input:ip,default:rc,output:cp,group:xu},Wb={default:Pl,straight:gu,step:hu,smoothstep:ni,simplebezier:fu},Hb=[0,0],Vb=[15,15],Bb={x:0,y:0,zoom:1},Ub={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ku=p.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:s=Ob,edgeTypes:l=Wb,onNodeClick:i,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onConnect:g,onConnectStart:k,onConnectEnd:x,onClickConnectStart:E,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:v,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:N,onNodeDragStart:j,onNodeDrag:M,onNodeDragStop:P,onNodesDelete:A,onEdgesDelete:F,onSelectionChange:H,onSelectionDragStart:O,onSelectionDrag:b,onSelectionDragStop:_,onSelectionContextMenu:$,onSelectionStart:z,onSelectionEnd:L,connectionMode:C=Cn.Strict,connectionLineType:T=hn.Bezier,connectionLineStyle:I,connectionLineComponent:R,connectionLineContainerStyle:B,deleteKeyCode:V="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:Z=!1,selectionMode:Q=Ko.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:re=Ll()?"Meta":"Control",zoomActivationKeyCode:te=Ll()?"Meta":"Control",snapToGrid:Ne=!1,snapGrid:we=Vb,onlyRenderVisibleElements:Le=!1,selectNodesOnDrag:Ce=!0,nodesDraggable:ge,nodesConnectable:Te,nodesFocusable:se,nodeOrigin:X=Hb,edgesFocusable:G,edgesUpdatable:ne,elementsSelectable:ue,defaultViewport:le=Bb,minZoom:Ve=.5,maxZoom:Xe=2,translateExtent:$t=sc,preventScrolling:Ln=!0,nodeExtent:Tn,defaultMarkerColor:rr="#b1b1b7",zoomOnScroll:or=!0,zoomOnPinch:Xr=!0,panOnScroll:Ie=!1,panOnScrollSpeed:xt=.5,panOnScrollMode:Pn=Bn.Free,zoomOnDoubleClick:An=!0,panOnDrag:Dn=!0,onPaneClick:Ot,onPaneMouseEnter:Mt,onPaneMouseMove:qr,onPaneMouseLeave:si,onPaneScroll:Zr,onPaneContextMenu:li,children:Nu,onEdgeContextMenu:Rn,onEdgeDoubleClick:Bp,onEdgeMouseEnter:Up,onEdgeMouseMove:Gp,onEdgeMouseLeave:Yp,onEdgeUpdate:Xp,onEdgeUpdateStart:qp,onEdgeUpdateEnd:Zp,onReconnect:Qp,onReconnectStart:Kp,onReconnectEnd:Jp,reconnectRadius:em=10,edgeUpdaterRadius:tm=10,onNodesChange:nm,onEdgesChange:rm,noDragClassName:om="nodrag",noWheelClassName:sm="nowheel",noPanClassName:Su="nopan",fitView:lm=!1,fitViewOptions:im,connectOnClick:am=!0,attributionPosition:cm,proOptions:um,defaultEdgeOptions:dm,elevateNodesOnSelect:fm=!0,elevateEdgesOnSelect:hm=!1,disableKeyboardA11y:Eu=!1,autoPanOnConnect:gm=!0,autoPanOnNodeDrag:pm=!0,connectionRadius:mm=20,isValidConnection:ym,onError:xm,style:vm,id:_u,nodeDragThreshold:wm,...km},bm)=>{const ii=_u||"1";return D.createElement("div",{...km,style:{...vm,...Ub},ref:bm,className:Re(["react-flow",o]),"data-testid":"rf__wrapper",id:_u},D.createElement($p,null,D.createElement(zb,{onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onNodeClick:i,onEdgeClick:c,onNodeMouseEnter:y,onNodeMouseMove:v,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:N,nodeTypes:s,edgeTypes:l,connectionLineType:T,connectionLineStyle:I,connectionLineComponent:R,connectionLineContainerStyle:B,selectionKeyCode:Y,selectionOnDrag:Z,selectionMode:Q,deleteKeyCode:V,multiSelectionKeyCode:re,panActivationKeyCode:ee,zoomActivationKeyCode:te,onlyRenderVisibleElements:Le,selectNodesOnDrag:Ce,defaultViewport:le,translateExtent:$t,minZoom:Ve,maxZoom:Xe,preventScrolling:Ln,zoomOnScroll:or,zoomOnPinch:Xr,zoomOnDoubleClick:An,panOnScroll:Ie,panOnScrollSpeed:xt,panOnScrollMode:Pn,panOnDrag:Dn,onPaneClick:Ot,onPaneMouseEnter:Mt,onPaneMouseMove:qr,onPaneMouseLeave:si,onPaneScroll:Zr,onPaneContextMenu:li,onSelectionContextMenu:$,onSelectionStart:z,onSelectionEnd:L,onEdgeContextMenu:Rn,onEdgeDoubleClick:Bp,onEdgeMouseEnter:Up,onEdgeMouseMove:Gp,onEdgeMouseLeave:Yp,onReconnect:Qp??Xp,onReconnectStart:Kp??qp,onReconnectEnd:Jp??Zp,reconnectRadius:em??tm,defaultMarkerColor:rr,noDragClassName:om,noWheelClassName:sm,noPanClassName:Su,elevateEdgesOnSelect:hm,rfId:ii,disableKeyboardA11y:Eu,nodeOrigin:X,nodeExtent:Tn}),D.createElement(Dk,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:k,onConnectEnd:x,onClickConnectStart:E,onClickConnectEnd:m,nodesDraggable:ge,nodesConnectable:Te,nodesFocusable:se,edgesFocusable:G,edgesUpdatable:ne,elementsSelectable:ue,elevateNodesOnSelect:fm,minZoom:Ve,maxZoom:Xe,nodeExtent:Tn,onNodesChange:nm,onEdgesChange:rm,snapToGrid:Ne,snapGrid:we,connectionMode:C,translateExtent:$t,connectOnClick:am,defaultEdgeOptions:dm,fitView:lm,fitViewOptions:im,onNodesDelete:A,onEdgesDelete:F,onNodeDragStart:j,onNodeDrag:M,onNodeDragStop:P,onSelectionDrag:b,onSelectionDragStart:O,onSelectionDragStop:_,noPanClassName:Su,nodeOrigin:X,rfId:ii,autoPanOnConnect:gm,autoPanOnNodeDrag:pm,onError:xm,connectionRadius:mm,isValidConnection:ym,nodeDragThreshold:wm}),D.createElement(Pk,{onSelectionChange:H}),Nu,D.createElement(ak,{proOptions:um,position:cm}),D.createElement(Ok,{rfId:ii,disableKeyboardA11y:Eu})))});ku.displayName="ReactFlow";function Mp(e){return t=>{const[n,r]=p.useState(t),o=p.useCallback(s=>r(l=>e(s,l)),[]);return[n,r,o]}}const Lp=Mp(yp),Tp=Mp(eb),Pp=({id:e,x:t,y:n,width:r,height:o,style:s,color:l,strokeColor:i,strokeWidth:c,className:u,borderRadius:d,shapeRendering:h,onClick:f,selected:g})=>{const{background:k,backgroundColor:x}=s||{},E=l||k||x;return D.createElement("rect",{className:Re(["react-flow__minimap-node",{selected:g},u]),x:t,y:n,rx:d,ry:d,width:r,height:o,fill:E,stroke:i,strokeWidth:c,shapeRendering:h,onClick:f?m=>f(m,e):void 0})};Pp.displayName="MiniMapNode";var Gb=p.memo(Pp);const Yb=e=>e.nodeOrigin,Xb=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Gi=e=>e instanceof Function?e:()=>e;function qb({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:s=Gb,onClick:l}){const i=ce(Xb,Me),c=ce(Yb),u=Gi(t),d=Gi(e),h=Gi(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return D.createElement(D.Fragment,null,i.map(g=>{const{x:k,y:x}=Xn(g,c).positionAbsolute;return D.createElement(s,{key:g.id,x:k,y:x,width:g.width,height:g.height,style:g.style,selected:g.selected,className:h(g),color:u(g),borderRadius:r,strokeColor:d(g),strokeWidth:o,shapeRendering:f,onClick:l,id:g.id})}))}var Zb=p.memo(qb);const Qb=200,Kb=150,Jb=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?dk(ri(t,e.nodeOrigin),n):n,rfId:e.rfId}},e4="react-flow__minimap-desc";function Ap({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:l=2,nodeComponent:i,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:h="bottom-right",onClick:f,onNodeClick:g,pannable:k=!1,zoomable:x=!1,ariaLabel:E="React Flow mini map",inversePan:m=!1,zoomStep:y=10,offsetScale:v=5}){const w=_e(),S=p.useRef(null),{boundingRect:N,viewBB:j,rfId:M}=ce(Jb,Me),P=(e==null?void 0:e.width)??Qb,A=(e==null?void 0:e.height)??Kb,F=N.width/P,H=N.height/A,O=Math.max(F,H),b=O*P,_=O*A,$=v*O,z=N.x-(b-N.width)/2-$,L=N.y-(_-N.height)/2-$,C=b+$*2,T=_+$*2,I=`${e4}-${M}`,R=p.useRef(0);R.current=O,p.useEffect(()=>{if(S.current){const Y=ft(S.current),Z=re=>{const{transform:te,d3Selection:Ne,d3Zoom:we}=w.getState();if(re.sourceEvent.type!=="wheel"||!Ne||!we)return;const Le=-re.sourceEvent.deltaY*(re.sourceEvent.deltaMode===1?.05:re.sourceEvent.deltaMode?1:.002)*y,Ce=te[2]*Math.pow(2,Le);we.scaleTo(Ne,Ce)},Q=re=>{const{transform:te,d3Selection:Ne,d3Zoom:we,translateExtent:Le,width:Ce,height:ge}=w.getState();if(re.sourceEvent.type!=="mousemove"||!Ne||!we)return;const Te=R.current*Math.max(1,te[2])*(m?-1:1),se={x:te[0]-re.sourceEvent.movementX*Te,y:te[1]-re.sourceEvent.movementY*Te},X=[[0,0],[Ce,ge]],G=Xt.translate(se.x,se.y).scale(te[2]),ne=we.constrain()(G,X,Le);we.transform(Ne,ne)},ee=Fg().on("zoom",k?Q:null).on("zoom.wheel",x?Z:null);return Y.call(ee),()=>{Y.on("zoom",null)}}},[k,x,m,y]);const B=f?Y=>{const Z=bt(Y);f(Y,{x:Z[0],y:Z[1]})}:void 0,V=g?(Y,Z)=>{const Q=w.getState().nodeInternals.get(Z);g(Y,Q)}:void 0;return D.createElement(cu,{position:h,style:e,className:Re(["react-flow__minimap",t]),"data-testid":"rf__minimap"},D.createElement("svg",{width:P,height:A,viewBox:`${z} ${L} ${C} ${T}`,role:"img","aria-labelledby":I,ref:S,onClick:B},E&&D.createElement("title",{id:I},E),D.createElement(Zb,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:l,nodeComponent:i}),D.createElement("path",{className:"react-flow__minimap-mask",d:`M${z-$},${L-$}h${C+$*2}v${T+$*2}h${-C-$*2}z
        M${j.x},${j.y}h${j.width}v${j.height}h${-j.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}Ap.displayName="MiniMap";var Dp=p.memo(Ap);function t4(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},D.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function n4(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},D.createElement("path",{d:"M0 0h32v4.2H0z"}))}function r4(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},D.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function o4(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function s4(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const xo=({children:e,className:t,...n})=>D.createElement("button",{type:"button",className:Re(["react-flow__controls-button",t]),...n},e);xo.displayName="ControlButton";const l4=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Rp=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:l,onFitView:i,onInteractiveChange:c,className:u,children:d,position:h="bottom-left"})=>{const f=_e(),[g,k]=p.useState(!1),{isInteractive:x,minZoomReached:E,maxZoomReached:m}=ce(l4,Me),{zoomIn:y,zoomOut:v,fitView:w}=vu();if(p.useEffect(()=>{k(!0)},[]),!g)return null;const S=()=>{y(),s==null||s()},N=()=>{v(),l==null||l()},j=()=>{w(o),i==null||i()},M=()=>{f.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)};return D.createElement(cu,{className:Re(["react-flow__controls",u]),position:h,style:e,"data-testid":"rf__controls"},t&&D.createElement(D.Fragment,null,D.createElement(xo,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},D.createElement(t4,null)),D.createElement(xo,{onClick:N,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E},D.createElement(n4,null))),n&&D.createElement(xo,{className:"react-flow__controls-fitview",onClick:j,title:"fit view","aria-label":"fit view"},D.createElement(r4,null)),r&&D.createElement(xo,{className:"react-flow__controls-interactive",onClick:M,title:"toggle interactivity","aria-label":"toggle interactivity"},x?D.createElement(s4,null):D.createElement(o4,null)),d)};Rp.displayName="Controls";var Ip=p.memo(Rp),st;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(st||(st={}));function i4({color:e,dimensions:t,lineWidth:n}){return D.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function a4({color:e,radius:t}){return D.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const c4={[st.Dots]:"#91919a",[st.Lines]:"#eee",[st.Cross]:"#e2e2e2"},u4={[st.Dots]:1,[st.Lines]:1,[st.Cross]:6},d4=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function zp({id:e,variant:t=st.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=2,color:l,style:i,className:c}){const u=p.useRef(null),{transform:d,patternId:h}=ce(d4,Me),f=l||c4[t],g=r||u4[t],k=t===st.Dots,x=t===st.Cross,E=Array.isArray(n)?n:[n,n],m=[E[0]*d[2]||1,E[1]*d[2]||1],y=g*d[2],v=x?[y,y]:m,w=k?[y/s,y/s]:[v[0]/s,v[1]/s];return D.createElement("svg",{className:Re(["react-flow__background",c]),style:{...i,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},D.createElement("pattern",{id:h+e,x:d[0]%m[0],y:d[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},k?D.createElement(a4,{color:f,radius:y/s}):D.createElement(i4,{dimensions:v,color:f,lineWidth:o})),D.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+e})`}))}zp.displayName="Background";var Fp=p.memo(zp);const He=({data:e,selected:t,icon:n,title:r,subtitle:o,color:s,bgColor:l})=>(console.log("BaseNode rendered:",{title:r,selected:t,data:e}),a.jsxs("div",{className:`relative rounded-lg border-2 min-w-[160px] shadow-sm transition-all duration-200 ${t?"border-blue-500 shadow-lg transform scale-105":"border-gray-300 hover:border-gray-400 hover:shadow-md"}`,style:{backgroundColor:l},children:[a.jsx(Br,{type:"target",position:q.Top,className:"w-3 h-3 !bg-gray-400 !border-2 !border-white hover:!bg-gray-600 transition-colors",style:{top:-6}}),a.jsxs("div",{className:"p-3",children:[a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-sm shadow-sm",style:{backgroundColor:s},children:n})}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:r}),o&&a.jsx("div",{className:"text-xs text-gray-600 leading-tight",children:o}),(e==null?void 0:e.label)&&e.label!==r&&a.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:e.label})]})]}),a.jsx(Br,{type:"source",position:q.Bottom,className:"w-3 h-3 !bg-gray-400 !border-2 !border-white hover:!bg-gray-600 transition-colors",style:{bottom:-6}})]})),Yi=e=>a.jsx(He,{...e,icon:"▶️",title:"Start",subtitle:"Trigger point",color:"#10b981",bgColor:"#f0fdf4"}),f4=e=>a.jsx(He,{...e,icon:"⏰",title:"Schedule",subtitle:"Time-based trigger",color:"#3b82f6",bgColor:"#eff6ff"}),Lf=e=>a.jsx(He,{...e,icon:"🔗",title:"Webhook",subtitle:"HTTP trigger",color:"#8b5cf6",bgColor:"#f5f3ff"}),As=e=>a.jsx(He,{...e,icon:"📊",title:"Google Sheets",subtitle:"Read spreadsheet data",color:"#059669",bgColor:"#ecfdf5"}),Tf=e=>a.jsx(He,{...e,icon:"🗄️",title:"Database",subtitle:"Database operations",color:"#4b5563",bgColor:"#f9fafb"}),h4=e=>a.jsx(He,{...e,icon:"🌐",title:"HTTP Request",subtitle:"Make API calls",color:"#2563eb",bgColor:"#eff6ff"}),Pf=e=>a.jsx(He,{...e,icon:"🧠",title:"AI Processing",subtitle:"OpenAI, Claude, Ollama",color:"#4f46e5",bgColor:"#eef2ff"}),Af=e=>a.jsx(He,{...e,icon:"🔄",title:"Transform",subtitle:"Manipulate data",color:"#f59e0b",bgColor:"#fefbf3"}),g4=e=>a.jsx(He,{...e,icon:"🔍",title:"Filter",subtitle:"Filter data",color:"#eab308",bgColor:"#fefce8"}),p4=e=>a.jsx(He,{...e,icon:"🔀",title:"If/Condition",subtitle:"Conditional logic",color:"#7c3aed",bgColor:"#f5f3ff"}),m4=e=>a.jsx(He,{...e,icon:"⏸️",title:"Wait/Delay",subtitle:"Pause execution",color:"#6b7280",bgColor:"#f9fafb"}),y4=e=>a.jsx(He,{...e,icon:"🔁",title:"Loop",subtitle:"Iterate over data",color:"#06b6d4",bgColor:"#f0fdfa"}),x4=e=>a.jsx(He,{...e,icon:"💾",title:"Google Drive",subtitle:"Save to Drive",color:"#1d4ed8",bgColor:"#eff6ff"}),v4=e=>a.jsx(He,{...e,icon:"📧",title:"Send Notification",subtitle:"Email or Slack",color:"#dc2626",bgColor:"#fef2f2"}),w4=e=>a.jsx(He,{...e,icon:"📈",title:"Analytics",subtitle:"Track workflow data",color:"#ec4899",bgColor:"#fdf2f8"}),Xi=e=>a.jsx(He,{...e,icon:"🏁",title:"End",subtitle:"Completion point",color:"#dc2626",bgColor:"#fef2f2"}),Op={manual_trigger:Yi,webhook:Lf,http_request:h4,google_sheets:As,google_sheets_write:As,ai_processing:Pf,data_transform:Af,email_sender:v4,database_write:Tf,schedule:f4,database:Tf,filter:g4,condition:p4,delay:m4,loop:y4,drive:x4,analytics:w4,httpTrigger:Lf,googleSheets:As,start:Yi,end:Xi,input:Yi,ai:Pf,output:Xi,sheets:As,transform:Af,pdf:Xi},Ds=[{type:"start",label:"Manual Trigger",description:"Workflow trigger point",IconComponent:Sl,category:"Triggers",color:"from-emerald-500 via-emerald-600 to-teal-600"},{type:"schedule",label:"Schedule",description:"Time-based trigger",IconComponent:nu,category:"Triggers",color:"from-blue-500 via-blue-600 to-cyan-600"},{type:"webhook",label:"Webhook",description:"HTTP trigger",IconComponent:Va,category:"Triggers",color:"from-violet-500 via-purple-500 to-purple-600"},{type:"sheets",label:"Google Sheets",description:"Read data from Google Sheets",IconComponent:ng,category:"Data Sources",color:"from-green-500 via-emerald-600 to-green-700"},{type:"database",label:"Database",description:"Database operations",IconComponent:Ha,category:"Data Sources",color:"from-slate-500 via-gray-600 to-slate-700"},{type:"api",label:"HTTP Request",description:"Make HTTP requests",IconComponent:tg,category:"Data Sources",color:"from-sky-500 via-blue-600 to-indigo-600"},{type:"ai",label:"AI Processing",description:"OpenAI, Claude, Ollama",IconComponent:Qh,category:"AI & Processing",color:"from-indigo-500 via-purple-600 to-violet-700"},{type:"transform",label:"Data Transform",description:"Transform and manipulate data",IconComponent:Zh,category:"AI & Processing",color:"from-amber-500 via-orange-500 to-orange-600"},{type:"filter",label:"Filter",description:"Filter data based on conditions",IconComponent:Uo,category:"AI & Processing",color:"from-yellow-400 via-amber-500 to-orange-500"},{type:"condition",label:"If/Condition",description:"Conditional logic (if/then/else)",IconComponent:b1,category:"Control Flow",color:"from-purple-500 via-violet-600 to-indigo-600"},{type:"delay",label:"Wait/Delay",description:"Wait for specified time",IconComponent:H1,category:"Control Flow",color:"from-gray-400 via-slate-500 to-gray-600"},{type:"loop",label:"Loop",description:"Iterate over data",IconComponent:r1,category:"Control Flow",color:"from-cyan-400 via-cyan-500 to-blue-600"},{type:"drive",label:"Google Drive",description:"Save files to Google Drive",IconComponent:Id,category:"Output & Actions",color:"from-blue-600 via-indigo-600 to-blue-800"},{type:"notification",label:"Send Notification",description:"Email or Slack notification",IconComponent:Xs,category:"Output & Actions",color:"from-rose-500 via-pink-500 to-rose-600"},{type:"analytics",label:"Analytics",description:"Track and analyze workflow data",IconComponent:Kh,category:"Output & Actions",color:"from-pink-500 via-rose-500 to-red-500"},{type:"end",label:"End",description:"Workflow completion point",IconComponent:P1,category:"Output & Actions",color:"from-red-500 via-rose-600 to-red-700"},{type:"email",label:"Send Email",description:"Send email notifications",IconComponent:Xs,category:"Output & Actions",color:"from-blue-500 via-indigo-500 to-purple-500"},{type:"slack",label:"Slack Message",description:"Send Slack messages",IconComponent:Xs,category:"Output & Actions",color:"from-green-500 via-emerald-500 to-teal-500"},{type:"webhook-send",label:"Send Webhook",description:"Send HTTP webhook",IconComponent:Va,category:"Output & Actions",color:"from-orange-500 via-red-500 to-pink-500"},{type:"file-upload",label:"File Upload",description:"Upload files to storage",IconComponent:Id,category:"Output & Actions",color:"from-violet-500 via-purple-500 to-indigo-500"},{type:"database-write",label:"Database Write",description:"Write data to database",IconComponent:Ha,category:"Data Sources",color:"from-gray-500 via-slate-600 to-gray-700"}],Df=["Triggers","Data Sources","AI & Processing","Control Flow","Output & Actions"],k4=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(null),{isDark:o}=zt()||{isDark:!1},s=(c,u)=>{c.dataTransfer.setData("application/reactflow",u),c.dataTransfer.effectAllowed="move"},l=Ds.filter(c=>{const u=c.label.toLowerCase().includes(e.toLowerCase())||c.description.toLowerCase().includes(e.toLowerCase()),d=!n||c.category===n;return u&&d}),i=Df.filter(c=>Ds.some(u=>u.category===c&&u.label.toLowerCase().includes(e.toLowerCase())||u.description.toLowerCase().includes(e.toLowerCase())));return a.jsxs("div",{className:`w-80 h-full border-r flex flex-col flex-shrink-0 transition-all duration-300 ${o?"bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 border-gray-700/70":"bg-gradient-to-b from-white via-gray-50 to-white border-gray-200/70"}`,children:[a.jsxs("div",{className:`p-5 border-b transition-colors duration-300 flex-shrink-0 ${o?"border-gray-700/50 bg-gray-800/30":"border-gray-200/50 bg-white/50"} backdrop-blur-sm`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-500 via-purple-500 to-violet-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/25",children:a.jsx(Qh,{className:"w-5 h-5 text-white"})}),a.jsx("div",{children:a.jsx("h2",{className:`text-lg font-bold transition-colors duration-300 ${o?"text-gray-100":"text-gray-900"}`,children:"Components"})})]}),a.jsx("p",{className:`text-sm leading-relaxed transition-colors duration-300 ${o?"text-gray-400":"text-gray-600"}`,children:"Drag components to build your workflow"}),Ds.length>8&&a.jsxs("div",{className:`text-xs mt-2 flex items-center gap-2 transition-all duration-300 ${o?"text-blue-400/80":"text-blue-600/80"}`,children:[a.jsx("svg",{className:"w-3 h-3 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),a.jsxs("span",{className:"text-xs",children:["Scroll for more (",Ds.length," total)"]})]})]}),a.jsxs("div",{className:`p-4 border-b transition-colors duration-300 flex-shrink-0 ${o?"border-gray-700/50":"border-gray-200/50"}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search components...",value:e,onChange:c=>t(c.target.value),className:`w-full pl-11 pr-4 py-3 border rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${o?"bg-gray-800/50 border-gray-600/50 text-gray-100 placeholder-gray-400 focus:bg-gray-800":"bg-white/80 border-gray-300/60 text-gray-900 placeholder-gray-500 focus:bg-white"} backdrop-blur-sm`}),a.jsx(Uo,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 transition-colors duration-300 ${o?"text-gray-400":"text-gray-500"}`})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>r(null),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-all duration-200 ${n?o?"bg-gray-700/60 text-gray-300 hover:bg-gray-600/60 border border-gray-600/30":"bg-gray-100/80 text-gray-600 hover:bg-gray-200/80 border border-gray-200/50":"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25"}`,children:"All"}),Df.map(c=>a.jsx("button",{onClick:()=>r(c),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-all duration-200 ${n===c?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25":o?"bg-gray-700/60 text-gray-300 hover:bg-gray-600/60 border border-gray-600/30":"bg-gray-100/80 text-gray-600 hover:bg-gray-200/80 border border-gray-200/50"}`,children:c},c))]})]}),a.jsx("div",{className:"flex-1 overflow-y-scroll workflow-sidebar-scroll",style:{maxHeight:"calc(100vh - 280px)",minHeight:"350px"},children:a.jsxs("div",{className:"px-4 pt-4 pb-24 space-y-6",children:[i.map(c=>{const u=l.filter(d=>d.category===c);return u.length===0?null:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:`text-sm font-bold uppercase tracking-wide transition-colors duration-300 ${o?"text-gray-300":"text-gray-700"}`,children:c}),a.jsx("div",{className:`flex-1 h-px transition-colors duration-300 ${o?"bg-gradient-to-r from-gray-700 to-transparent":"bg-gradient-to-r from-gray-200 to-transparent"}`}),a.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full transition-colors duration-300 ${o?"text-gray-400 bg-gray-700/50":"text-gray-500 bg-gray-100/80"}`,children:u.length})]}),a.jsx("div",{className:"space-y-2",children:u.map(d=>{const h=d.IconComponent;return a.jsxs("div",{draggable:!0,onDragStart:f=>s(f,d.type),className:`group flex items-center p-3 rounded-xl cursor-grab active:cursor-grabbing transition-all duration-300 border backdrop-blur-sm hover:shadow-xl hover:shadow-black/10 hover:scale-[1.02] active:scale-[0.98] ${o?"bg-gray-800/40 hover:bg-gray-700/60 border-gray-700/50 hover:border-gray-600/50":"bg-white/70 hover:bg-white/90 border-gray-200/60 hover:border-gray-300/60"}`,children:[a.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${d.color} rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110 group-hover:rotate-3`,children:a.jsx(h,{className:"w-5 h-5 text-white drop-shadow-sm"})}),a.jsxs("div",{className:"flex-1 min-w-0 ml-3",children:[a.jsx("div",{className:`text-sm font-semibold mb-1 transition-colors duration-300 ${o?"text-gray-100 group-hover:text-white":"text-gray-900 group-hover:text-gray-700"}`,children:d.label}),a.jsx("div",{className:`text-xs leading-relaxed transition-colors duration-300 ${o?"text-gray-400 group-hover:text-gray-300":"text-gray-500 group-hover:text-gray-600"}`,children:d.description})]}),a.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:scale-110 ${o?"bg-gray-700/60 text-gray-300":"bg-gray-100/80 text-gray-600"}`,children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]},d.type)})})]},c)}),a.jsx("div",{className:"h-16"}),l.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-2xl flex items-center justify-center ${o?"bg-gray-700/50":"bg-gray-100/80"}`,children:a.jsx(Uo,{className:`w-8 h-8 transition-colors duration-300 ${o?"text-gray-500":"text-gray-400"}`})}),a.jsx("p",{className:`text-base font-semibold mb-2 transition-colors duration-300 ${o?"text-gray-300":"text-gray-600"}`,children:"No components found"}),a.jsx("p",{className:"text-sm transition-colors duration-300 text-gray-500",children:"Try adjusting your search or filter"})]})]})}),a.jsx("div",{className:`p-3 border-t transition-colors duration-300 flex-shrink-0 ${o?"border-gray-700/50":"border-gray-200/50"}`,children:a.jsx("div",{className:`border rounded-lg p-3 transition-all duration-300 backdrop-blur-sm ${o?"bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 border-blue-700/30":"bg-gradient-to-br from-blue-50/80 via-indigo-50/80 to-purple-50/80 border-blue-200/60"}`,children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:`w-6 h-6 rounded-md flex items-center justify-center flex-shrink-0 transition-colors duration-300 ${o?"bg-blue-500/20 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:`text-xs font-bold mb-1 transition-colors duration-300 ${o?"text-blue-300":"text-blue-900"}`,children:"Quick Guide"}),a.jsx("ul",{className:`text-xs space-y-1 transition-colors duration-300 ${o?"text-blue-400/90":"text-blue-700/90"}`,children:a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-1 h-1 rounded-full ${o?"bg-blue-400":"bg-blue-600"}`}),a.jsx("span",{children:"Drag to canvas"})]})})]})]})})})]})},b4=[],N4=[];let S4=0;const E4=()=>`node_${S4++}`;function _4({onBack:e}){const{isDark:t}=zt()||{isDark:!1},n=p.useRef(null),[r,o,s]=Lp(b4),[l,i,c]=Tp(N4),[u,d]=p.useState(null),[h,f]=p.useState(!0),[g,k]=p.useState({x:0,y:0,zoom:1}),x=p.useCallback(N=>i(j=>mu(N,j)),[i]),E=p.useCallback((N,j)=>{k(j)},[]),m=p.useCallback(()=>{u&&u.setViewport({x:0,y:0,zoom:1})},[u]),y=p.useCallback(()=>{u&&r.length>0&&u.fitView({padding:.1,minZoom:.5,maxZoom:1.5})},[u,r]),v=p.useCallback(N=>{if(u){const j=u.getViewport(),M=100;let P=j.x,A=j.y;switch(N){case"up":A+=M;break;case"down":A-=M;break;case"left":P+=M;break;case"right":P-=M;break}u.setViewport({x:P,y:A,zoom:j.zoom})}},[u]),w=p.useCallback(N=>{N.preventDefault(),N.dataTransfer&&(N.dataTransfer.dropEffect="move")},[]),S=p.useCallback(N=>{if(N.preventDefault(),!N.dataTransfer||!u)return;const j=N.dataTransfer.getData("application/reactflow");if(typeof j>"u"||!j)return;const M=u.screenToFlowPosition({x:N.clientX,y:N.clientY}),P={id:E4(),type:j,position:M,data:{label:`${j.charAt(0).toUpperCase()+j.slice(1)} Node`,type:j}};o(A=>A.concat(P))},[u,o]);return a.jsxs("div",{className:`h-screen flex flex-col ${t?"bg-gray-900":"bg-gray-50"}`,children:[a.jsx("div",{className:`border-b px-6 py-4 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[e&&a.jsxs("button",{onClick:e,className:`flex items-center gap-2 px-4 py-2 rounded-lg ${t?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Dashboard"]}),a.jsx("h1",{className:`text-xl font-bold ${t?"text-gray-100":"text-gray-900"}`,children:"New Workflow"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>f(!h),className:`p-2 rounded-lg ${t?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save"}),a.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Execute"})]})]})}),a.jsxs("div",{className:"flex flex-1",children:[h&&a.jsx(k4,{}),a.jsx("div",{className:"flex-1 overflow-hidden",ref:n,children:a.jsxs(ku,{nodes:r,edges:l,onNodesChange:s,onEdgesChange:c,onConnect:x,onInit:d,onDrop:S,onDragOver:w,onMove:E,nodeTypes:Op,className:t?"bg-gray-900":"bg-gray-50",panOnScroll:!0,panOnScrollSpeed:.5,zoomOnScroll:!0,zoomOnPinch:!0,panOnDrag:!0,selectionOnDrag:!1,zoomOnDoubleClick:!1,preventScrolling:!1,children:[a.jsx(Ip,{className:t?"bg-gray-800 text-white":"bg-white"}),a.jsx(Dp,{className:t?"bg-gray-800":"bg-white"}),a.jsx(Fp,{variant:st.Dots}),a.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 z-10",children:[a.jsx("button",{onClick:y,className:`p-3 rounded-lg shadow-lg transition-all duration-200 hover:scale-105 ${t?"bg-gray-800 text-gray-200 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-50"}`,title:"Fit view to all nodes",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4m-4 0l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),a.jsx("button",{onClick:m,className:`p-3 rounded-lg shadow-lg transition-all duration-200 hover:scale-105 ${t?"bg-gray-800 text-gray-200 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-50"}`,title:"Reset view to center",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4V1m6 8h3m-6 8v3m-6-3v3m-6-8H1m11-6l6 6-6 6-6-6 6-6z"})})}),a.jsxs("div",{className:`px-3 py-2 rounded-lg shadow-lg text-sm font-medium ${t?"bg-gray-800 text-gray-200":"bg-white text-gray-700"}`,children:[Math.round(g.zoom*100),"%"]})]}),a.jsx("div",{className:"absolute top-4 left-4 z-10",children:a.jsx("div",{className:`bg-opacity-90 backdrop-blur-sm rounded-xl p-2 shadow-lg ${t?"bg-gray-800":"bg-white"}`,children:a.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[a.jsx("div",{}),a.jsx("button",{onClick:()=>v("up"),className:`p-2 rounded-lg transition-all duration-200 hover:scale-105 ${t?"text-gray-200 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,title:"Pan up",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),a.jsx("div",{}),a.jsx("button",{onClick:()=>v("left"),className:`p-2 rounded-lg transition-all duration-200 hover:scale-105 ${t?"text-gray-200 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,title:"Pan left",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:`p-2 rounded-lg ${t?"bg-gray-700":"bg-gray-100"}`,children:a.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:a.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-gray-400":"bg-gray-500"}`})})}),a.jsx("button",{onClick:()=>v("right"),className:`p-2 rounded-lg transition-all duration-200 hover:scale-105 ${t?"text-gray-200 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,title:"Pan right",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),a.jsx("div",{}),a.jsx("button",{onClick:()=>v("down"),className:`p-2 rounded-lg transition-all duration-200 hover:scale-105 ${t?"text-gray-200 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,title:"Pan down",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),a.jsx("div",{})]})})}),r.length===0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsx("h3",{className:`text-xl font-bold mb-2 ${t?"text-gray-100":"text-gray-900"}`,children:"Start building your workflow"}),a.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Drag components from the sidebar to create your workflow"})]})})]})})]})]})}function C4(e){return a.jsx(oi,{children:a.jsx(_4,{...e})})}class j4{constructor(){sr(this,"baseUrl","http://localhost:8000/api/v1/workflow")}async request(t,n={}){try{const r=await fetch(`${this.baseUrl}${t}`,{headers:{"Content-Type":"application/json",...n.headers},...n}),o=await r.json();if(!r.ok)throw new Error(o.detail||"API request failed");return o}catch(r){return console.error("API request error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async getComponents(t){const n=t?`?category=${t}`:"";return this.request(`/components${n}`)}async getComponentMetadata(t){return this.request(`/components/${t}`)}async createInstance(t){return this.request("/instances",{method:"POST",body:JSON.stringify(t)})}async getInstances(t){const n=new URLSearchParams;t!=null&&t.status&&n.append("status",t.status),t!=null&&t.limit&&n.append("limit",String(t.limit)),t!=null&&t.offset&&n.append("offset",String(t.offset));const r=n.toString();return this.request(`/instances${r?`?${r}`:""}`)}async getInstance(t){return this.request(`/instances/${t}`)}async executeInstance(t,n){return this.request(`/instances/${t}/execute`,{method:"POST",body:JSON.stringify(n||{})})}async stopExecution(t){return this.request(`/instances/${t}/stop`,{method:"POST"})}async getExecutionStatus(t){return this.request(`/instances/${t}/status`)}async getExecutionLogs(t,n=100,r=0){return this.request(`/instances/${t}/logs?limit=${n}&offset=${r}`)}connectToExecutionUpdates(t){const n=`ws://localhost:8000/api/v1/workflow/ws/${t}`;return new WebSocket(n)}async saveWorkflow(t){return this.request("/editor/save",{method:"POST",body:JSON.stringify(t)})}async loadWorkflow(t){return this.request(`/editor/load/${t}`)}async listEditorWorkflows(t){const n=new URLSearchParams;t!=null&&t.category&&n.append("category",t.category),(t==null?void 0:t.is_public)!==void 0&&n.append("is_public",String(t.is_public));const r=n.toString();return this.request(`/editor/list${r?`?${r}`:""}`)}}const At=new j4,bu=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!1),[o,s]=p.useState(null),l=p.useCallback(async c=>{r(!0),s(null);try{const u=await At.getComponents(c);u.success&&u.data?t(u.data):s(u.error||"Failed to fetch components")}catch(u){s(u instanceof Error?u.message:"Unknown error")}finally{r(!1)}},[]),i=p.useCallback(async c=>{try{return await At.getComponentMetadata(c)}catch(u){return console.error("Error fetching component metadata:",u),{success:!1,error:u instanceof Error?u.message:"Unknown error"}}},[]);return p.useEffect(()=>{l()},[l]),{components:e,loading:n,error:o,fetchComponents:l,getComponentMetadata:i}},$4=()=>{const[e,t]=p.useState(null),[n,r]=p.useState([]),[o,s]=p.useState([]),[l,i]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState(null),f=p.useRef(null),g=p.useCallback(v=>{var w;((w=f.current)==null?void 0:w.readyState)===WebSocket.OPEN&&f.current.close();try{const S=At.connectToExecutionUpdates(v);S.onopen=()=>{console.log("WebSocket connected for execution updates"),i(!0),h(null)},S.onmessage=N=>{try{const j=JSON.parse(N.data);s(M=>[j,...M.slice(0,99)]),j.event_type==="execution_started"?t(M=>M?{...M,status:"running",is_running:!0}:null):j.event_type==="execution_completed"?t(M=>M?{...M,status:"completed",is_running:!1}:null):j.event_type==="execution_failed"?t(M=>M?{...M,status:"failed",is_running:!1,error_message:j.data.error}:null):j.event_type==="execution_stopped"&&t(M=>M?{...M,status:"cancelled",is_running:!1}:null)}catch(j){console.error("Error parsing WebSocket message:",j)}},S.onerror=N=>{console.error("WebSocket error:",N),h("WebSocket connection error"),i(!1)},S.onclose=()=>{console.log("WebSocket disconnected"),i(!1)},f.current=S}catch(S){console.error("Error connecting to WebSocket:",S),h("Failed to connect to real-time updates")}},[]),k=p.useCallback(()=>{f.current&&(f.current.close(),f.current=null),i(!1)},[]),x=p.useCallback(async(v,w)=>{u(!0),h(null);try{const S=await At.executeInstance(v,w);return S.success?(console.log(`Workflow execution started for instance: ${v} - no auto-connection`),S):(h(S.error||"Failed to execute workflow"),S)}catch(S){const N=S instanceof Error?S.message:"Unknown error";return h(N),{success:!1,error:N}}finally{u(!1)}},[]),E=p.useCallback(async v=>{u(!0),h(null);try{const w=await At.stopExecution(v);return w.success||h(w.error||"Failed to stop execution"),w}catch(w){const S=w instanceof Error?w.message:"Unknown error";return h(S),{success:!1,error:S}}finally{u(!1)}},[]),m=p.useCallback(async v=>{try{const w=await At.getExecutionStatus(v);return w.success&&w.data&&t(w.data),w}catch(w){return console.error("Error fetching execution status:",w),{success:!1,error:w instanceof Error?w.message:"Unknown error"}}},[]),y=p.useCallback(async(v,w=100,S=0)=>{try{const N=await At.getExecutionLogs(v,w,S);return N.success&&N.data&&r(N.data.logs),N}catch(N){return console.error("Error fetching execution logs:",N),{success:!1,error:N instanceof Error?N.message:"Unknown error"}}},[]);return p.useEffect(()=>(console.log("useWorkflowExecution initialized - no auto-connection"),()=>{k()}),[k]),{executionStatus:e,executionLogs:n,executionEvents:o,isConnected:l,loading:c,error:d,executeWorkflow:x,stopExecution:E,fetchExecutionStatus:m,fetchExecutionLogs:y,connectToUpdates:g,disconnect:k}},Wp=()=>{const[e,t]=p.useState(null),[n,r]=p.useState([]),[o,s]=p.useState(!1),[l,i]=p.useState(null),c=p.useCallback(async f=>{s(!0),i(null);try{const g=await At.saveWorkflow(f);return g.success?(await d(),g):(i(g.error||"Failed to save workflow"),g)}catch(g){const k=g instanceof Error?g.message:"Unknown error";return i(k),{success:!1,error:k}}finally{s(!1)}},[]),u=p.useCallback(async f=>{console.log("loadWorkflow called with ID:",f),s(!0),i(null);try{console.log("Calling API to load workflow...");const g=await At.loadWorkflow(f);return console.log("API response:",g),g.success&&g.data?(console.log("Setting current workflow:",g.data),t(g.data),g):(console.log("Load failed:",g.error),i(g.error||"Failed to load workflow"),g)}catch(g){console.log("Load error:",g);const k=g instanceof Error?g.message:"Unknown error";return i(k),{success:!1,error:k}}finally{s(!1)}},[]),d=p.useCallback(async f=>{s(!0),i(null);try{const g=await At.listEditorWorkflows(f);g.success&&g.data?r(g.data.workflows):i(g.error||"Failed to fetch workflows")}catch(g){i(g instanceof Error?g.message:"Unknown error")}finally{s(!1)}},[]),h=p.useCallback((f,g,k)=>({nodes:f.map(x=>{var E,m,y;return{id:x.id,type:x.type||"default",position:x.position,data:{label:((E=x.data)==null?void 0:E.label)||"",type:((m=x.data)==null?void 0:m.type)||x.type||"default",config:((y=x.data)==null?void 0:y.config)||{}}}}),edges:g.map(x=>({id:x.id,source:x.source,target:x.target,sourceHandle:x.sourceHandle||void 0,targetHandle:x.targetHandle||void 0})),viewport:k}),[]);return p.useEffect(()=>{d()},[d]),{currentWorkflow:e,availableWorkflows:n,loading:o,error:l,saveWorkflow:c,loadWorkflow:u,fetchAvailableWorkflows:d,convertReactFlowData:h,setCurrentWorkflow:t}},M4={PlayIcon:Sl,ClockIcon:nu,LinkIcon:Va,TableCellsIcon:ng,CircleStackIcon:Ha,GlobeAltIcon:tg,CpuChipIcon:C1,ArrowsRightLeftIcon:Zh,MagnifyingGlassIcon:Uo,EnvelopeIcon:M1,CogIcon:qs};function L4({isOpen:e=!0,onToggle:t}){const{components:n,loading:r,error:o}=bu(),[s,l]=p.useState(""),[i,c]=p.useState(["triggers","data_sources","ai_processing","control_flow","output_actions"]),[u,d]=p.useState(["triggers","data_sources","ai_processing"]),h=n.filter(m=>{const y=m.name.toLowerCase().includes(s.toLowerCase())||m.description.toLowerCase().includes(s.toLowerCase()),v=i.includes(m.category);return y&&v}),f=h.reduce((m,y)=>(m[y.category]||(m[y.category]=[]),m[y.category].push(y),m),{}),g={triggers:"Triggers",data_sources:"Data Sources",ai_processing:"AI & Processing",control_flow:"Control Flow",output_actions:"Output & Actions"},k=(m,y)=>{m.dataTransfer.setData("application/reactflow",y),m.dataTransfer.effectAllowed="move"},x=m=>{d(y=>y.includes(m)?y.filter(v=>v!==m):[...y,m])},E=m=>{c(y=>y.includes(m)?y.filter(v=>v!==m):[...y,m])};return e?r?a.jsx("div",{className:"w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded mb-4"}),a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(m=>a.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-600 rounded"},m))})]})}):o?a.jsx("div",{className:"w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4",children:a.jsxs("div",{className:"text-red-600 dark:text-red-400",children:[a.jsx("h3",{className:"font-medium",children:"Error loading components"}),a.jsx("p",{className:"text-sm mt-1",children:o})]})}):a.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:a.jsx(qs,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Components"})]}),t&&a.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(rg,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Drag components to build your workflow"}),a.jsxs("div",{className:"relative",children:[a.jsx(Uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search components...",value:s,onChange:m=>l(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Categories:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(g).map(([m,y])=>a.jsx("button",{onClick:()=>E(m),className:`px-2 py-1 text-xs rounded transition-colors ${i.includes(m)?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:y},m))})]}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[h.length," component",h.length!==1?"s":""," available"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:Object.entries(f).map(([m,y])=>a.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[a.jsxs("button",{onClick:()=>x(m),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors",children:[a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[g[m]," (",y.length,")"]}),u.includes(m)?a.jsx(p1,{className:"w-4 h-4 text-gray-500"}):a.jsx(y1,{className:"w-4 h-4 text-gray-500"})]}),u.includes(m)&&a.jsx("div",{className:"pb-2",children:y.map(v=>{const w=M4[v.icon]||qs;return a.jsx("div",{draggable:!0,onDragStart:S=>k(S,v.type),className:"mx-2 mb-2 p-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg cursor-move hover:shadow-md hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200 group",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-r ${v.color} flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform`,children:a.jsx(w,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:v.name}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:v.description}),a.jsxs("div",{className:"flex gap-1 mt-2",children:[v.is_trigger&&a.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 rounded",children:"Trigger"}),v.is_async&&a.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 rounded",children:"Async"}),v.parameters.length>0&&a.jsxs("span",{className:"px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 dark:bg-gray-600 dark:text-gray-300 rounded",children:[v.parameters.length," param",v.parameters.length!==1?"s":""]})]})]})]})},v.type)})})]},m))}),a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"💡 Tip: Drag components to the canvas to start building your workflow"})})]}):a.jsx("div",{className:"w-16 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col items-center py-4",children:a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:a.jsx(qs,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})})})}class T4{constructor(){sr(this,"baseUrl");sr(this,"apiUrl");this.baseUrl="http://localhost:8000",this.apiUrl=`${this.baseUrl}/api/v1/workflow/logs`}async request(t,n={}){try{const r=await fetch(`${this.apiUrl}${t}`,{headers:{"Content-Type":"application/json",...n.headers},...n});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);return{success:!0,data:await r.json()}}catch(r){return console.error("Enhanced Logging API request error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async getTaskLogs(t){const n=new URLSearchParams;t!=null&&t.workflow_instance_id&&n.append("workflow_instance_id",t.workflow_instance_id),t!=null&&t.task_type&&n.append("task_type",t.task_type),t!=null&&t.status&&n.append("status",t.status),t!=null&&t.log_level&&n.append("log_level",t.log_level),t!=null&&t.user_id&&n.append("user_id",t.user_id),t!=null&&t.limit&&n.append("limit",String(t.limit)),t!=null&&t.offset&&n.append("offset",String(t.offset)),t!=null&&t.start_date&&n.append("start_date",t.start_date),t!=null&&t.end_date&&n.append("end_date",t.end_date);const r=n.toString(),o=`/tasks${r?`?${r}`:""}`;return this.request(o)}async getExecutionSteps(t){const n=new URLSearchParams;t!=null&&t.workflow_instance_id&&n.append("workflow_instance_id",t.workflow_instance_id),t!=null&&t.status&&n.append("status",t.status),t!=null&&t.limit&&n.append("limit",String(t.limit)),t!=null&&t.offset&&n.append("offset",String(t.offset)),t!=null&&t.start_date&&n.append("start_date",t.start_date),t!=null&&t.end_date&&n.append("end_date",t.end_date);const r=n.toString(),o=`/steps${r?`?${r}`:""}`;return this.request(o)}async getLogSummary(){return this.request("/summary")}async getInstanceLogs(t){return this.request(`/instances/${t}/detailed`)}async fetchWorkflowLogs(t){try{const[n,r]=await Promise.all([this.getTaskLogs({workflow_instance_id:t}),this.getExecutionSteps({workflow_instance_id:t})]);return{taskLogs:n.success?n.data||[]:[],executionSteps:r.success?r.data||[]:[],success:n.success&&r.success,error:n.success?r.success?void 0:"Failed to fetch execution steps":"Failed to fetch task logs"}}catch(n){return console.error("Error fetching workflow logs:",n),{taskLogs:[],executionSteps:[],success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async subscribeToWorkflowCompletion(t){return console.log("Workflow completion subscription set up (placeholder)"),()=>{console.log("Workflow completion subscription cleaned up")}}async healthCheck(){try{const t=await fetch(`${this.baseUrl}/api/v1/health`);return{success:t.ok,data:{status:t.ok?"healthy":"unhealthy",timestamp:new Date().toISOString()}}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Health check failed"}}}}const qe=new T4,Hp=()=>({getTaskLogs:qe.getTaskLogs.bind(qe),getExecutionSteps:qe.getExecutionSteps.bind(qe),getLogSummary:qe.getLogSummary.bind(qe),getInstanceLogs:qe.getInstanceLogs.bind(qe),fetchWorkflowLogs:qe.fetchWorkflowLogs.bind(qe),subscribeToWorkflowCompletion:qe.subscribeToWorkflowCompletion.bind(qe),healthCheck:qe.healthCheck.bind(qe)}),P4=({workflowInstanceId:e,onClose:t,isVisible:n})=>{const{isDark:r}=zt()||{isDark:!1},[o,s]=p.useState("events"),[l,i]=p.useState(!1),[c,u]=p.useState(null),[d,h]=p.useState([]),[f,g]=p.useState([]),[k,x]=p.useState(new Date),{getTaskLogs:E,getExecutionSteps:m}=Hp(),y=p.useCallback(async()=>{i(!0),u(null);try{const[N,j]=await Promise.all([E({workflow_instance_id:e,limit:50}),m({workflow_instance_id:e,limit:50})]);N.success&&N.data?h(N.data):N.error&&console.warn("Failed to load task logs:",N.error),j.success&&j.data?g(j.data):j.error&&console.warn("Failed to load execution steps:",j.error),x(new Date)}catch(N){u(N instanceof Error?N.message:"Failed to load data")}finally{i(!1)}},[e,E,m]);p.useEffect(()=>{if(!(!n||!e))return y(),console.log(`EnhancedExecutionPanel setup for workflow: ${e}`),()=>{console.log(`EnhancedExecutionPanel cleanup for workflow: ${e}`)}},[n,e,y]);const v=N=>{switch(N==null?void 0:N.toLowerCase()){case"success":case"completed":return r?"text-green-400 bg-green-400/20":"text-green-600 bg-green-100";case"failed":case"error":return r?"text-red-400 bg-red-400/20":"text-red-600 bg-red-100";case"running":case"processing":return r?"text-blue-400 bg-blue-400/20":"text-blue-600 bg-blue-100";case"pending":return r?"text-yellow-400 bg-yellow-400/20":"text-yellow-600 bg-yellow-100";default:return r?"text-gray-400 bg-gray-400/20":"text-gray-600 bg-gray-100"}},w=N=>new Date(N).toLocaleTimeString(),S=N=>N?N<1e3?`${N}ms`:`${(N/1e3).toFixed(1)}s`:"N/A";return n?a.jsxs("div",{className:`w-96 border-l flex flex-col h-full ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:`p-4 border-b ${r?"border-gray-700":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:`font-semibold ${r?"text-gray-100":"text-gray-900"}`,children:"Execution Monitor"}),a.jsx("button",{onClick:t,className:`p-1 rounded hover:bg-opacity-20 ${r?"text-gray-400 hover:text-gray-200 hover:bg-gray-600":"text-gray-500 hover:text-gray-700 hover:bg-gray-200"}`,children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:`p-2 rounded ${r?"bg-gray-700":"bg-gray-50"}`,children:[a.jsx("div",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:"Task Logs"}),a.jsx("div",{className:`text-sm font-semibold ${r?"text-gray-200":"text-gray-800"}`,children:d.length})]}),a.jsxs("div",{className:`p-2 rounded ${r?"bg-gray-700":"bg-gray-50"}`,children:[a.jsx("div",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:"Execution Steps"}),a.jsx("div",{className:`text-sm font-semibold ${r?"text-gray-200":"text-gray-800"}`,children:f.length})]})]}),a.jsxs("div",{className:`mt-2 flex items-center justify-between text-xs ${r?"text-gray-400":"text-gray-500"}`,children:[a.jsxs("span",{children:["Last update: ",w(k.toISOString())]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${c?"bg-red-500":"bg-green-500 animate-pulse"}`}),a.jsx("span",{children:c?"Disconnected":"Live"})]})]})]}),a.jsx("div",{className:`border-b ${r?"border-gray-700":"border-gray-200"}`,children:a.jsxs("div",{className:"flex",children:[a.jsxs("button",{onClick:()=>s("events"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${o==="events"?r?"text-blue-400 border-blue-400 bg-gray-700":"text-blue-600 border-blue-600 bg-gray-50":r?"text-gray-400 border-transparent hover:text-gray-200":"text-gray-600 border-transparent hover:text-gray-800"}`,children:["Events (",f.length,")"]}),a.jsxs("button",{onClick:()=>s("logs"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${o==="logs"?r?"text-blue-400 border-blue-400 bg-gray-700":"text-blue-600 border-blue-600 bg-gray-50":r?"text-gray-400 border-transparent hover:text-gray-200":"text-gray-600 border-transparent hover:text-gray-800"}`,children:["Logs (",d.length,")"]}),a.jsx("button",{onClick:()=>s("summary"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${o==="summary"?r?"text-blue-400 border-blue-400 bg-gray-700":"text-blue-600 border-blue-600 bg-gray-50":r?"text-gray-400 border-transparent hover:text-gray-200":"text-gray-600 border-transparent hover:text-gray-800"}`,children:"Summary"})]})}),a.jsxs("div",{className:"flex-1 overflow-auto",children:[l&&a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${r?"border-blue-400":"border-blue-600"}`})}),c&&a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-red-900/20 text-red-400":"bg-red-50 text-red-600"}`,children:[a.jsx("div",{className:"font-medium",children:"Connection Error"}),a.jsx("div",{className:"text-sm mt-1",children:c}),a.jsx("button",{onClick:y,className:"text-sm underline mt-2 hover:no-underline",children:"Retry"})]})}),o==="events"&&!l&&!c&&a.jsx("div",{className:"p-4 space-y-3",children:f.length===0?a.jsxs("div",{className:`text-center py-8 ${r?"text-gray-400":"text-gray-500"}`,children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),a.jsx("p",{children:"No events yet"}),a.jsx("p",{className:"text-xs mt-1",children:"Execute the workflow to see real-time events"})]}):f.map(N=>a.jsxs("div",{className:`p-3 rounded-lg border ${r?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:`text-sm font-medium ${r?"text-gray-200":"text-gray-800"}`,children:N.step_name}),a.jsx("span",{className:`px-2 py-1 rounded text-xs ${v(N.status)}`,children:N.status.toUpperCase()})]}),a.jsxs("div",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:[N.started_at&&a.jsxs("div",{children:["Started: ",w(N.started_at)]}),N.completed_at&&a.jsxs("div",{children:["Completed: ",w(N.completed_at)," • ",S(N.execution_time_ms)]}),N.error_message&&a.jsxs("div",{className:"text-red-500 mt-1",children:["Error: ",N.error_message]})]})]},N.id))}),o==="logs"&&!l&&!c&&a.jsx("div",{className:"p-4 space-y-3",children:d.length===0?a.jsx("div",{className:`text-center py-8 ${r?"text-gray-400":"text-gray-500"}`,children:a.jsx("p",{children:"No logs available"})}):d.map(N=>{var j;return a.jsxs("div",{className:`p-3 rounded-lg border ${r?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`text-sm font-medium ${r?"text-gray-200":"text-gray-800"}`,children:N.task_name}),a.jsx("span",{className:`px-2 py-1 rounded text-xs ${v(N.status||"unknown")}`,children:((j=N.status)==null?void 0:j.toUpperCase())||"UNKNOWN"})]}),a.jsxs("div",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:[w(N.created_at),N.execution_time_ms&&a.jsxs("span",{className:"ml-2",children:["• ",S(N.execution_time_ms)]}),N.log_level&&a.jsxs("span",{className:"ml-2",children:["• ",N.log_level.toUpperCase()]})]}),N.failure_reason&&a.jsxs("div",{className:"mt-2 text-xs text-red-500",children:["Error: ",N.failure_reason]})]},N.id)})}),o==="summary"&&!l&&!c&&a.jsx("div",{className:"p-4 space-y-4",children:a.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-700":"bg-gray-50"}`,children:[a.jsx("h4",{className:`font-medium mb-2 ${r?"text-gray-200":"text-gray-800"}`,children:"Overall Statistics"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:r?"text-gray-400":"text-gray-600",children:"Total Task Logs:"}),a.jsx("span",{className:r?"text-gray-200":"text-gray-800",children:d.length})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:r?"text-gray-400":"text-gray-600",children:"Total Steps:"}),a.jsx("span",{className:r?"text-gray-200":"text-gray-800",children:f.length})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:r?"text-gray-400":"text-gray-600",children:"System Status:"}),a.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"ACTIVE"})]})]})]})})]}),a.jsxs("div",{className:`p-3 border-t flex items-center justify-between text-xs ${r?"border-gray-700 text-gray-400":"border-gray-200 text-gray-500"}`,children:[a.jsx("span",{children:"Manual refresh only - no auto-polling"}),a.jsx("button",{onClick:y,disabled:l,className:`px-2 py-1 rounded text-xs hover:bg-opacity-20 ${r?"text-blue-400 hover:bg-blue-400":"text-blue-600 hover:bg-blue-600"} ${l?"opacity-50 cursor-not-allowed":""}`,children:l?"Loading...":"Refresh Now"})]})]}):null},Vp=()=>{const[e,t]=p.useState({isVisible:!1,workflowInstanceId:null,isConnected:!1,lastUpdate:null,hasNewActivity:!1}),[n,r]=p.useState([]),{healthCheck:o,fetchWorkflowLogs:s}=Hp(),l=p.useCallback(()=>{t(g=>({...g,hasNewActivity:!g.isVisible,lastUpdate:new Date}))},[]),i=p.useCallback(async g=>{try{const k=await s(g);if(k.success){const x=[...k.taskLogs,...k.executionSteps].sort((E,m)=>new Date(m.created_at).getTime()-new Date(E.created_at).getTime());r(x.slice(0,20)),l()}}catch(k){console.error("Failed to load workflow logs:",k)}},[s,l]),c=p.useCallback(async()=>{try{const g=await o();return t(k=>({...k,isConnected:g.success})),g.success}catch{return t(k=>({...k,isConnected:!1})),!1}},[o]),u=p.useCallback(g=>{t(k=>({...k,isVisible:!0,workflowInstanceId:g||null,hasNewActivity:!1}))},[]),d=p.useCallback(()=>{t(g=>({...g,isVisible:!1}))},[]),h=p.useCallback(()=>{t(g=>({...g,isVisible:!g.isVisible,hasNewActivity:g.isVisible?!1:g.hasNewActivity}))},[]),f=p.useCallback(g=>{t(k=>({...k,workflowInstanceId:g}))},[]);return p.useEffect(()=>{c(),console.log("ExecutionMonitor initialized - no background polling")},[]),p.useEffect(()=>{if(e.isVisible&&e.hasNewActivity){const g=setTimeout(()=>{t(k=>({...k,hasNewActivity:!1}))},5e3);return()=>clearTimeout(g)}},[e.isVisible,e.hasNewActivity]),{...e,recentLogs:n,showPanel:u,hidePanel:d,togglePanel:h,setWorkflowInstance:f,checkConnection:c,loadWorkflowLogs:i,getActivityCount:()=>n.length,getLatestActivity:()=>n[0]||null,isMonitoringWorkflow:()=>!!e.workflowInstanceId}},A4=({className:e="",position:t="bottom-right"})=>{const{isDark:n}=zt()||{isDark:!1},{isVisible:r,isConnected:o,hasNewActivity:s,recentLogs:l,togglePanel:i,getActivityCount:c}=Vp(),u=()=>{switch(t){case"bottom-left":return"bottom-6 left-6";case"top-right":return"top-6 right-6";case"top-left":return"top-6 left-6";default:return"bottom-6 right-6"}},d=c(),h=d>0||s;return a.jsxs("div",{className:`fixed ${u()} z-50 ${e}`,children:[a.jsxs("button",{onClick:i,className:`relative group flex items-center justify-center w-14 h-14 rounded-full shadow-xl transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-4 ${n?"bg-gray-800 hover:bg-gray-700 border border-gray-600 focus:ring-gray-500/50":"bg-white hover:bg-gray-50 border border-gray-200 focus:ring-blue-500/50"} ${r?"ring-4 ring-blue-500/30":""}`,title:"Execution Monitor",children:[a.jsx("svg",{className:`w-6 h-6 transition-colors ${o?n?"text-blue-400":"text-blue-600":n?"text-gray-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("div",{className:`absolute -top-1 -right-1 w-4 h-4 rounded-full border-2 ${n?"border-gray-800":"border-white"} ${o?"bg-green-500 animate-pulse":"bg-red-500"}`}),h&&a.jsx("div",{className:`absolute -top-2 -left-2 min-w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${s?"bg-red-500 text-white animate-bounce":n?"bg-blue-500 text-white":"bg-blue-600 text-white"} ${d>99?"text-xs":""}`,children:d>99?"99+":d||"!"}),a.jsxs("div",{className:`absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 px-3 py-2 rounded-lg text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap ${n?"bg-gray-700 text-gray-200 border border-gray-600":"bg-gray-900 text-white"}`,children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{children:"Execution Monitor"}),a.jsxs("div",{className:"text-xs opacity-75 mt-1",children:[l.length," recent logs"]}),a.jsx("div",{className:`text-xs ${o?"text-green-400":"text-red-400"}`,children:o?"Connected":"Disconnected"})]}),a.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${n?"border-t-gray-700":"border-t-gray-900"}`})]})]}),!r&&h&&a.jsxs("div",{className:`absolute bottom-full mb-4 right-0 w-64 p-3 rounded-lg shadow-xl border transition-all duration-300 ${n?"bg-gray-800 border-gray-600 text-gray-200":"bg-white border-gray-200 text-gray-800"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:"Recent Activity"}),a.jsx("button",{onClick:i,className:`text-xs px-2 py-1 rounded hover:bg-opacity-20 ${n?"text-blue-400 hover:bg-blue-400":"text-blue-600 hover:bg-blue-600"}`,children:"View All"})]}),l.slice(0,3).map((f,g)=>{var k;return a.jsxs("div",{className:`text-xs p-2 rounded mb-1 last:mb-0 ${n?"bg-gray-700":"bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium truncate",children:"task_name"in f?f.task_name:f.step_name}),a.jsx("span",{className:`px-1 py-0.5 rounded text-xs ${"status"in f&&f.status==="success"||f.status==="completed"?n?"text-green-400 bg-green-400/20":"text-green-600 bg-green-100":"status"in f&&f.status==="failed"||f.status==="failed"?n?"text-red-400 bg-red-400/20":"text-red-600 bg-red-100":n?"text-blue-400 bg-blue-400/20":"text-blue-600 bg-blue-100"}`,children:((k=("status"in f,f.status))==null?void 0:k.toUpperCase())||"UNKNOWN"})]}),a.jsx("div",{className:`${n?"text-gray-400":"text-gray-500"} truncate`,children:new Date(f.created_at).toLocaleTimeString()})]},`${f.id}-${g}`)}),l.length>3&&a.jsxs("div",{className:`text-center text-xs ${n?"text-gray-400":"text-gray-500"} mt-2`,children:["+",l.length-3," more activities"]})]})]})};function D4({node:e,onUpdateNode:t,onDeleteNode:n}){var u,d,h;const{components:r}=bu(),[o,s]=p.useState(((u=e.data)==null?void 0:u.config)||{}),l=r.find(f=>f.type===e.type);p.useEffect(()=>{var f;s(((f=e.data)==null?void 0:f.config)||{})},[e]);const i=(f,g)=>{const k={...o,[f]:g};s(k);const x={...e.data,config:k};t(e.id,x)},c=f=>{var k;const g=o[f.name]??f.default_value??"";switch(f.type){case"string":return a.jsx("input",{type:"text",value:g,onChange:x=>i(f.name,x.target.value),placeholder:f.description||`Enter ${f.label}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:f.required});case"number":return a.jsx("input",{type:"number",value:g,onChange:x=>i(f.name,parseFloat(x.target.value)||0),placeholder:f.description||`Enter ${f.label}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:f.required});case"boolean":return a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:g,onChange:x=>i(f.name,x.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:f.description||"Enable this option"})]});case"select":return a.jsx("select",{value:g,onChange:x=>i(f.name,x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:f.required,children:(k=f.options)==null?void 0:k.map(x=>a.jsx("option",{value:x.value,children:x.label},x.value))});case"textarea":return a.jsx("textarea",{value:g,onChange:x=>i(f.name,x.target.value),placeholder:f.description||`Enter ${f.label}`,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:f.required});case"json":return a.jsx("textarea",{value:typeof g=="string"?g:JSON.stringify(g,null,2),onChange:x=>{try{const E=JSON.parse(x.target.value);i(f.name,E)}catch{i(f.name,x.target.value)}},placeholder:f.description||"Enter valid JSON",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white font-mono text-sm",required:f.required});case"file":return a.jsx("input",{type:"file",onChange:x=>{var m;const E=(m=x.target.files)==null?void 0:m[0];E&&i(f.name,E.name)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:f.required});default:return a.jsx("input",{type:"text",value:g,onChange:x=>i(f.name,x.target.value),placeholder:f.description||`Enter ${f.label}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:f.required})}};return l?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:l.name}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:l.description})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Node Label"}),a.jsx("input",{type:"text",value:((h=e.data)==null?void 0:h.label)||l.name,onChange:f=>t(e.id,{...e.data,label:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),l.parameters&&l.parameters.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:"Configuration"}),l.parameters.map(f=>a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[f.label,f.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c(f),f.description&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:f.description})]},f.name))]}),(l.input_handles.length>0||l.output_handles.length>0)&&a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 p-3 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Connection Points"}),l.input_handles.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:"Inputs:"}),a.jsx("ul",{className:"text-xs text-blue-600 dark:text-blue-400 ml-4",children:l.input_handles.map(f=>a.jsxs("li",{children:["• ",f.label||f.id]},f.id))})]}),l.output_handles.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:"Outputs:"}),a.jsx("ul",{className:"text-xs text-blue-600 dark:text-blue-400 ml-4",children:l.output_handles.map(f=>a.jsxs("li",{children:["• ",f.label||f.id]},f.id))})]})]}),a.jsx("div",{className:"flex space-x-2 pt-4 border-t border-gray-200 dark:border-gray-600",children:a.jsx("button",{onClick:()=>n(e.id),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Node"})})]}):a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"text-yellow-600 bg-yellow-100 dark:bg-yellow-900 dark:text-yellow-300 p-3 rounded-lg",children:[a.jsx("h4",{className:"font-medium",children:"Unknown Component Type"}),a.jsxs("p",{className:"text-sm mt-1",children:["No metadata found for component type: ",e.type]})]}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Node Label"}),a.jsx("input",{type:"text",value:((d=e.data)==null?void 0:d.label)||"",onChange:f=>t(e.id,{...e.data,label:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),a.jsx("button",{onClick:()=>n(e.id),className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Node"})]})]})}const R4=[],I4=[];let z4=0;const F4=()=>`node_${z4++}`;function O4({workflowId:e,onBack:t}){const{isDark:n}=zt()||{isDark:!1},r=p.useRef(null),[o,s,l]=Lp(R4),[i,c,u]=Tp(I4),[d,h]=p.useState(null),[f,g]=p.useState(!0),[k,x]=p.useState(!1),[E,m]=p.useState(!1),[y,v]=p.useState(null),[w,S]=p.useState({x:0,y:0,zoom:1}),[N,j]=p.useState(null),[M,P]=p.useState("New Workflow"),[A,F]=p.useState(""),[H,O]=p.useState(!1),{components:b}=bu(),{currentWorkflow:_,loading:$,error:z,saveWorkflow:L,loadWorkflow:C,convertReactFlowData:T,setCurrentWorkflow:I}=Wp(),{executionStatus:R,isConnected:B,loading:V,error:Y,executeWorkflow:Z,stopExecution:Q}=$4(),ee=Vp();p.useEffect(()=>{console.log("EnhancedWorkflowEditor useEffect - workflowId:",e),e&&(console.log("Loading workflow with ID:",e),C(e))},[e,C]),p.useEffect(()=>{if(_){const G=_.workflow_data;P(_.name),F(_.description||"");const ne=G.nodes.map(le=>({id:le.id,type:le.type,position:le.position,data:le.data})),ue=G.edges.map(le=>({id:le.id,source:le.source,target:le.target,sourceHandle:le.sourceHandle||null,targetHandle:le.targetHandle||null}));s(ne),c(ue),G.viewport&&(S(G.viewport),d==null||d.setViewport(G.viewport)),O(!1)}},[_,s,c,d]),p.useEffect(()=>{_&&O(!0)},[o,i,M,A]);const re=p.useCallback(G=>{console.log("Connection attempt:",G),c(ne=>mu(G,ne)),O(!0)},[c]),te=p.useCallback((G,ne)=>{S(ne)},[]),Ne=p.useCallback(G=>{G.preventDefault(),G.dataTransfer&&(G.dataTransfer.dropEffect="move")},[]),we=p.useCallback(G=>{if(G.preventDefault(),!G.dataTransfer||!d)return;const ne=G.dataTransfer.getData("application/reactflow");if(typeof ne>"u"||!ne)return;const ue=d.screenToFlowPosition({x:G.clientX,y:G.clientY}),le=b.find($t=>$t.type===ne),Ve=le?le.name:`${ne.charAt(0).toUpperCase()+ne.slice(1)} Node`,Xe={id:F4(),type:ne,position:ue,data:{label:Ve,type:ne,config:{}}};s($t=>$t.concat(Xe))},[d,s,b]),Le=p.useCallback((G,ne)=>{v(ne),m(!0)},[]),Ce=p.useCallback((G,ne)=>{s(ue=>ue.map(le=>le.id===G?{...le,data:{...le.data,...ne}}:le)),O(!0)},[s]),ge=p.useCallback(G=>{s(ne=>ne.filter(ue=>ue.id!==G)),c(ne=>ne.filter(ue=>ue.source!==G&&ue.target!==G)),m(!1),v(null),O(!0)},[s,c]),Te=p.useCallback(async()=>{var le;if(!M.trim()){alert("Please enter a workflow name");return}const G=T(o,i,w),ue=await L({name:M,description:A,category:"custom",workflow_data:G,is_public:!1});ue.success?(O(!1),alert("Workflow saved successfully!"),(le=ue.data)!=null&&le.id&&!e&&I({id:ue.data.id,name:M,description:A,workflow_data:G,status:"draft",created_at:new Date().toISOString()})):alert(`Failed to save workflow: ${ue.error}`)},[M,A,o,i,w,T,L,e,I]),se=p.useCallback(async()=>{if(!_)if(H){if(await Te(),!_)return}else{alert("Please save the workflow first");return}if(o.length===0){alert("Cannot execute empty workflow");return}try{const G=T(o,i,w),ne={name:`${M} - Execution ${new Date().toLocaleTimeString()}`,template_id:_.id,workflow_data:G,input_data:{},created_by:"frontend_user"},ue=await fetch("http://localhost:8000/api/v1/workflow/instances",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});if(!ue.ok)throw new Error(`Failed to create instance: ${ue.status}`);const Ve=(await ue.json()).instance_id;if(!Ve)throw new Error("No instance ID returned from server");console.log("Created instance:",Ve),j(Ve),ee.setWorkflowInstance(Ve),ee.showPanel(Ve),x(!0);const Xe=await Z(Ve,{});Xe.success||alert(`Failed to execute workflow: ${Xe.error}`)}catch(G){console.error("Execution error:",G),alert(`Failed to execute workflow: ${G instanceof Error?G.message:"Unknown error"}`)}},[_,H,Te,o,i,w,M,T,Z]),X=p.useCallback(async()=>{if(N&&(R!=null&&R.is_running)){const G=await Q(N);G.success||alert(`Failed to stop execution: ${G.error}`)}},[N,R,Q]);return a.jsxs("div",{className:`h-screen flex flex-col ${n?"bg-gray-900":"bg-gray-50"}`,children:[a.jsxs("div",{className:`border-b px-6 py-4 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[t&&a.jsxs("button",{onClick:t,className:`flex items-center gap-2 px-4 py-2 rounded-lg ${n?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Dashboard"]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("input",{type:"text",value:M,onChange:G=>P(G.target.value),className:`text-xl font-bold bg-transparent border-none outline-none ${n?"text-gray-100":"text-gray-900"}`,placeholder:"Workflow Name"}),a.jsx("input",{type:"text",value:A,onChange:G=>F(G.target.value),className:`text-sm bg-transparent border-none outline-none ${n?"text-gray-400":"text-gray-600"}`,placeholder:"Description (optional)"})]}),H&&a.jsx("span",{className:"text-xs text-orange-500 font-medium",children:"• Unsaved changes"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>g(!f),className:`p-2 rounded-lg ${n?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("button",{onClick:()=>{const G=!k;x(G),G?ee.showPanel(N||void 0):ee.hidePanel()},className:`p-2 rounded-lg ${n?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"} ${k?"bg-blue-100 text-blue-600":""}`,children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("button",{onClick:Te,disabled:$,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:$?"Saving...":"Save"}),R!=null&&R.is_running?a.jsx("button",{onClick:X,disabled:V,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:V?"Stopping...":"Stop"}):a.jsx("button",{onClick:se,disabled:V||o.length===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:V?"Starting...":"Execute"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[z&&a.jsxs("div",{className:"text-red-500 text-sm",children:["Error: ",z]}),Y&&a.jsxs("div",{className:"text-red-500 text-sm",children:["Execution Error: ",Y]}),R&&a.jsxs("div",{className:`text-sm px-2 py-1 rounded ${R.status==="running"?"bg-blue-100 text-blue-800":R.status==="completed"?"bg-green-100 text-green-800":R.status==="failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:["Status: ",R.status]}),B&&a.jsxs("div",{className:"text-green-500 text-sm flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Live Updates"]})]})]}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[f&&a.jsx(L4,{isOpen:f,onToggle:()=>g(!1)}),a.jsx("div",{className:"flex-1 overflow-hidden",ref:r,children:a.jsxs(ku,{nodes:o,edges:i,onNodesChange:l,onEdgesChange:u,onConnect:re,onNodeClick:Le,onInit:h,onDrop:we,onDragOver:Ne,onMove:te,nodeTypes:Op,className:n?"dark":"",fitView:!0,snapToGrid:!0,snapGrid:[20,20],connectionMode:Cn.Loose,children:[a.jsx(Ip,{}),a.jsx(Dp,{}),a.jsx(Fp,{variant:st.Dots,gap:20,size:1})]})}),a.jsx(P4,{workflowInstanceId:N||void 0,onClose:()=>{x(!1),ee.hidePanel()},isVisible:ee.isVisible}),E&&y&&a.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 overflow-y-auto",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Configure Node"}),a.jsx("button",{onClick:()=>{m(!1),v(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4",children:a.jsx(D4,{node:y,onUpdateNode:Ce,onDeleteNode:ge})})]}),a.jsx(A4,{position:"bottom-right"})]})]})}function W4(e){return a.jsx(oi,{children:a.jsx(O4,{...e})})}class H4{constructor(){sr(this,"baseUrl","http://localhost:8000");sr(this,"apiUrl",`${this.baseUrl}/api/v1/workflow`)}async request(t,n={}){try{const r=await fetch(`${this.apiUrl}${t}`,{headers:{"Content-Type":"application/json",...n.headers},...n}),o=await r.json();if(!r.ok)throw new Error(o.detail||"API request failed");return o}catch(r){return console.error("API request error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async createTemplate(t){return this.request("/templates",{method:"POST",body:JSON.stringify(t)})}async getTemplates(t){const n=new URLSearchParams;t!=null&&t.category&&n.append("category",t.category),(t==null?void 0:t.is_public)!==void 0&&n.append("is_public",String(t.is_public));const r=n.toString();return this.request(`/templates${r?`?${r}`:""}`)}async getTemplate(t){return this.request(`/templates/${t}`)}async createInstance(t){return this.request("/instances",{method:"POST",body:JSON.stringify(t)})}async executeInstance(t){return this.request(`/instances/${t}/execute`,{method:"POST"})}async getInstances(t){const n=new URLSearchParams;t!=null&&t.status&&n.append("status",t.status),t!=null&&t.limit&&n.append("limit",String(t.limit)),t!=null&&t.offset&&n.append("offset",String(t.offset));const r=n.toString();return this.request(`/instances${r?`?${r}`:""}`)}async getInstance(t){return this.request(`/instances/${t}`)}async processGoogleSheets(t){return this.request("/google-sheets/process",{method:"POST",body:JSON.stringify(t)})}async generateDailyReport(t){return this.request("/reports/daily",{method:"POST",body:JSON.stringify({report_date:t})})}async getDailyAnalytics(t){return this.request(`/analytics/daily?date=${t}`)}async getWeeklyAnalytics(t){return this.request(`/analytics/weekly?end_date=${t}`)}async getTaskLogs(t){const n=new URLSearchParams;t!=null&&t.limit&&n.append("limit",String(t.limit)),t!=null&&t.offset&&n.append("offset",String(t.offset)),t!=null&&t.status&&n.append("status",t.status),t!=null&&t.start_date&&n.append("start_date",t.start_date),t!=null&&t.end_date&&n.append("end_date",t.end_date);const r=n.toString();return this.request(`/task-logs${r?`?${r}`:""}`)}async healthCheck(){try{const t=await fetch(`${this.baseUrl}/api/v1/health`),n=await t.json();return{success:t.ok,data:n}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Health check failed"}}}}const qt=new H4,V4=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!1),[o,s]=p.useState(null),l=p.useCallback(async u=>{r(!0),s(null);try{const d=await qt.getInstances(u);d.success&&d.data?t(d.data.instances):s(d.error||"Failed to fetch instances")}catch(d){s(d instanceof Error?d.message:"Unknown error")}finally{r(!1)}},[]),i=p.useCallback(async u=>{r(!0),s(null);try{const d=await qt.createInstance(u);return d.success?(await l(),d):(s(d.error||"Failed to create instance"),d)}catch(d){const h=d instanceof Error?d.message:"Unknown error";return s(h),{success:!1,error:h}}finally{r(!1)}},[l]),c=p.useCallback(async u=>{r(!0),s(null);try{const d=await qt.executeInstance(u);return d.success?(await l(),d):(s(d.error||"Failed to execute instance"),d)}catch(d){const h=d instanceof Error?d.message:"Unknown error";return s(h),{success:!1,error:h}}finally{r(!1)}},[l]);return{instances:e,loading:n,error:o,fetchInstances:l,createInstance:i,executeInstance:c}},B4=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!1),[o,s]=p.useState(null),l=p.useCallback(async i=>{r(!0),s(null);try{const c=await qt.getTaskLogs(i);c.success&&c.data?t(c.data.logs):s(c.error||"Failed to fetch logs")}catch(c){s(c instanceof Error?c.message:"Unknown error")}finally{r(!1)}},[]);return{logs:e,loading:n,error:o,fetchLogs:l}},U4=()=>{const[e,t]=p.useState(null),[n,r]=p.useState(null),[o,s]=p.useState(!1),[l,i]=p.useState(null),c=p.useCallback(async h=>{s(!0),i(null);try{const f=await qt.getDailyAnalytics(h);f.success&&f.data?t(f.data):i(f.error||"Failed to fetch daily analytics")}catch(f){i(f instanceof Error?f.message:"Unknown error")}finally{s(!1)}},[]),u=p.useCallback(async h=>{s(!0),i(null);try{const f=await qt.getWeeklyAnalytics(h);f.success&&f.data?r(f.data):i(f.error||"Failed to fetch weekly analytics")}catch(f){i(f instanceof Error?f.message:"Unknown error")}finally{s(!1)}},[]),d=p.useCallback(async h=>{s(!0),i(null);try{const f=await qt.generateDailyReport(h);return f.success||i(f.error||"Failed to generate report"),f}catch(f){const g=f instanceof Error?f.message:"Unknown error";return i(g),{success:!1,error:g}}finally{s(!1)}},[]);return{dailyData:e,weeklyData:n,loading:o,error:l,fetchDailyAnalytics:c,fetchWeeklyAnalytics:u,generateDailyReport:d}},G4=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState(null),o=p.useCallback(async s=>{t(!0),r(null);try{const l=await qt.processGoogleSheets(s);return l.success||r(l.error||"Failed to process sheets"),l}catch(l){const i=l instanceof Error?l.message:"Unknown error";return r(i),{success:!1,error:i}}finally{t(!1)}},[]);return{loading:e,error:n,processSheets:o}},Y4=()=>{const[e,t]=p.useState(null),[n,r]=p.useState(!1),o=p.useCallback(async()=>{r(!0);try{const s=await qt.healthCheck();t(s.success)}catch{t(!1)}finally{r(!1)}},[]);return p.useEffect(()=>{o()},[]),{isHealthy:e,loading:n,checkHealth:o}},X4=({instanceId:e,onClose:t,onViewLogs:n})=>{const[r,o]=p.useState(!1);return p.useEffect(()=>{if(e){o(!0);const s=setTimeout(()=>{o(!1),t()},1e4);return()=>clearTimeout(s)}},[e,t]),!r||!e?null:a.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm",children:a.jsx("div",{className:"bg-green-500 text-white p-4 rounded-lg shadow-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold text-sm mb-1",children:"Workflow Completed ✅"}),a.jsxs("p",{className:"text-xs opacity-90 mb-3",children:["Instance: ",e]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:n,className:"bg-white text-green-600 text-xs px-3 py-1 rounded hover:bg-gray-100",children:"View Logs"}),a.jsx("button",{onClick:()=>{o(!1),t()},className:"bg-green-600 text-white text-xs px-3 py-1 rounded hover:bg-green-700",children:"Dismiss"})]})]}),a.jsx("button",{onClick:()=>{o(!1),t()},className:"text-white hover:text-gray-200 ml-2",children:"×"})]})})})},q4=({onOpenEditor:e,onLoadTemplate:t})=>{var b;const[n,r]=p.useState("instances"),[o,s]=p.useState(null),{isHealthy:l,checkHealth:i}=Y4(),{instances:c,loading:u,error:d,fetchInstances:h,createInstance:f,executeInstance:g}=V4(),{availableWorkflows:k,fetchAvailableWorkflows:x}=Wp(),{logs:E,fetchLogs:m}=B4(),{dailyData:y,loading:v,error:w,fetchDailyAnalytics:S,generateDailyReport:N}=U4(),{loading:j,error:M,processSheets:P}=G4();p.useEffect(()=>{h(),x(),m({limit:50});const _=new Date().toISOString().split("T")[0];S(_)},[h,x,m,S]);const A=async _=>{const $=await g(_);$.success?(alert(`Workflow execution started for instance: ${_}. Check logs manually after completion.`),console.log(`Workflow ${_} execution started - no automatic log loading`)):alert(`Failed to execute workflow: ${$.error}`)},F=async _=>{const $=await P({google_sheets_id:_,notification_settings:{email:"admin@company.com",slack_channel:"#workflow-notifications"},output_settings:{format:"pdf",drive_folder:"workflow_outputs"}});$.success?alert(`Google Sheets processing started for: ${_}`):alert(`Failed to process sheets: ${$.error}`)},H=async()=>{const _=await N();_.success?alert("Daily report generation started"):alert(`Failed to generate report: ${_.error}`)},O=async()=>{const _={nodes:[{id:"1",type:"input",position:{x:100,y:100},data:{label:"Google Sheets Input",type:"sheets"}},{id:"2",type:"ai",position:{x:300,y:100},data:{label:"AI Processing",type:"openai"}},{id:"3",type:"output",position:{x:500,y:100},data:{label:"Google Drive Output",type:"drive"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},$=await f({name:`Workflow Instance ${Date.now()}`,workflow_data:_,input_data:{sheets_id:"example-sheets-id",ai_prompt:"Generate product descriptions",output_format:"pdf"}});$.success?alert("Workflow instance created successfully"):alert(`Failed to create instance: ${$.error}`)};return l?a.jsxs("div",{className:"h-full bg-gray-50 dark:bg-gray-900 overflow-auto",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Workflow Automation Dashboard"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage and monitor your automated workflows"})]}),e&&a.jsxs("button",{onClick:e,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Workflow"]})]})}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${l?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:[a.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${l?"bg-green-500":"bg-red-500"}`}),"Backend ",l?"Connected":"Disconnected"]})}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"instances",label:"Workflow Instances",count:c.length},{id:"templates",label:"Templates",count:k.length},{id:"logs",label:"Task Logs",count:E.length},{id:"analytics",label:"Analytics"},{id:"sheets",label:"Google Sheets"}].map(_=>a.jsxs("button",{onClick:()=>r(_.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${n===_.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[_.label,_.count!==void 0&&a.jsx("span",{className:"ml-2 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 py-0.5 px-2 rounded-full text-xs",children:_.count})]},_.id))})}),n==="instances"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Workflow Instances"}),a.jsx("button",{onClick:O,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create New Instance"})]}),u?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):d?a.jsxs("div",{className:"text-red-600 dark:text-red-400 py-4",children:["Error: ",d]}):a.jsx("div",{className:"grid gap-4",children:c.map(_=>a.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:_.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Created: ",new Date(_.created_at).toLocaleDateString()]}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":_.status==="running"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":_.status==="failed"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:_.status.toUpperCase()})}),_.error_message&&a.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:["Error: ",_.error_message]})]}),a.jsxs("div",{className:"flex space-x-2",children:[_.status==="draft"&&a.jsx("button",{onClick:()=>A(_.id),className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 text-sm transition-colors",children:"Execute"}),(_.status==="completed"||_.status==="failed")&&a.jsx("button",{onClick:()=>{r("logs"),console.log("Loading logs for instance:",_.id)},className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 text-sm transition-colors",children:"View Logs"}),a.jsx("button",{onClick:()=>{console.log("View details for instance:",_.id)},className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700 text-sm transition-colors",children:"View Details"})]})]})},_.id))})]}),n==="templates"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Workflow Templates"}),a.jsx("button",{onClick:e,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create New Template"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(_=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:_.name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.is_public?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-100"}`,children:_.is_public?"Public":"Private"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:_.description||"No description provided"}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400 mb-4",children:[a.jsxs("span",{children:["Category: ",_.category||"General"]}),a.jsx("span",{children:_.created_at?new Date(_.created_at).toLocaleDateString():"Unknown"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{console.log("Edit button clicked for template:",_.id),t?(console.log("Calling onLoadTemplate with ID:",_.id),t(_.id)):e?(console.log("Falling back to onOpenEditor"),e()):console.log("No onLoadTemplate or onOpenEditor available")},className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 text-sm transition-colors",children:"Edit"}),a.jsx("button",{onClick:async()=>{const $=await f({name:`${_.name} - Instance`,template_id:_.id,workflow_data:_.workflow_data});$.success?(alert("Instance created successfully!"),h()):alert(`Failed to create instance: ${$.error}`)},className:"flex-1 bg-green-600 text-white px-3 py-2 rounded hover:bg-green-700 text-sm transition-colors",children:"Use Template"})]})]},_.id))}),k.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No workflow templates found"}),a.jsx("button",{onClick:e,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Template"})]})]}),n==="sheets"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Google Sheets Processing"}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Process Google Sheets"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Google Sheets ID"}),a.jsx("input",{type:"text",placeholder:"Enter Google Sheets ID",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",id:"sheets-id-input"})]}),a.jsx("button",{onClick:()=>{const _=document.getElementById("sheets-id-input");_!=null&&_.value&&F(_.value)},disabled:j,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:j?"Processing...":"Process Sheets"}),M&&a.jsxs("p",{className:"text-red-600 dark:text-red-400 text-sm",children:["Error: ",M]})]})]})]}),n==="analytics"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Analytics & Reports"}),a.jsx("button",{onClick:H,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Generate Daily Report"})]}),v?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):w?a.jsxs("div",{className:"text-red-600 dark:text-red-400 py-4",children:["Error: ",w]}):y?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tasks"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:y.total_tasks||0})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Successful"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-2",children:y.successful_tasks||0})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Failed"}),a.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-2",children:y.failed_tasks||0})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Success Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:[((b=y.success_rate)==null?void 0:b.toFixed(1))||0,"%"]})]})]}):a.jsx("div",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"No analytics data available"})]})]}),a.jsx(X4,{instanceId:o,onClose:()=>s(null),onViewLogs:()=>{r("logs"),s(null)}})]}):a.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Backend Unavailable"}),a.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Cannot connect to the backend service. Please ensure the backend is running on http://localhost:8000"}),a.jsx("button",{onClick:i,className:"mt-2 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"Retry Connection"})]})]})})})},Z4=()=>a.jsxs("div",{className:"h-full overflow-auto p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Chat Module"}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsx("p",{className:"text-gray-600",children:"Chat interface will be implemented here."})})]}),Q4=()=>a.jsxs("div",{className:"h-full overflow-auto p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Document Management"}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsx("p",{className:"text-gray-600",children:"Document upload and management interface will be implemented here."})})]}),K4=()=>{const[e,t]=p.useState("dashboard"),[n,r]=p.useState(null);return e==="editor"?a.jsx(C4,{onBack:()=>t("dashboard")}):e==="enhanced-editor"?a.jsx(W4,{onBack:()=>{t("dashboard"),r(null)},workflowId:n||void 0}):a.jsx(q4,{onOpenEditor:()=>t("enhanced-editor"),onLoadTemplate:o=>{console.log("WorkspaceManager onLoadTemplate called with:",o),r(o),t("enhanced-editor")}})},J4=()=>a.jsxs("div",{className:"h-full overflow-auto p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"MCP Plugins"}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsx("p",{className:"text-gray-600",children:"Model Context Protocol plugin management will be implemented here."})})]}),eN=()=>a.jsxs("div",{className:"h-full overflow-auto p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Analytics"}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsx("p",{className:"text-gray-600",children:"Analytics and reporting dashboard will be implemented here."})})]}),tN=()=>a.jsxs("div",{className:"h-full overflow-auto p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Team Management"}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsx("p",{className:"text-gray-600",children:"Team collaboration and user management will be implemented here."})})]}),nN=()=>a.jsxs("div",{className:"h-full overflow-auto p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Settings"}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsx("p",{className:"text-gray-600",children:"Application settings and configuration will be implemented here."})})]}),rN=()=>{var i,c;const[e,t]=p.useState("dashboard"),{user:n,logout:r}=eu(),{isDark:o,toggleTheme:s}=zt(),l=()=>{switch(e){case"dashboard":return a.jsx(Od,{user:n||void 0,onModuleChange:t});case"chat":return a.jsx(Z4,{});case"documents":case"upload":case"manage":return a.jsx(Q4,{});case"workflows":case"designer":case"executions":return a.jsx(K4,{});case"mcp":case"registry":case"installed":return a.jsx(J4,{});case"analytics":return a.jsx(eN,{});case"team":return a.jsx(tN,{});case"settings":return a.jsx(nN,{});default:return a.jsx(Od,{user:n||void 0,onModuleChange:t})}};return a.jsxs("div",{className:`h-screen flex overflow-hidden transition-colors duration-300 ${o?"bg-gray-900":"bg-gray-50"}`,children:[a.jsxs("div",{className:`w-64 shadow-xl transition-colors duration-300 flex flex-col ${o?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-r`,children:[a.jsx("div",{className:`p-4 border-b transition-colors duration-300 ${o?"border-gray-700":"border-gray-200"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"EC"})}),a.jsx("h1",{className:`text-lg font-semibold transition-colors duration-300 ${o?"text-gray-100":"text-gray-800"}`,children:"EmbeddedChat"})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[{id:"dashboard",label:"Dashboard",icon:"🏠"},{id:"chat",label:"Chat",icon:"💬"},{id:"documents",label:"Documents",icon:"📄"},{id:"workflows",label:"Workflows",icon:"⚡"},{id:"mcp",label:"MCP Plugins",icon:"🧩"},{id:"analytics",label:"Analytics",icon:"📊"},{id:"team",label:"Team",icon:"👥"},{id:"settings",label:"Settings",icon:"⚙️"}].map(u=>a.jsxs("button",{onClick:()=>t(u.id),className:`w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg transition-all duration-200 hover:scale-105 ${e===u.id?"bg-blue-100 text-blue-700 shadow-md border-l-4 border-blue-700 dark:bg-blue-900 dark:text-blue-300":o?"text-gray-300 hover:bg-gray-700 hover:text-gray-100":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx("span",{className:"text-lg",children:u.icon}),a.jsx("span",{className:"font-medium",children:u.label})]},u.id))}),a.jsxs("div",{className:`p-4 border-t transition-colors duration-300 ${o?"border-gray-700":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[o?a.jsx(O1,{className:"w-5 h-5 text-gray-400"}):a.jsx(U1,{className:"w-5 h-5 text-gray-600"}),a.jsxs("span",{className:`text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:[o?"Dark":"Light"," Mode"]})]}),a.jsx(nv,{enabled:o,onChange:s,size:"sm"})]}),n&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-md",children:a.jsx("span",{className:"text-sm font-medium text-white",children:(c=(i=n.username)==null?void 0:i[0])==null?void 0:c.toUpperCase()})}),a.jsxs("div",{className:"text-sm min-w-0 flex-1",children:[a.jsx("div",{className:`font-medium transition-colors duration-300 truncate ${o?"text-gray-100":"text-gray-800"}`,children:n.username}),a.jsx("div",{className:`text-xs transition-colors duration-300 truncate ${o?"text-gray-400":"text-gray-500"}`,children:n.email})]})]}),a.jsx("button",{onClick:r,className:`p-2 rounded text-xs transition-all duration-200 hover:scale-110 flex-shrink-0 ${o?"text-red-400 hover:bg-red-900/20":"text-red-600 hover:bg-red-50"}`,title:"Logout",children:"🚪"})]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx("div",{className:`shadow-sm border-b transition-colors duration-300 px-6 py-4 ${o?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:`text-xl font-semibold capitalize transition-colors duration-300 ${o?"text-gray-100":"text-gray-800"}`,children:e==="mcp"?"MCP Plugins":e}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:`relative p-2 rounded-lg transition-all duration-200 hover:scale-110 ${o?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(Xs,{className:"w-5 h-5"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]}),a.jsx("button",{className:`p-2 rounded-lg transition-all duration-200 hover:scale-110 ${o?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,children:a.jsx(S1,{className:"w-5 h-5"})}),a.jsx("span",{className:`text-sm transition-colors duration-300 ${o?"text-gray-400":"text-gray-500"}`,children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),a.jsx("div",{className:`flex-1 overflow-hidden ${e==="workflows"?"":"overflow-auto"}`,children:l()})]})]})},oN=()=>{const{isAuthenticated:e,loading:t}=eu();return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading EmbeddedChat..."})]})}):e?a.jsx(rN,{}):a.jsx(t1,{})};function sN(){return a.jsx(K1,{children:a.jsx(ev,{children:a.jsx(Qx,{children:a.jsx(oN,{})})})})}qi.createRoot(document.getElementById("root")).render(a.jsx(D.StrictMode,{children:a.jsx(sN,{})}));
