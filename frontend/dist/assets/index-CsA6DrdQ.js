var Sp=Object.defineProperty;var Ep=(e,t,n)=>t in e?Sp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ls=(e,t,n)=>Ep(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function zf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ff={exports:{}},Al={},Of={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo=Symbol.for("react.element"),_p=Symbol.for("react.portal"),jp=Symbol.for("react.fragment"),Cp=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),Mp=Symbol.for("react.provider"),Tp=Symbol.for("react.context"),Lp=Symbol.for("react.forward_ref"),Ap=Symbol.for("react.suspense"),Rp=Symbol.for("react.memo"),Dp=Symbol.for("react.lazy"),ju=Symbol.iterator;function Ip(e){return e===null||typeof e!="object"?null:(e=ju&&e[ju]||e["@@iterator"],typeof e=="function"?e:null)}var Wf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hf=Object.assign,Bf={};function Br(e,t,n){this.props=e,this.context=t,this.refs=Bf,this.updater=n||Wf}Br.prototype.isReactComponent={};Br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uf(){}Uf.prototype=Br.prototype;function lc(e,t,n){this.props=e,this.context=t,this.refs=Bf,this.updater=n||Wf}var ac=lc.prototype=new Uf;ac.constructor=lc;Hf(ac,Br.prototype);ac.isPureReactComponent=!0;var Cu=Array.isArray,Vf=Object.prototype.hasOwnProperty,ic={current:null},Gf={key:!0,ref:!0,__self:!0,__source:!0};function Yf(e,t,n){var r,o={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)Vf.call(t,r)&&!Gf.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Qo,type:e,key:s,ref:l,props:o,_owner:ic.current}}function Pp(e,t){return{$$typeof:Qo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qo}function zp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $u=/\/+/g;function aa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zp(""+e.key):t.toString(36)}function Ds(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Qo:case _p:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+aa(l,0):r,Cu(o)?(n="",e!=null&&(n=e.replace($u,"$&/")+"/"),Ds(o,t,n,"",function(u){return u})):o!=null&&(cc(o)&&(o=Pp(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace($u,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",Cu(e))for(var a=0;a<e.length;a++){s=e[a];var c=r+aa(s,a);l+=Ds(s,t,n,c,o)}else if(c=Ip(e),typeof c=="function")for(e=c.call(e),a=0;!(s=e.next()).done;)s=s.value,c=r+aa(s,a++),l+=Ds(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function as(e,t,n){if(e==null)return e;var r=[],o=0;return Ds(e,r,"","",function(s){return t.call(n,s,o++)}),r}function Fp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},Is={transition:null},Op={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:Is,ReactCurrentOwner:ic};function Xf(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:as,forEach:function(e,t,n){as(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return as(e,function(){t++}),t},toArray:function(e){return as(e,function(t){return t})||[]},only:function(e){if(!cc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Br;oe.Fragment=jp;oe.Profiler=$p;oe.PureComponent=lc;oe.StrictMode=Cp;oe.Suspense=Ap;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Op;oe.act=Xf;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Hf({},e.props),o=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=ic.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Vf.call(t,c)&&!Gf.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Qo,type:e.type,key:o,ref:s,props:r,_owner:l}};oe.createContext=function(e){return e={$$typeof:Tp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mp,_context:e},e.Consumer=e};oe.createElement=Yf;oe.createFactory=function(e){var t=Yf.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:Lp,render:e}};oe.isValidElement=cc;oe.lazy=function(e){return{$$typeof:Dp,_payload:{_status:-1,_result:e},_init:Fp}};oe.memo=function(e,t){return{$$typeof:Rp,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Is.transition;Is.transition={};try{e()}finally{Is.transition=t}};oe.unstable_act=Xf;oe.useCallback=function(e,t){return Ye.current.useCallback(e,t)};oe.useContext=function(e){return Ye.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};oe.useEffect=function(e,t){return Ye.current.useEffect(e,t)};oe.useId=function(){return Ye.current.useId()};oe.useImperativeHandle=function(e,t,n){return Ye.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return Ye.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return Ye.current.useReducer(e,t,n)};oe.useRef=function(e){return Ye.current.useRef(e)};oe.useState=function(e){return Ye.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return Ye.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return Ye.current.useTransition()};oe.version="18.3.1";Of.exports=oe;var g=Of.exports;const O=zf(g);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp=g,Hp=Symbol.for("react.element"),Bp=Symbol.for("react.fragment"),Up=Object.prototype.hasOwnProperty,Vp=Wp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gp={key:!0,ref:!0,__self:!0,__source:!0};function Zf(e,t,n){var r,o={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Up.call(t,r)&&!Gp.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Hp,type:e,key:s,ref:l,props:o,_owner:Vp.current}}Al.Fragment=Bp;Al.jsx=Zf;Al.jsxs=Zf;Ff.exports=Al;var i=Ff.exports,Xa={},qf={exports:{}},at={},Kf={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,j){var R=$.length;$.push(j);e:for(;0<R;){var F=R-1>>>1,z=$[F];if(0<o(z,j))$[F]=j,$[R]=z,R=F;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var j=$[0],R=$.pop();if(R!==j){$[0]=R;e:for(var F=0,z=$.length,V=z>>>1;F<V;){var P=2*(F+1)-1,Y=$[P],H=P+1,G=$[H];if(0>o(Y,R))H<z&&0>o(G,Y)?($[F]=G,$[H]=R,F=H):($[F]=Y,$[P]=R,F=P);else if(H<z&&0>o(G,R))$[F]=G,$[H]=R,F=H;else break e}}return j}function o($,j){var R=$.sortIndex-j.sortIndex;return R!==0?R:$.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var c=[],u=[],d=1,h=null,f=3,p=!1,w=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=$)r(u),j.sortIndex=j.expirationTime,t(c,j);else break;j=n(u)}}function b($){if(x=!1,v($),!w)if(n(c)!==null)w=!0,N(_);else{var j=n(u);j!==null&&L(b,j.startTime-$)}}function _($,j){w=!1,x&&(x=!1,m(T),T=-1),p=!0;var R=f;try{for(v(j),h=n(c);h!==null&&(!(h.expirationTime>j)||$&&!W());){var F=h.callback;if(typeof F=="function"){h.callback=null,f=h.priorityLevel;var z=F(h.expirationTime<=j);j=e.unstable_now(),typeof z=="function"?h.callback=z:h===n(c)&&r(c),v(j)}else r(c);h=n(c)}if(h!==null)var V=!0;else{var P=n(u);P!==null&&L(b,P.startTime-j),V=!1}return V}finally{h=null,f=R,p=!1}}var S=!1,C=null,T=-1,A=5,I=-1;function W(){return!(e.unstable_now()-I<A)}function U(){if(C!==null){var $=e.unstable_now();I=$;var j=!0;try{j=C(!0,$)}finally{j?D():(S=!1,C=null)}}else S=!1}var D;if(typeof y=="function")D=function(){y(U)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,M=k.port2;k.port1.onmessage=U,D=function(){M.postMessage(null)}}else D=function(){E(U,0)};function N($){C=$,S||(S=!0,D())}function L($,j){T=E(function(){$(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,N(_))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var R=f;f=j;try{return $()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,j){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var R=f;f=$;try{return j()}finally{f=R}},e.unstable_scheduleCallback=function($,j,R){var F=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?F+R:F):R=F,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=R+z,$={id:d++,callback:j,priorityLevel:$,startTime:R,expirationTime:z,sortIndex:-1},R>F?($.sortIndex=R,t(u,$),n(c)===null&&$===n(u)&&(x?(m(T),T=-1):x=!0,L(b,R-F))):($.sortIndex=z,t(c,$),w||p||(w=!0,N(_))),$},e.unstable_shouldYield=W,e.unstable_wrapCallback=function($){var j=f;return function(){var R=f;f=j;try{return $.apply(this,arguments)}finally{f=R}}}})(Qf);Kf.exports=Qf;var Yp=Kf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=g,st=Yp;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jf=new Set,_o={};function er(e,t){Tr(e,t),Tr(e+"Capture",t)}function Tr(e,t){for(_o[e]=t,e=0;e<t.length;e++)Jf.add(t[e])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=Object.prototype.hasOwnProperty,Zp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mu={},Tu={};function qp(e){return Za.call(Tu,e)?!0:Za.call(Mu,e)?!1:Zp.test(e)?Tu[e]=!0:(Mu[e]=!0,!1)}function Kp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qp(e,t,n,r){if(t===null||typeof t>"u"||Kp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,n,r,o,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var uc=/[\-:]([a-z])/g;function dc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uc,dc);De[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uc,dc);De[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uc,dc);De[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function fc(e,t,n,r){var o=De.hasOwnProperty(t)?De[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qp(t,n,o,r)&&(n=null),r||o===null?qp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nn=Xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,is=Symbol.for("react.element"),cr=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),hc=Symbol.for("react.strict_mode"),qa=Symbol.for("react.profiler"),e0=Symbol.for("react.provider"),t0=Symbol.for("react.context"),gc=Symbol.for("react.forward_ref"),Ka=Symbol.for("react.suspense"),Qa=Symbol.for("react.suspense_list"),mc=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),n0=Symbol.for("react.offscreen"),Lu=Symbol.iterator;function Zr(e){return e===null||typeof e!="object"?null:(e=Lu&&e[Lu]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,ia;function co(e){if(ia===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ia=t&&t[1]||""}return`
`+ia+e}var ca=!1;function ua(e,t){if(!e||ca)return"";ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),l=o.length-1,a=s.length-1;1<=l&&0<=a&&o[l]!==s[a];)a--;for(;1<=l&&0<=a;l--,a--)if(o[l]!==s[a]){if(l!==1||a!==1)do if(l--,a--,0>a||o[l]!==s[a]){var c=`
`+o[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=a);break}}}finally{ca=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?co(e):""}function Jp(e){switch(e.tag){case 5:return co(e.type);case 16:return co("Lazy");case 13:return co("Suspense");case 19:return co("SuspenseList");case 0:case 2:case 15:return e=ua(e.type,!1),e;case 11:return e=ua(e.type.render,!1),e;case 1:return e=ua(e.type,!0),e;default:return""}}function Ja(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ur:return"Fragment";case cr:return"Portal";case qa:return"Profiler";case hc:return"StrictMode";case Ka:return"Suspense";case Qa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case t0:return(e.displayName||"Context")+".Consumer";case e0:return(e._context.displayName||"Context")+".Provider";case gc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mc:return t=e.displayName||null,t!==null?t:Ja(e.type)||"Memo";case sn:t=e._payload,e=e._init;try{return Ja(e(t))}catch{}}return null}function ey(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ja(t);case 8:return t===hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function En(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function r0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ty(e){var t=r0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cs(e){e._valueTracker||(e._valueTracker=ty(e))}function o0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=r0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ei(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Au(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=En(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function s0(e,t){t=t.checked,t!=null&&fc(e,"checked",t,!1)}function ti(e,t){s0(e,t);var n=En(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ni(e,t.type,n):t.hasOwnProperty("defaultValue")&&ni(e,t.type,En(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ru(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ni(e,t,n){(t!=="number"||Js(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var uo=Array.isArray;function kr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+En(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ri(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Du(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(uo(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:En(n)}}function l0(e,t){var n=En(t.value),r=En(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Iu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var us,i0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=us.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ny=["Webkit","ms","Moz","O"];Object.keys(yo).forEach(function(e){ny.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yo[t]=yo[e]})});function c0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yo.hasOwnProperty(e)&&yo[e]?(""+t).trim():t+"px"}function u0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=c0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ry=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function si(e,t){if(t){if(ry[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function li(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=null;function pc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ii=null,Nr=null,Sr=null;function Pu(e){if(e=ts(e)){if(typeof ii!="function")throw Error(B(280));var t=e.stateNode;t&&(t=zl(t),ii(e.stateNode,e.type,t))}}function d0(e){Nr?Sr?Sr.push(e):Sr=[e]:Nr=e}function f0(){if(Nr){var e=Nr,t=Sr;if(Sr=Nr=null,Pu(e),t)for(e=0;e<t.length;e++)Pu(t[e])}}function h0(e,t){return e(t)}function g0(){}var da=!1;function m0(e,t,n){if(da)return e(t,n);da=!0;try{return h0(e,t,n)}finally{da=!1,(Nr!==null||Sr!==null)&&(g0(),f0())}}function Co(e,t){var n=e.stateNode;if(n===null)return null;var r=zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var ci=!1;if(qt)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){ci=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{ci=!1}function oy(e,t,n,r,o,s,l,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var xo=!1,el=null,tl=!1,ui=null,sy={onError:function(e){xo=!0,el=e}};function ly(e,t,n,r,o,s,l,a,c){xo=!1,el=null,oy.apply(sy,arguments)}function ay(e,t,n,r,o,s,l,a,c){if(ly.apply(this,arguments),xo){if(xo){var u=el;xo=!1,el=null}else throw Error(B(198));tl||(tl=!0,ui=u)}}function tr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function p0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zu(e){if(tr(e)!==e)throw Error(B(188))}function iy(e){var t=e.alternate;if(!t){if(t=tr(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return zu(o),e;if(s===r)return zu(o),t;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=s;else{for(var l=!1,a=o.child;a;){if(a===n){l=!0,n=o,r=s;break}if(a===r){l=!0,r=o,n=s;break}a=a.sibling}if(!l){for(a=s.child;a;){if(a===n){l=!0,n=s,r=o;break}if(a===r){l=!0,r=s,n=o;break}a=a.sibling}if(!l)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function y0(e){return e=iy(e),e!==null?x0(e):null}function x0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=x0(e);if(t!==null)return t;e=e.sibling}return null}var v0=st.unstable_scheduleCallback,Fu=st.unstable_cancelCallback,cy=st.unstable_shouldYield,uy=st.unstable_requestPaint,Ne=st.unstable_now,dy=st.unstable_getCurrentPriorityLevel,yc=st.unstable_ImmediatePriority,w0=st.unstable_UserBlockingPriority,nl=st.unstable_NormalPriority,fy=st.unstable_LowPriority,b0=st.unstable_IdlePriority,Rl=null,Dt=null;function hy(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Rl,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:py,gy=Math.log,my=Math.LN2;function py(e){return e>>>=0,e===0?32:31-(gy(e)/my|0)|0}var ds=64,fs=4194304;function fo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var a=l&~o;a!==0?r=fo(a):(s&=l,s!==0&&(r=fo(s)))}else l=n&~o,l!==0?r=fo(l):s!==0&&(r=fo(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),o=1<<n,r|=e[n],t&=~o;return r}function yy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-_t(s),a=1<<l,c=o[l];c===-1?(!(a&n)||a&r)&&(o[l]=yy(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}function di(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k0(){var e=ds;return ds<<=1,!(ds&4194240)&&(ds=64),e}function fa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function vy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-_t(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function xc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ue=0;function N0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var S0,vc,E0,_0,j0,fi=!1,hs=[],pn=null,yn=null,xn=null,$o=new Map,Mo=new Map,un=[],wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":$o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(t.pointerId)}}function Kr(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=ts(t),t!==null&&vc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function by(e,t,n,r,o){switch(t){case"focusin":return pn=Kr(pn,e,t,n,r,o),!0;case"dragenter":return yn=Kr(yn,e,t,n,r,o),!0;case"mouseover":return xn=Kr(xn,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return $o.set(s,Kr($o.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Mo.set(s,Kr(Mo.get(s)||null,e,t,n,r,o)),!0}return!1}function C0(e){var t=Fn(e.target);if(t!==null){var n=tr(t);if(n!==null){if(t=n.tag,t===13){if(t=p0(n),t!==null){e.blockedOn=t,j0(e.priority,function(){E0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ai=r,n.target.dispatchEvent(r),ai=null}else return t=ts(n),t!==null&&vc(t),e.blockedOn=n,!1;t.shift()}return!0}function Wu(e,t,n){Ps(e)&&n.delete(t)}function ky(){fi=!1,pn!==null&&Ps(pn)&&(pn=null),yn!==null&&Ps(yn)&&(yn=null),xn!==null&&Ps(xn)&&(xn=null),$o.forEach(Wu),Mo.forEach(Wu)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,fi||(fi=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,ky)))}function To(e){function t(o){return Qr(o,e)}if(0<hs.length){Qr(hs[0],e);for(var n=1;n<hs.length;n++){var r=hs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pn!==null&&Qr(pn,e),yn!==null&&Qr(yn,e),xn!==null&&Qr(xn,e),$o.forEach(t),Mo.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)C0(n),n.blockedOn===null&&un.shift()}var Er=nn.ReactCurrentBatchConfig,ol=!0;function Ny(e,t,n,r){var o=ue,s=Er.transition;Er.transition=null;try{ue=1,wc(e,t,n,r)}finally{ue=o,Er.transition=s}}function Sy(e,t,n,r){var o=ue,s=Er.transition;Er.transition=null;try{ue=4,wc(e,t,n,r)}finally{ue=o,Er.transition=s}}function wc(e,t,n,r){if(ol){var o=hi(e,t,n,r);if(o===null)ka(e,t,r,sl,n),Ou(e,r);else if(by(o,e,t,n,r))r.stopPropagation();else if(Ou(e,r),t&4&&-1<wy.indexOf(e)){for(;o!==null;){var s=ts(o);if(s!==null&&S0(s),s=hi(e,t,n,r),s===null&&ka(e,t,r,sl,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else ka(e,t,r,null,n)}}var sl=null;function hi(e,t,n,r){if(sl=null,e=pc(r),e=Fn(e),e!==null)if(t=tr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=p0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sl=e,null}function $0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dy()){case yc:return 1;case w0:return 4;case nl:case fy:return 16;case b0:return 536870912;default:return 16}default:return 16}}var gn=null,bc=null,zs=null;function M0(){if(zs)return zs;var e,t=bc,n=t.length,r,o="value"in gn?gn.value:gn.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[s-r];r++);return zs=o.slice(e,1<r?1-r:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function Hu(){return!1}function it(e){function t(n,r,o,s,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gs:Hu,this.isPropagationStopped=Hu,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),t}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=it(Ur),es=we({},Ur,{view:0,detail:0}),Ey=it(es),ha,ga,Jr,Dl=we({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(ha=e.screenX-Jr.screenX,ga=e.screenY-Jr.screenY):ga=ha=0,Jr=e),ha)},movementY:function(e){return"movementY"in e?e.movementY:ga}}),Bu=it(Dl),_y=we({},Dl,{dataTransfer:0}),jy=it(_y),Cy=we({},es,{relatedTarget:0}),ma=it(Cy),$y=we({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),My=it($y),Ty=we({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ly=it(Ty),Ay=we({},Ur,{data:0}),Uu=it(Ay),Ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Iy[e])?!!t[e]:!1}function Nc(){return Py}var zy=we({},es,{key:function(e){if(e.key){var t=Ry[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nc,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fy=it(zy),Oy=we({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vu=it(Oy),Wy=we({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nc}),Hy=it(Wy),By=we({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uy=it(By),Vy=we({},Dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gy=it(Vy),Yy=[9,13,27,32],Sc=qt&&"CompositionEvent"in window,vo=null;qt&&"documentMode"in document&&(vo=document.documentMode);var Xy=qt&&"TextEvent"in window&&!vo,T0=qt&&(!Sc||vo&&8<vo&&11>=vo),Gu=" ",Yu=!1;function L0(e,t){switch(e){case"keyup":return Yy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function Zy(e,t){switch(e){case"compositionend":return A0(t);case"keypress":return t.which!==32?null:(Yu=!0,Gu);case"textInput":return e=t.data,e===Gu&&Yu?null:e;default:return null}}function qy(e,t){if(dr)return e==="compositionend"||!Sc&&L0(e,t)?(e=M0(),zs=bc=gn=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return T0&&t.locale!=="ko"?null:t.data;default:return null}}var Ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ky[e.type]:t==="textarea"}function R0(e,t,n,r){d0(r),t=ll(t,"onChange"),0<t.length&&(n=new kc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wo=null,Lo=null;function Qy(e){V0(e,0)}function Il(e){var t=gr(e);if(o0(t))return e}function Jy(e,t){if(e==="change")return t}var D0=!1;if(qt){var pa;if(qt){var ya="oninput"in document;if(!ya){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),ya=typeof Zu.oninput=="function"}pa=ya}else pa=!1;D0=pa&&(!document.documentMode||9<document.documentMode)}function qu(){wo&&(wo.detachEvent("onpropertychange",I0),Lo=wo=null)}function I0(e){if(e.propertyName==="value"&&Il(Lo)){var t=[];R0(t,Lo,e,pc(e)),m0(Qy,t)}}function ex(e,t,n){e==="focusin"?(qu(),wo=t,Lo=n,wo.attachEvent("onpropertychange",I0)):e==="focusout"&&qu()}function tx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(Lo)}function nx(e,t){if(e==="click")return Il(t)}function rx(e,t){if(e==="input"||e==="change")return Il(t)}function ox(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:ox;function Ao(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Za.call(t,o)||!Ct(e[o],t[o]))return!1}return!0}function Ku(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qu(e,t){var n=Ku(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ku(n)}}function P0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function z0(){for(var e=window,t=Js();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Js(e.document)}return t}function Ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sx(e){var t=z0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&P0(n.ownerDocument.documentElement,n)){if(r!==null&&Ec(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Qu(n,s);var l=Qu(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lx=qt&&"documentMode"in document&&11>=document.documentMode,fr=null,gi=null,bo=null,mi=!1;function Ju(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mi||fr==null||fr!==Js(r)||(r=fr,"selectionStart"in r&&Ec(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bo&&Ao(bo,r)||(bo=r,r=ll(gi,"onSelect"),0<r.length&&(t=new kc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionend:ms("Transition","TransitionEnd")},xa={},F0={};qt&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function Pl(e){if(xa[e])return xa[e];if(!hr[e])return e;var t=hr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in F0)return xa[e]=t[n];return e}var O0=Pl("animationend"),W0=Pl("animationiteration"),H0=Pl("animationstart"),B0=Pl("transitionend"),U0=new Map,ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){U0.set(e,t),er(t,[e])}for(var va=0;va<ed.length;va++){var wa=ed[va],ax=wa.toLowerCase(),ix=wa[0].toUpperCase()+wa.slice(1);Cn(ax,"on"+ix)}Cn(O0,"onAnimationEnd");Cn(W0,"onAnimationIteration");Cn(H0,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(B0,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));er("onBeforeInput",["compositionend","keypress","textInput","paste"]);er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function td(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ay(r,t,void 0,e),e.currentTarget=null}function V0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var a=r[l],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&o.isPropagationStopped())break e;td(o,a,u),s=c}else for(l=0;l<r.length;l++){if(a=r[l],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&o.isPropagationStopped())break e;td(o,a,u),s=c}}}if(tl)throw e=ui,tl=!1,ui=null,e}function he(e,t){var n=t[wi];n===void 0&&(n=t[wi]=new Set);var r=e+"__bubble";n.has(r)||(G0(t,e,2,!1),n.add(r))}function ba(e,t,n){var r=0;t&&(r|=4),G0(n,e,r,t)}var ps="_reactListening"+Math.random().toString(36).slice(2);function Ro(e){if(!e[ps]){e[ps]=!0,Jf.forEach(function(n){n!=="selectionchange"&&(cx.has(n)||ba(n,!1,e),ba(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ps]||(t[ps]=!0,ba("selectionchange",!1,t))}}function G0(e,t,n,r){switch($0(t)){case 1:var o=Ny;break;case 4:o=Sy;break;default:o=wc}n=o.bind(null,t,n,e),o=void 0,!ci||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ka(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;l=l.return}for(;a!==null;){if(l=Fn(a),l===null)return;if(c=l.tag,c===5||c===6){r=s=l;continue e}a=a.parentNode}}r=r.return}m0(function(){var u=s,d=pc(n),h=[];e:{var f=U0.get(e);if(f!==void 0){var p=kc,w=e;switch(e){case"keypress":if(Fs(n)===0)break e;case"keydown":case"keyup":p=Fy;break;case"focusin":w="focus",p=ma;break;case"focusout":w="blur",p=ma;break;case"beforeblur":case"afterblur":p=ma;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Hy;break;case O0:case W0:case H0:p=My;break;case B0:p=Uy;break;case"scroll":p=Ey;break;case"wheel":p=Gy;break;case"copy":case"cut":case"paste":p=Ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Vu}var x=(t&4)!==0,E=!x&&e==="scroll",m=x?f!==null?f+"Capture":null:f;x=[];for(var y=u,v;y!==null;){v=y;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,m!==null&&(b=Co(y,m),b!=null&&x.push(Do(y,b,v)))),E)break;y=y.return}0<x.length&&(f=new p(f,w,null,n,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==ai&&(w=n.relatedTarget||n.fromElement)&&(Fn(w)||w[Kt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?Fn(w):null,w!==null&&(E=tr(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(x=Bu,b="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=Vu,b="onPointerLeave",m="onPointerEnter",y="pointer"),E=p==null?f:gr(p),v=w==null?f:gr(w),f=new x(b,y+"leave",p,n,d),f.target=E,f.relatedTarget=v,b=null,Fn(d)===u&&(x=new x(m,y+"enter",w,n,d),x.target=v,x.relatedTarget=E,b=x),E=b,p&&w)t:{for(x=p,m=w,y=0,v=x;v;v=or(v))y++;for(v=0,b=m;b;b=or(b))v++;for(;0<y-v;)x=or(x),y--;for(;0<v-y;)m=or(m),v--;for(;y--;){if(x===m||m!==null&&x===m.alternate)break t;x=or(x),m=or(m)}x=null}else x=null;p!==null&&nd(h,f,p,x,!1),w!==null&&E!==null&&nd(h,E,w,x,!0)}}e:{if(f=u?gr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=Jy;else if(Xu(f))if(D0)_=rx;else{_=tx;var S=ex}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=nx);if(_&&(_=_(e,u))){R0(h,_,n,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&ni(f,"number",f.value)}switch(S=u?gr(u):window,e){case"focusin":(Xu(S)||S.contentEditable==="true")&&(fr=S,gi=u,bo=null);break;case"focusout":bo=gi=fr=null;break;case"mousedown":mi=!0;break;case"contextmenu":case"mouseup":case"dragend":mi=!1,Ju(h,n,d);break;case"selectionchange":if(lx)break;case"keydown":case"keyup":Ju(h,n,d)}var C;if(Sc)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else dr?L0(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(T0&&n.locale!=="ko"&&(dr||T!=="onCompositionStart"?T==="onCompositionEnd"&&dr&&(C=M0()):(gn=d,bc="value"in gn?gn.value:gn.textContent,dr=!0)),S=ll(u,T),0<S.length&&(T=new Uu(T,e,null,n,d),h.push({event:T,listeners:S}),C?T.data=C:(C=A0(n),C!==null&&(T.data=C)))),(C=Xy?Zy(e,n):qy(e,n))&&(u=ll(u,"onBeforeInput"),0<u.length&&(d=new Uu("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}V0(h,t)})}function Do(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ll(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Co(e,n),s!=null&&r.unshift(Do(e,s,o)),s=Co(e,t),s!=null&&r.push(Do(e,s,o))),e=e.return}return r}function or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nd(e,t,n,r,o){for(var s=t._reactName,l=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,o?(c=Co(n,s),c!=null&&l.unshift(Do(n,c,a))):o||(c=Co(n,s),c!=null&&l.push(Do(n,c,a)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var ux=/\r\n?/g,dx=/\u0000|\uFFFD/g;function rd(e){return(typeof e=="string"?e:""+e).replace(ux,`
`).replace(dx,"")}function ys(e,t,n){if(t=rd(t),rd(e)!==t&&n)throw Error(B(425))}function al(){}var pi=null,yi=null;function xi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vi=typeof setTimeout=="function"?setTimeout:void 0,fx=typeof clearTimeout=="function"?clearTimeout:void 0,od=typeof Promise=="function"?Promise:void 0,hx=typeof queueMicrotask=="function"?queueMicrotask:typeof od<"u"?function(e){return od.resolve(null).then(e).catch(gx)}:vi;function gx(e){setTimeout(function(){throw e})}function Na(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),To(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);To(t)}function vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),At="__reactFiber$"+Vr,Io="__reactProps$"+Vr,Kt="__reactContainer$"+Vr,wi="__reactEvents$"+Vr,mx="__reactListeners$"+Vr,px="__reactHandles$"+Vr;function Fn(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sd(e);e!==null;){if(n=e[At])return n;e=sd(e)}return t}e=n,n=e.parentNode}return null}function ts(e){return e=e[At]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function zl(e){return e[Io]||null}var bi=[],mr=-1;function $n(e){return{current:e}}function ge(e){0>mr||(e.current=bi[mr],bi[mr]=null,mr--)}function de(e,t){mr++,bi[mr]=e.current,e.current=t}var _n={},He=$n(_n),Qe=$n(!1),Xn=_n;function Lr(e,t){var n=e.type.contextTypes;if(!n)return _n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Je(e){return e=e.childContextTypes,e!=null}function il(){ge(Qe),ge(He)}function ld(e,t,n){if(He.current!==_n)throw Error(B(168));de(He,t),de(Qe,n)}function Y0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(B(108,ey(e)||"Unknown",o));return we({},n,r)}function cl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_n,Xn=He.current,de(He,e),de(Qe,Qe.current),!0}function ad(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Y0(e,t,Xn),r.__reactInternalMemoizedMergedChildContext=e,ge(Qe),ge(He),de(He,e)):ge(Qe),de(Qe,n)}var Bt=null,Fl=!1,Sa=!1;function X0(e){Bt===null?Bt=[e]:Bt.push(e)}function yx(e){Fl=!0,X0(e)}function Mn(){if(!Sa&&Bt!==null){Sa=!0;var e=0,t=ue;try{var n=Bt;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bt=null,Fl=!1}catch(o){throw Bt!==null&&(Bt=Bt.slice(e+1)),v0(yc,Mn),o}finally{ue=t,Sa=!1}}return null}var pr=[],yr=0,ul=null,dl=0,ct=[],ut=0,Zn=null,Ut=1,Vt="";function In(e,t){pr[yr++]=dl,pr[yr++]=ul,ul=e,dl=t}function Z0(e,t,n){ct[ut++]=Ut,ct[ut++]=Vt,ct[ut++]=Zn,Zn=e;var r=Ut;e=Vt;var o=32-_t(r)-1;r&=~(1<<o),n+=1;var s=32-_t(t)+o;if(30<s){var l=o-o%5;s=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Ut=1<<32-_t(t)+o|n<<o|r,Vt=s+e}else Ut=1<<s|n<<o|r,Vt=e}function _c(e){e.return!==null&&(In(e,1),Z0(e,1,0))}function jc(e){for(;e===ul;)ul=pr[--yr],pr[yr]=null,dl=pr[--yr],pr[yr]=null;for(;e===Zn;)Zn=ct[--ut],ct[ut]=null,Vt=ct[--ut],ct[ut]=null,Ut=ct[--ut],ct[ut]=null}var rt=null,nt=null,pe=!1,St=null;function q0(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function id(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,nt=vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zn!==null?{id:Ut,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rt=e,nt=null,!0):!1;default:return!1}}function ki(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ni(e){if(pe){var t=nt;if(t){var n=t;if(!id(e,t)){if(ki(e))throw Error(B(418));t=vn(n.nextSibling);var r=rt;t&&id(e,t)?q0(r,n):(e.flags=e.flags&-4097|2,pe=!1,rt=e)}}else{if(ki(e))throw Error(B(418));e.flags=e.flags&-4097|2,pe=!1,rt=e}}}function cd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function xs(e){if(e!==rt)return!1;if(!pe)return cd(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xi(e.type,e.memoizedProps)),t&&(t=nt)){if(ki(e))throw K0(),Error(B(418));for(;t;)q0(e,t),t=vn(t.nextSibling)}if(cd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nt=vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=rt?vn(e.stateNode.nextSibling):null;return!0}function K0(){for(var e=nt;e;)e=vn(e.nextSibling)}function Ar(){nt=rt=null,pe=!1}function Cc(e){St===null?St=[e]:St.push(e)}var xx=nn.ReactCurrentBatchConfig;function eo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var a=o.refs;l===null?delete a[s]:a[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ud(e){var t=e._init;return t(e._payload)}function Q0(e){function t(m,y){if(e){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function o(m,y){return m=Nn(m,y),m.index=0,m.sibling=null,m}function s(m,y,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,y,v,b){return y===null||y.tag!==6?(y=Ta(v,m.mode,b),y.return=m,y):(y=o(y,v),y.return=m,y)}function c(m,y,v,b){var _=v.type;return _===ur?d(m,y,v.props.children,b,v.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===sn&&ud(_)===y.type)?(b=o(y,v.props),b.ref=eo(m,y,v),b.return=m,b):(b=Gs(v.type,v.key,v.props,null,m.mode,b),b.ref=eo(m,y,v),b.return=m,b)}function u(m,y,v,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=La(v,m.mode,b),y.return=m,y):(y=o(y,v.children||[]),y.return=m,y)}function d(m,y,v,b,_){return y===null||y.tag!==7?(y=Vn(v,m.mode,b,_),y.return=m,y):(y=o(y,v),y.return=m,y)}function h(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ta(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case is:return v=Gs(y.type,y.key,y.props,null,m.mode,v),v.ref=eo(m,null,y),v.return=m,v;case cr:return y=La(y,m.mode,v),y.return=m,y;case sn:var b=y._init;return h(m,b(y._payload),v)}if(uo(y)||Zr(y))return y=Vn(y,m.mode,v,null),y.return=m,y;vs(m,y)}return null}function f(m,y,v,b){var _=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:a(m,y,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case is:return v.key===_?c(m,y,v,b):null;case cr:return v.key===_?u(m,y,v,b):null;case sn:return _=v._init,f(m,y,_(v._payload),b)}if(uo(v)||Zr(v))return _!==null?null:d(m,y,v,b,null);vs(m,v)}return null}function p(m,y,v,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(v)||null,a(y,m,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case is:return m=m.get(b.key===null?v:b.key)||null,c(y,m,b,_);case cr:return m=m.get(b.key===null?v:b.key)||null,u(y,m,b,_);case sn:var S=b._init;return p(m,y,v,S(b._payload),_)}if(uo(b)||Zr(b))return m=m.get(v)||null,d(y,m,b,_,null);vs(y,b)}return null}function w(m,y,v,b){for(var _=null,S=null,C=y,T=y=0,A=null;C!==null&&T<v.length;T++){C.index>T?(A=C,C=null):A=C.sibling;var I=f(m,C,v[T],b);if(I===null){C===null&&(C=A);break}e&&C&&I.alternate===null&&t(m,C),y=s(I,y,T),S===null?_=I:S.sibling=I,S=I,C=A}if(T===v.length)return n(m,C),pe&&In(m,T),_;if(C===null){for(;T<v.length;T++)C=h(m,v[T],b),C!==null&&(y=s(C,y,T),S===null?_=C:S.sibling=C,S=C);return pe&&In(m,T),_}for(C=r(m,C);T<v.length;T++)A=p(C,m,T,v[T],b),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?T:A.key),y=s(A,y,T),S===null?_=A:S.sibling=A,S=A);return e&&C.forEach(function(W){return t(m,W)}),pe&&In(m,T),_}function x(m,y,v,b){var _=Zr(v);if(typeof _!="function")throw Error(B(150));if(v=_.call(v),v==null)throw Error(B(151));for(var S=_=null,C=y,T=y=0,A=null,I=v.next();C!==null&&!I.done;T++,I=v.next()){C.index>T?(A=C,C=null):A=C.sibling;var W=f(m,C,I.value,b);if(W===null){C===null&&(C=A);break}e&&C&&W.alternate===null&&t(m,C),y=s(W,y,T),S===null?_=W:S.sibling=W,S=W,C=A}if(I.done)return n(m,C),pe&&In(m,T),_;if(C===null){for(;!I.done;T++,I=v.next())I=h(m,I.value,b),I!==null&&(y=s(I,y,T),S===null?_=I:S.sibling=I,S=I);return pe&&In(m,T),_}for(C=r(m,C);!I.done;T++,I=v.next())I=p(C,m,T,I.value,b),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?T:I.key),y=s(I,y,T),S===null?_=I:S.sibling=I,S=I);return e&&C.forEach(function(U){return t(m,U)}),pe&&In(m,T),_}function E(m,y,v,b){if(typeof v=="object"&&v!==null&&v.type===ur&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case is:e:{for(var _=v.key,S=y;S!==null;){if(S.key===_){if(_=v.type,_===ur){if(S.tag===7){n(m,S.sibling),y=o(S,v.props.children),y.return=m,m=y;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===sn&&ud(_)===S.type){n(m,S.sibling),y=o(S,v.props),y.ref=eo(m,S,v),y.return=m,m=y;break e}n(m,S);break}else t(m,S);S=S.sibling}v.type===ur?(y=Vn(v.props.children,m.mode,b,v.key),y.return=m,m=y):(b=Gs(v.type,v.key,v.props,null,m.mode,b),b.ref=eo(m,y,v),b.return=m,m=b)}return l(m);case cr:e:{for(S=v.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(m,y.sibling),y=o(y,v.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=La(v,m.mode,b),y.return=m,m=y}return l(m);case sn:return S=v._init,E(m,y,S(v._payload),b)}if(uo(v))return w(m,y,v,b);if(Zr(v))return x(m,y,v,b);vs(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(m,y.sibling),y=o(y,v),y.return=m,m=y):(n(m,y),y=Ta(v,m.mode,b),y.return=m,m=y),l(m)):n(m,y)}return E}var Rr=Q0(!0),J0=Q0(!1),fl=$n(null),hl=null,xr=null,$c=null;function Mc(){$c=xr=hl=null}function Tc(e){var t=fl.current;ge(fl),e._currentValue=t}function Si(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _r(e,t){hl=e,$c=xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if($c!==e)if(e={context:e,memoizedValue:t,next:null},xr===null){if(hl===null)throw Error(B(308));xr=e,hl.dependencies={lanes:0,firstContext:e}}else xr=xr.next=e;return t}var On=null;function Lc(e){On===null?On=[e]:On.push(e)}function eh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Lc(t)):(n.next=o.next,o.next=n),t.interleaved=n,Qt(e,r)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ln=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function th(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Qt(e,n)}return o=r.interleaved,o===null?(t.next=t,Lc(r)):(t.next=o.next,o.next=t),r.interleaved=t,Qt(e,n)}function Os(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xc(e,n)}}function dd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gl(e,t,n,r){var o=e.updateQueue;ln=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,l===null?s=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==l&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=o.baseState;l=0,d=u=c=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,x=a;switch(f=t,p=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(p,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,f=typeof w=="function"?w.call(p,h,f):w,f==null)break e;h=we({},h,f);break e;case 2:ln=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,l|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(d===null&&(c=h),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Kn|=l,e.lanes=l,e.memoizedState=h}}function fd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var ns={},It=$n(ns),Po=$n(ns),zo=$n(ns);function Wn(e){if(e===ns)throw Error(B(174));return e}function Rc(e,t){switch(de(zo,t),de(Po,e),de(It,ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oi(t,e)}ge(It),de(It,t)}function Dr(){ge(It),ge(Po),ge(zo)}function nh(e){Wn(zo.current);var t=Wn(It.current),n=oi(t,e.type);t!==n&&(de(Po,e),de(It,n))}function Dc(e){Po.current===e&&(ge(It),ge(Po))}var xe=$n(0);function ml(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ea=[];function Ic(){for(var e=0;e<Ea.length;e++)Ea[e]._workInProgressVersionPrimary=null;Ea.length=0}var Ws=nn.ReactCurrentDispatcher,_a=nn.ReactCurrentBatchConfig,qn=0,ve=null,_e=null,$e=null,pl=!1,ko=!1,Fo=0,vx=0;function Fe(){throw Error(B(321))}function Pc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function zc(e,t,n,r,o,s){if(qn=s,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ws.current=e===null||e.memoizedState===null?Nx:Sx,e=n(r,o),ko){s=0;do{if(ko=!1,Fo=0,25<=s)throw Error(B(301));s+=1,$e=_e=null,t.updateQueue=null,Ws.current=Ex,e=n(r,o)}while(ko)}if(Ws.current=yl,t=_e!==null&&_e.next!==null,qn=0,$e=_e=ve=null,pl=!1,t)throw Error(B(300));return e}function Fc(){var e=Fo!==0;return Fo=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ve.memoizedState=$e=e:$e=$e.next=e,$e}function pt(){if(_e===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=$e===null?ve.memoizedState:$e.next;if(t!==null)$e=t,_e=e;else{if(e===null)throw Error(B(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},$e===null?ve.memoizedState=$e=e:$e=$e.next=e}return $e}function Oo(e,t){return typeof t=="function"?t(e):t}function ja(e){var t=pt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=_e,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=l=null,c=null,u=s;do{var d=u.lane;if((qn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,l=r):c=c.next=h,ve.lanes|=d,Kn|=d}u=u.next}while(u!==null&&u!==s);c===null?l=r:c.next=a,Ct(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,ve.lanes|=s,Kn|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ca(e){var t=pt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do s=e(s,l.action),l=l.next;while(l!==o);Ct(s,t.memoizedState)||(qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function rh(){}function oh(e,t){var n=ve,r=pt(),o=t(),s=!Ct(r.memoizedState,o);if(s&&(r.memoizedState=o,qe=!0),r=r.queue,Oc(ah.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,Wo(9,lh.bind(null,n,r,o,t),void 0,null),Me===null)throw Error(B(349));qn&30||sh(n,t,o)}return o}function sh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lh(e,t,n,r){t.value=n,t.getSnapshot=r,ih(t)&&ch(e)}function ah(e,t,n){return n(function(){ih(t)&&ch(e)})}function ih(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function ch(e){var t=Qt(e,1);t!==null&&jt(t,e,1,-1)}function hd(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=kx.bind(null,ve,e),[t.memoizedState,e]}function Wo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function uh(){return pt().memoizedState}function Hs(e,t,n,r){var o=Lt();ve.flags|=e,o.memoizedState=Wo(1|t,n,void 0,r===void 0?null:r)}function Ol(e,t,n,r){var o=pt();r=r===void 0?null:r;var s=void 0;if(_e!==null){var l=_e.memoizedState;if(s=l.destroy,r!==null&&Pc(r,l.deps)){o.memoizedState=Wo(t,n,s,r);return}}ve.flags|=e,o.memoizedState=Wo(1|t,n,s,r)}function gd(e,t){return Hs(8390656,8,e,t)}function Oc(e,t){return Ol(2048,8,e,t)}function dh(e,t){return Ol(4,2,e,t)}function fh(e,t){return Ol(4,4,e,t)}function hh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gh(e,t,n){return n=n!=null?n.concat([e]):null,Ol(4,4,hh.bind(null,t,e),n)}function Wc(){}function mh(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ph(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yh(e,t,n){return qn&21?(Ct(n,t)||(n=k0(),ve.lanes|=n,Kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function wx(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=_a.transition;_a.transition={};try{e(!1),t()}finally{ue=n,_a.transition=r}}function xh(){return pt().memoizedState}function bx(e,t,n){var r=kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vh(e))wh(t,n);else if(n=eh(e,t,n,r),n!==null){var o=Ge();jt(n,e,r,o),bh(n,t,r)}}function kx(e,t,n){var r=kn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vh(e))wh(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,a=s(l,n);if(o.hasEagerState=!0,o.eagerState=a,Ct(a,l)){var c=t.interleaved;c===null?(o.next=o,Lc(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=eh(e,t,o,r),n!==null&&(o=Ge(),jt(n,e,r,o),bh(n,t,r))}}function vh(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function wh(e,t){ko=pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xc(e,n)}}var yl={readContext:mt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},Nx={readContext:mt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:gd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hs(4194308,4,hh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hs(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bx.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:hd,useDebugValue:Wc,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=hd(!1),t=e[0];return e=wx.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,o=Lt();if(pe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Me===null)throw Error(B(349));qn&30||sh(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,gd(ah.bind(null,r,s,e),[e]),r.flags|=2048,Wo(9,lh.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Lt(),t=Me.identifierPrefix;if(pe){var n=Vt,r=Ut;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sx={readContext:mt,useCallback:mh,useContext:mt,useEffect:Oc,useImperativeHandle:gh,useInsertionEffect:dh,useLayoutEffect:fh,useMemo:ph,useReducer:ja,useRef:uh,useState:function(){return ja(Oo)},useDebugValue:Wc,useDeferredValue:function(e){var t=pt();return yh(t,_e.memoizedState,e)},useTransition:function(){var e=ja(Oo)[0],t=pt().memoizedState;return[e,t]},useMutableSource:rh,useSyncExternalStore:oh,useId:xh,unstable_isNewReconciler:!1},Ex={readContext:mt,useCallback:mh,useContext:mt,useEffect:Oc,useImperativeHandle:gh,useInsertionEffect:dh,useLayoutEffect:fh,useMemo:ph,useReducer:Ca,useRef:uh,useState:function(){return Ca(Oo)},useDebugValue:Wc,useDeferredValue:function(e){var t=pt();return _e===null?t.memoizedState=e:yh(t,_e.memoizedState,e)},useTransition:function(){var e=Ca(Oo)[0],t=pt().memoizedState;return[e,t]},useMutableSource:rh,useSyncExternalStore:oh,useId:xh,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ei(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wl={isMounted:function(e){return(e=e._reactInternals)?tr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),o=kn(e),s=Yt(r,o);s.payload=t,n!=null&&(s.callback=n),t=wn(e,s,o),t!==null&&(jt(t,e,o,r),Os(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),o=kn(e),s=Yt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=wn(e,s,o),t!==null&&(jt(t,e,o,r),Os(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=kn(e),o=Yt(n,r);o.tag=2,t!=null&&(o.callback=t),t=wn(e,o,r),t!==null&&(jt(t,e,r,n),Os(t,e,r))}};function md(e,t,n,r,o,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!Ao(n,r)||!Ao(o,s):!0}function kh(e,t,n){var r=!1,o=_n,s=t.contextType;return typeof s=="object"&&s!==null?s=mt(s):(o=Je(t)?Xn:He.current,r=t.contextTypes,s=(r=r!=null)?Lr(e,o):_n),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function pd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wl.enqueueReplaceState(t,t.state,null)}function _i(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ac(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=mt(s):(s=Je(t)?Xn:He.current,o.context=Lr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ei(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Wl.enqueueReplaceState(o,o.state,null),gl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ir(e,t){try{var n="",r=t;do n+=Jp(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function $a(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ji(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _x=typeof WeakMap=="function"?WeakMap:Map;function Nh(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vl||(vl=!0,Pi=r),ji(e,t)},n}function Sh(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ji(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ji(e,t),typeof r!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function yd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _x;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ox.bind(null,e,t,n),t.then(e,e))}function xd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e)}var jx=nn.ReactCurrentOwner,qe=!1;function Ve(e,t,n,r){t.child=e===null?J0(t,null,n,r):Rr(t,e.child,n,r)}function wd(e,t,n,r,o){n=n.render;var s=t.ref;return _r(t,o),r=zc(e,t,n,r,s,o),n=Fc(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Jt(e,t,o)):(pe&&n&&_c(t),t.flags|=1,Ve(e,t,r,o),t.child)}function bd(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Zc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Eh(e,t,s,r,o)):(e=Gs(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ao,n(l,r)&&e.ref===t.ref)return Jt(e,t,o)}return t.flags|=1,e=Nn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Eh(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Ao(s,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,Jt(e,t,o)}return Ci(e,t,n,r,o)}function _h(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(wr,tt),tt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(wr,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,de(wr,tt),tt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,de(wr,tt),tt|=r;return Ve(e,t,o,n),t.child}function jh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,n,r,o){var s=Je(n)?Xn:He.current;return s=Lr(t,s),_r(t,o),n=zc(e,t,n,r,s,o),r=Fc(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Jt(e,t,o)):(pe&&r&&_c(t),t.flags|=1,Ve(e,t,n,o),t.child)}function kd(e,t,n,r,o){if(Je(n)){var s=!0;cl(t)}else s=!1;if(_r(t,o),t.stateNode===null)Bs(e,t),kh(t,n,r),_i(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,a=t.memoizedProps;l.props=a;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=Je(n)?Xn:He.current,u=Lr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||c!==u)&&pd(t,l,r,u),ln=!1;var f=t.memoizedState;l.state=f,gl(t,r,l,o),c=t.memoizedState,a!==r||f!==c||Qe.current||ln?(typeof d=="function"&&(Ei(t,n,d,r),c=t.memoizedState),(a=ln||md(t,n,a,r,f,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=a):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,th(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:bt(t.type,a),l.props=u,h=t.pendingProps,f=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=mt(c):(c=Je(n)?Xn:He.current,c=Lr(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==h||f!==c)&&pd(t,l,r,c),ln=!1,f=t.memoizedState,l.state=f,gl(t,r,l,o);var w=t.memoizedState;a!==h||f!==w||Qe.current||ln?(typeof p=="function"&&(Ei(t,n,p,r),w=t.memoizedState),(u=ln||md(t,n,u,r,f,w,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),l.props=r,l.state=w,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return $i(e,t,n,r,s,o)}function $i(e,t,n,r,o,s){jh(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&ad(t,n,!1),Jt(e,t,s);r=t.stateNode,jx.current=t;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Rr(t,e.child,null,s),t.child=Rr(t,null,a,s)):Ve(e,t,a,s),t.memoizedState=r.state,o&&ad(t,n,!0),t.child}function Ch(e){var t=e.stateNode;t.pendingContext?ld(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ld(e,t.context,!1),Rc(e,t.containerInfo)}function Nd(e,t,n,r,o){return Ar(),Cc(o),t.flags|=256,Ve(e,t,n,r),t.child}var Mi={dehydrated:null,treeContext:null,retryLane:0};function Ti(e){return{baseLanes:e,cachePool:null,transitions:null}}function $h(e,t,n){var r=t.pendingProps,o=xe.current,s=!1,l=(t.flags&128)!==0,a;if((a=l)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),de(xe,o&1),e===null)return Ni(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Ul(l,r,0,null),e=Vn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ti(n),t.memoizedState=Mi,e):Hc(t,l));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Cx(e,t,l,r,a,o,n);if(s){s=r.fallback,l=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Nn(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=Nn(a,s):(s=Vn(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?Ti(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Mi,r}return s=e.child,e=s.sibling,r=Nn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hc(e,t){return t=Ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ws(e,t,n,r){return r!==null&&Cc(r),Rr(t,e.child,null,n),e=Hc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cx(e,t,n,r,o,s,l){if(n)return t.flags&256?(t.flags&=-257,r=$a(Error(B(422))),ws(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Ul({mode:"visible",children:r.children},o,0,null),s=Vn(s,o,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Rr(t,e.child,null,l),t.child.memoizedState=Ti(l),t.memoizedState=Mi,s);if(!(t.mode&1))return ws(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=$a(s,r,void 0),ws(e,t,l,r)}if(a=(l&e.childLanes)!==0,qe||a){if(r=Me,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Qt(e,o),jt(r,e,o,-1))}return Xc(),r=$a(Error(B(421))),ws(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Wx.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,nt=vn(o.nextSibling),rt=t,pe=!0,St=null,e!==null&&(ct[ut++]=Ut,ct[ut++]=Vt,ct[ut++]=Zn,Ut=e.id,Vt=e.overflow,Zn=t),t=Hc(t,r.children),t.flags|=4096,t)}function Sd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Si(e.return,t,n)}function Ma(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Mh(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Ve(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,n,t);else if(e.tag===19)Sd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(xe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ml(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ma(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ml(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ma(t,!0,n,null,s);break;case"together":Ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $x(e,t,n){switch(t.tag){case 3:Ch(t),Ar();break;case 5:nh(t);break;case 1:Je(t.type)&&cl(t);break;case 4:Rc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;de(fl,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?$h(e,t,n):(de(xe,xe.current&1),e=Jt(e,t,n),e!==null?e.sibling:null);de(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Mh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),de(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,_h(e,t,n)}return Jt(e,t,n)}var Th,Li,Lh,Ah;Th=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Li=function(){};Lh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Wn(It.current);var s=null;switch(n){case"input":o=ei(e,o),r=ei(e,r),s=[];break;case"select":o=we({},o,{value:void 0}),r=we({},r,{value:void 0}),s=[];break;case"textarea":o=ri(e,o),r=ri(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=al)}si(n,r);var l;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_o.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&he("scroll",e),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Ah=function(e,t,n,r){n!==r&&(t.flags|=4)};function to(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Mx(e,t,n){var r=t.pendingProps;switch(jc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Je(t.type)&&il(),Oe(t),null;case 3:return r=t.stateNode,Dr(),ge(Qe),ge(He),Ic(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(Oi(St),St=null))),Li(e,t),Oe(t),null;case 5:Dc(t);var o=Wn(zo.current);if(n=t.type,e!==null&&t.stateNode!=null)Lh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Oe(t),null}if(e=Wn(It.current),xs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[At]=t,r[Io]=s,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(o=0;o<ho.length;o++)he(ho[o],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":Au(r,s),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},he("invalid",r);break;case"textarea":Du(r,s),he("invalid",r)}si(n,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ys(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ys(r.textContent,a,e),o=["children",""+a]):_o.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&he("scroll",r)}switch(n){case"input":cs(r),Ru(r,s,!0);break;case"textarea":cs(r),Iu(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=al)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[At]=t,e[Io]=r,Th(e,t,!1,!1),t.stateNode=e;e:{switch(l=li(n,r),n){case"dialog":he("cancel",e),he("close",e),o=r;break;case"iframe":case"object":case"embed":he("load",e),o=r;break;case"video":case"audio":for(o=0;o<ho.length;o++)he(ho[o],e);o=r;break;case"source":he("error",e),o=r;break;case"img":case"image":case"link":he("error",e),he("load",e),o=r;break;case"details":he("toggle",e),o=r;break;case"input":Au(e,r),o=ei(e,r),he("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=we({},r,{value:void 0}),he("invalid",e);break;case"textarea":Du(e,r),o=ri(e,r),he("invalid",e);break;default:o=r}si(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?u0(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&i0(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&jo(e,c):typeof c=="number"&&jo(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_o.hasOwnProperty(s)?c!=null&&s==="onScroll"&&he("scroll",e):c!=null&&fc(e,s,c,l))}switch(n){case"input":cs(e),Ru(e,r,!1);break;case"textarea":cs(e),Iu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+En(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?kr(e,!!r.multiple,s,!1):r.defaultValue!=null&&kr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Ah(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=Wn(zo.current),Wn(It.current),xs(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(s=r.nodeValue!==n)&&(e=rt,e!==null))switch(e.tag){case 3:ys(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ys(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Oe(t),null;case 13:if(ge(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&nt!==null&&t.mode&1&&!(t.flags&128))K0(),Ar(),t.flags|=98560,s=!1;else if(s=xs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(B(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[At]=t}else Ar(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),s=!1}else St!==null&&(Oi(St),St=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?je===0&&(je=3):Xc())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Dr(),Li(e,t),e===null&&Ro(t.stateNode.containerInfo),Oe(t),null;case 10:return Tc(t.type._context),Oe(t),null;case 17:return Je(t.type)&&il(),Oe(t),null;case 19:if(ge(xe),s=t.memoizedState,s===null)return Oe(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)to(s,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ml(e),l!==null){for(t.flags|=128,to(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(xe,xe.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ne()>Pr&&(t.flags|=128,r=!0,to(s,!1),t.lanes=4194304)}else{if(!r)if(e=ml(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),to(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!pe)return Oe(t),null}else 2*Ne()-s.renderingStartTime>Pr&&n!==1073741824&&(t.flags|=128,r=!0,to(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ne(),t.sibling=null,n=xe.current,de(xe,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Yc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tt&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function Tx(e,t){switch(jc(t),t.tag){case 1:return Je(t.type)&&il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dr(),ge(Qe),ge(He),Ic(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dc(t),null;case 13:if(ge(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(xe),null;case 4:return Dr(),null;case 10:return Tc(t.type._context),null;case 22:case 23:return Yc(),null;case 24:return null;default:return null}}var bs=!1,We=!1,Lx=typeof WeakSet=="function"?WeakSet:Set,Z=null;function vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function Ai(e,t,n){try{n()}catch(r){be(e,t,r)}}var Ed=!1;function Ax(e,t){if(pi=ol,e=z0(),Ec(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,a=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||o!==0&&h.nodeType!==3||(a=l+o),h!==s||r!==0&&h.nodeType!==3||(c=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(a=l),f===s&&++d===r&&(c=l),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yi={focusedElem:e,selectionRange:n},ol=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,E=w.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:bt(t.type,x),E);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(b){be(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return w=Ed,Ed=!1,w}function No(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Ai(t,n,s)}o=o.next}while(o!==r)}}function Hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ri(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rh(e){var t=e.alternate;t!==null&&(e.alternate=null,Rh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Io],delete t[wi],delete t[mx],delete t[px])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dh(e){return e.tag===5||e.tag===3||e.tag===4}function _d(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Di(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=al));else if(r!==4&&(e=e.child,e!==null))for(Di(e,t,n),e=e.sibling;e!==null;)Di(e,t,n),e=e.sibling}function Ii(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ii(e,t,n),e=e.sibling;e!==null;)Ii(e,t,n),e=e.sibling}var Ae=null,kt=!1;function rn(e,t,n){for(n=n.child;n!==null;)Ih(e,t,n),n=n.sibling}function Ih(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Rl,n)}catch{}switch(n.tag){case 5:We||vr(n,t);case 6:var r=Ae,o=kt;Ae=null,rn(e,t,n),Ae=r,kt=o,Ae!==null&&(kt?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(kt?(e=Ae,n=n.stateNode,e.nodeType===8?Na(e.parentNode,n):e.nodeType===1&&Na(e,n),To(e)):Na(Ae,n.stateNode));break;case 4:r=Ae,o=kt,Ae=n.stateNode.containerInfo,kt=!0,rn(e,t,n),Ae=r,kt=o;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Ai(n,t,l),o=o.next}while(o!==r)}rn(e,t,n);break;case 1:if(!We&&(vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,t,a)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,rn(e,t,n),We=r):rn(e,t,n);break;default:rn(e,t,n)}}function jd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Lx),t.forEach(function(r){var o=Hx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,l=t,a=l;e:for(;a!==null;){switch(a.tag){case 5:Ae=a.stateNode,kt=!1;break e;case 3:Ae=a.stateNode.containerInfo,kt=!0;break e;case 4:Ae=a.stateNode.containerInfo,kt=!0;break e}a=a.return}if(Ae===null)throw Error(B(160));Ih(s,l,o),Ae=null,kt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){be(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ph(t,e),t=t.sibling}function Ph(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Tt(e),r&4){try{No(3,e,e.return),Hl(3,e)}catch(x){be(e,e.return,x)}try{No(5,e,e.return)}catch(x){be(e,e.return,x)}}break;case 1:wt(t,e),Tt(e),r&512&&n!==null&&vr(n,n.return);break;case 5:if(wt(t,e),Tt(e),r&512&&n!==null&&vr(n,n.return),e.flags&32){var o=e.stateNode;try{jo(o,"")}catch(x){be(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&s0(o,s),li(a,l);var u=li(a,s);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?u0(o,h):d==="dangerouslySetInnerHTML"?i0(o,h):d==="children"?jo(o,h):fc(o,d,h,u)}switch(a){case"input":ti(o,s);break;case"textarea":l0(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?kr(o,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?kr(o,!!s.multiple,s.defaultValue,!0):kr(o,!!s.multiple,s.multiple?[]:"",!1))}o[Io]=s}catch(x){be(e,e.return,x)}}break;case 6:if(wt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(B(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(x){be(e,e.return,x)}}break;case 3:if(wt(t,e),Tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{To(t.containerInfo)}catch(x){be(e,e.return,x)}break;case 4:wt(t,e),Tt(e);break;case 13:wt(t,e),Tt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Vc=Ne())),r&4&&jd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(We=(u=We)||d,wt(t,e),We=u):wt(t,e),Tt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:No(4,f,f.return);break;case 1:vr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){be(r,n,x)}}break;case 5:vr(f,f.return);break;case 22:if(f.memoizedState!==null){$d(h);continue}}p!==null?(p.return=f,Z=p):$d(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{o=h.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=c0("display",l))}catch(x){be(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){be(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(t,e),Tt(e),r&4&&jd(e);break;case 21:break;default:wt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dh(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(jo(o,""),r.flags&=-33);var s=_d(e);Ii(e,s,o);break;case 3:case 4:var l=r.stateNode.containerInfo,a=_d(e);Di(e,a,l);break;default:throw Error(B(161))}}catch(c){be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rx(e,t,n){Z=e,zh(e)}function zh(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var o=Z,s=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||bs;if(!l){var a=o.alternate,c=a!==null&&a.memoizedState!==null||We;a=bs;var u=We;if(bs=l,(We=c)&&!u)for(Z=o;Z!==null;)l=Z,c=l.child,l.tag===22&&l.memoizedState!==null?Md(o):c!==null?(c.return=l,Z=c):Md(o);for(;s!==null;)Z=s,zh(s),s=s.sibling;Z=o,bs=a,We=u}Cd(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Z=s):Cd(e)}}function Cd(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||Hl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!We)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:bt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&fd(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fd(t,l,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&To(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}We||t.flags&512&&Ri(t)}catch(f){be(t,t.return,f)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function $d(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Md(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hl(4,t)}catch(c){be(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){be(t,o,c)}}var s=t.return;try{Ri(t)}catch(c){be(t,s,c)}break;case 5:var l=t.return;try{Ri(t)}catch(c){be(t,l,c)}}}catch(c){be(t,t.return,c)}if(t===e){Z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Z=a;break}Z=t.return}}var Dx=Math.ceil,xl=nn.ReactCurrentDispatcher,Bc=nn.ReactCurrentOwner,gt=nn.ReactCurrentBatchConfig,le=0,Me=null,Ee=null,Re=0,tt=0,wr=$n(0),je=0,Ho=null,Kn=0,Bl=0,Uc=0,So=null,Ze=null,Vc=0,Pr=1/0,Ht=null,vl=!1,Pi=null,bn=null,ks=!1,mn=null,wl=0,Eo=0,zi=null,Us=-1,Vs=0;function Ge(){return le&6?Ne():Us!==-1?Us:Us=Ne()}function kn(e){return e.mode&1?le&2&&Re!==0?Re&-Re:xx.transition!==null?(Vs===0&&(Vs=k0()),Vs):(e=ue,e!==0||(e=window.event,e=e===void 0?16:$0(e.type)),e):1}function jt(e,t,n,r){if(50<Eo)throw Eo=0,zi=null,Error(B(185));Jo(e,n,r),(!(le&2)||e!==Me)&&(e===Me&&(!(le&2)&&(Bl|=n),je===4&&dn(e,Re)),et(e,r),n===1&&le===0&&!(t.mode&1)&&(Pr=Ne()+500,Fl&&Mn()))}function et(e,t){var n=e.callbackNode;xy(e,t);var r=rl(e,e===Me?Re:0);if(r===0)n!==null&&Fu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Fu(n),t===1)e.tag===0?yx(Td.bind(null,e)):X0(Td.bind(null,e)),hx(function(){!(le&6)&&Mn()}),n=null;else{switch(N0(r)){case 1:n=yc;break;case 4:n=w0;break;case 16:n=nl;break;case 536870912:n=b0;break;default:n=nl}n=Gh(n,Fh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fh(e,t){if(Us=-1,Vs=0,le&6)throw Error(B(327));var n=e.callbackNode;if(jr()&&e.callbackNode!==n)return null;var r=rl(e,e===Me?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bl(e,r);else{t=r;var o=le;le|=2;var s=Wh();(Me!==e||Re!==t)&&(Ht=null,Pr=Ne()+500,Un(e,t));do try{zx();break}catch(a){Oh(e,a)}while(!0);Mc(),xl.current=s,le=o,Ee!==null?t=0:(Me=null,Re=0,t=je)}if(t!==0){if(t===2&&(o=di(e),o!==0&&(r=o,t=Fi(e,o))),t===1)throw n=Ho,Un(e,0),dn(e,r),et(e,Ne()),n;if(t===6)dn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Ix(o)&&(t=bl(e,r),t===2&&(s=di(e),s!==0&&(r=s,t=Fi(e,s))),t===1))throw n=Ho,Un(e,0),dn(e,r),et(e,Ne()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Pn(e,Ze,Ht);break;case 3:if(dn(e,r),(r&130023424)===r&&(t=Vc+500-Ne(),10<t)){if(rl(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=vi(Pn.bind(null,e,Ze,Ht),t);break}Pn(e,Ze,Ht);break;case 4:if(dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-_t(r);s=1<<l,l=t[l],l>o&&(o=l),r&=~s}if(r=o,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dx(r/1960))-r,10<r){e.timeoutHandle=vi(Pn.bind(null,e,Ze,Ht),r);break}Pn(e,Ze,Ht);break;case 5:Pn(e,Ze,Ht);break;default:throw Error(B(329))}}}return et(e,Ne()),e.callbackNode===n?Fh.bind(null,e):null}function Fi(e,t){var n=So;return e.current.memoizedState.isDehydrated&&(Un(e,t).flags|=256),e=bl(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&Oi(t)),e}function Oi(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Ix(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Ct(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~Uc,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function Td(e){if(le&6)throw Error(B(327));jr();var t=rl(e,0);if(!(t&1))return et(e,Ne()),null;var n=bl(e,t);if(e.tag!==0&&n===2){var r=di(e);r!==0&&(t=r,n=Fi(e,r))}if(n===1)throw n=Ho,Un(e,0),dn(e,t),et(e,Ne()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pn(e,Ze,Ht),et(e,Ne()),null}function Gc(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(Pr=Ne()+500,Fl&&Mn())}}function Qn(e){mn!==null&&mn.tag===0&&!(le&6)&&jr();var t=le;le|=1;var n=gt.transition,r=ue;try{if(gt.transition=null,ue=1,e)return e()}finally{ue=r,gt.transition=n,le=t,!(le&6)&&Mn()}}function Yc(){tt=wr.current,ge(wr)}function Un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fx(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&il();break;case 3:Dr(),ge(Qe),ge(He),Ic();break;case 5:Dc(r);break;case 4:Dr();break;case 13:ge(xe);break;case 19:ge(xe);break;case 10:Tc(r.type._context);break;case 22:case 23:Yc()}n=n.return}if(Me=e,Ee=e=Nn(e.current,null),Re=tt=t,je=0,Ho=null,Uc=Bl=Kn=0,Ze=So=null,On!==null){for(t=0;t<On.length;t++)if(n=On[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=o,r.next=l}n.pending=r}On=null}return e}function Oh(e,t){do{var n=Ee;try{if(Mc(),Ws.current=yl,pl){for(var r=ve.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}pl=!1}if(qn=0,$e=_e=ve=null,ko=!1,Fo=0,Bc.current=null,n===null||n.return===null){je=1,Ho=t,Ee=null;break}e:{var s=e,l=n.return,a=n,c=t;if(t=Re,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=xd(l);if(p!==null){p.flags&=-257,vd(p,l,a,s,t),p.mode&1&&yd(s,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){yd(s,u,t),Xc();break e}c=Error(B(426))}}else if(pe&&a.mode&1){var E=xd(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),vd(E,l,a,s,t),Cc(Ir(c,a));break e}}s=c=Ir(c,a),je!==4&&(je=2),So===null?So=[s]:So.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Nh(s,c,t);dd(s,m);break e;case 1:a=c;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(bn===null||!bn.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=Sh(s,a,t);dd(s,b);break e}}s=s.return}while(s!==null)}Bh(n)}catch(_){t=_,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function Wh(){var e=xl.current;return xl.current=yl,e===null?yl:e}function Xc(){(je===0||je===3||je===2)&&(je=4),Me===null||!(Kn&268435455)&&!(Bl&268435455)||dn(Me,Re)}function bl(e,t){var n=le;le|=2;var r=Wh();(Me!==e||Re!==t)&&(Ht=null,Un(e,t));do try{Px();break}catch(o){Oh(e,o)}while(!0);if(Mc(),le=n,xl.current=r,Ee!==null)throw Error(B(261));return Me=null,Re=0,je}function Px(){for(;Ee!==null;)Hh(Ee)}function zx(){for(;Ee!==null&&!cy();)Hh(Ee)}function Hh(e){var t=Vh(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?Bh(e):Ee=t,Bc.current=null}function Bh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Tx(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,Ee=null;return}}else if(n=Mx(n,t,tt),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);je===0&&(je=5)}function Pn(e,t,n){var r=ue,o=gt.transition;try{gt.transition=null,ue=1,Fx(e,t,n,r)}finally{gt.transition=o,ue=r}return null}function Fx(e,t,n,r){do jr();while(mn!==null);if(le&6)throw Error(B(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(vy(e,s),e===Me&&(Ee=Me=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ks||(ks=!0,Gh(nl,function(){return jr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gt.transition,gt.transition=null;var l=ue;ue=1;var a=le;le|=4,Bc.current=null,Ax(e,n),Ph(n,e),sx(yi),ol=!!pi,yi=pi=null,e.current=n,Rx(n),uy(),le=a,ue=l,gt.transition=s}else e.current=n;if(ks&&(ks=!1,mn=e,wl=o),s=e.pendingLanes,s===0&&(bn=null),hy(n.stateNode),et(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(vl)throw vl=!1,e=Pi,Pi=null,e;return wl&1&&e.tag!==0&&jr(),s=e.pendingLanes,s&1?e===zi?Eo++:(Eo=0,zi=e):Eo=0,Mn(),null}function jr(){if(mn!==null){var e=N0(wl),t=gt.transition,n=ue;try{if(gt.transition=null,ue=16>e?16:e,mn===null)var r=!1;else{if(e=mn,mn=null,wl=0,le&6)throw Error(B(331));var o=le;for(le|=4,Z=e.current;Z!==null;){var s=Z,l=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:No(8,d,s)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,p=d.return;if(Rh(d),d===u){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var w=s.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var E=x.sibling;x.sibling=null,x=E}while(x!==null)}}Z=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,Z=l;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:No(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Z=m;break e}Z=s.return}}var y=e.current;for(Z=y;Z!==null;){l=Z;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,Z=v;else e:for(l=y;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hl(9,a)}}catch(_){be(a,a.return,_)}if(a===l){Z=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Z=b;break e}Z=a.return}}if(le=o,Mn(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Rl,e)}catch{}r=!0}return r}finally{ue=n,gt.transition=t}}return!1}function Ld(e,t,n){t=Ir(n,t),t=Nh(e,t,1),e=wn(e,t,1),t=Ge(),e!==null&&(Jo(e,1,t),et(e,t))}function be(e,t,n){if(e.tag===3)Ld(e,e,n);else for(;t!==null;){if(t.tag===3){Ld(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bn===null||!bn.has(r))){e=Ir(n,e),e=Sh(t,e,1),t=wn(t,e,1),e=Ge(),t!==null&&(Jo(t,1,e),et(t,e));break}}t=t.return}}function Ox(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Re&n)===n&&(je===4||je===3&&(Re&130023424)===Re&&500>Ne()-Vc?Un(e,0):Uc|=n),et(e,t)}function Uh(e,t){t===0&&(e.mode&1?(t=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):t=1);var n=Ge();e=Qt(e,t),e!==null&&(Jo(e,t,n),et(e,n))}function Wx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Uh(e,n)}function Hx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Uh(e,n)}var Vh;Vh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,$x(e,t,n);qe=!!(e.flags&131072)}else qe=!1,pe&&t.flags&1048576&&Z0(t,dl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bs(e,t),e=t.pendingProps;var o=Lr(t,He.current);_r(t,n),o=zc(null,t,r,e,o,n);var s=Fc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(r)?(s=!0,cl(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ac(t),o.updater=Wl,t.stateNode=o,o._reactInternals=t,_i(t,r,e,n),t=$i(null,t,r,!0,s,n)):(t.tag=0,pe&&s&&_c(t),Ve(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Ux(r),e=bt(r,e),o){case 0:t=Ci(null,t,r,e,n);break e;case 1:t=kd(null,t,r,e,n);break e;case 11:t=wd(null,t,r,e,n);break e;case 14:t=bd(null,t,r,bt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bt(r,o),Ci(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bt(r,o),kd(e,t,r,o,n);case 3:e:{if(Ch(t),e===null)throw Error(B(387));r=t.pendingProps,s=t.memoizedState,o=s.element,th(e,t),gl(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Ir(Error(B(423)),t),t=Nd(e,t,r,n,o);break e}else if(r!==o){o=Ir(Error(B(424)),t),t=Nd(e,t,r,n,o);break e}else for(nt=vn(t.stateNode.containerInfo.firstChild),rt=t,pe=!0,St=null,n=J0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ar(),r===o){t=Jt(e,t,n);break e}Ve(e,t,r,n)}t=t.child}return t;case 5:return nh(t),e===null&&Ni(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,l=o.children,xi(r,o)?l=null:s!==null&&xi(r,s)&&(t.flags|=32),jh(e,t),Ve(e,t,l,n),t.child;case 6:return e===null&&Ni(t),null;case 13:return $h(e,t,n);case 4:return Rc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rr(t,null,r,n):Ve(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bt(r,o),wd(e,t,r,o,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,l=o.value,de(fl,r._currentValue),r._currentValue=l,s!==null)if(Ct(s.value,l)){if(s.children===o.children&&!Qe.current){t=Jt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){l=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Yt(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Si(s.return,n,t),a.lanes|=n;break}c=c.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(B(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Si(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Ve(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,_r(t,n),o=mt(o),r=r(o),t.flags|=1,Ve(e,t,r,n),t.child;case 14:return r=t.type,o=bt(r,t.pendingProps),o=bt(r.type,o),bd(e,t,r,o,n);case 15:return Eh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bt(r,o),Bs(e,t),t.tag=1,Je(r)?(e=!0,cl(t)):e=!1,_r(t,n),kh(t,r,o),_i(t,r,o,n),$i(null,t,r,!0,e,n);case 19:return Mh(e,t,n);case 22:return _h(e,t,n)}throw Error(B(156,t.tag))};function Gh(e,t){return v0(e,t)}function Bx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,r){return new Bx(e,t,n,r)}function Zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ux(e){if(typeof e=="function")return Zc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gc)return 11;if(e===mc)return 14}return 2}function Nn(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,o,s){var l=2;if(r=e,typeof e=="function")Zc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ur:return Vn(n.children,o,s,t);case hc:l=8,o|=8;break;case qa:return e=ft(12,n,t,o|2),e.elementType=qa,e.lanes=s,e;case Ka:return e=ft(13,n,t,o),e.elementType=Ka,e.lanes=s,e;case Qa:return e=ft(19,n,t,o),e.elementType=Qa,e.lanes=s,e;case n0:return Ul(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case e0:l=10;break e;case t0:l=9;break e;case gc:l=11;break e;case mc:l=14;break e;case sn:l=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=ft(l,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Vn(e,t,n,r){return e=ft(7,e,r,t),e.lanes=n,e}function Ul(e,t,n,r){return e=ft(22,e,r,t),e.elementType=n0,e.lanes=n,e.stateNode={isHidden:!1},e}function Ta(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function La(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vx(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function qc(e,t,n,r,o,s,l,a,c){return e=new Vx(e,t,n,a,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ft(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(s),e}function Gx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Yh(e){if(!e)return _n;e=e._reactInternals;e:{if(tr(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Je(n))return Y0(e,n,t)}return t}function Xh(e,t,n,r,o,s,l,a,c){return e=qc(n,r,!0,e,o,s,l,a,c),e.context=Yh(null),n=e.current,r=Ge(),o=kn(n),s=Yt(r,o),s.callback=t??null,wn(n,s,o),e.current.lanes=o,Jo(e,o,r),et(e,r),e}function Vl(e,t,n,r){var o=t.current,s=Ge(),l=kn(o);return n=Yh(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=wn(o,t,l),e!==null&&(jt(e,o,l,s),Os(e,o,l)),l}function kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ad(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kc(e,t){Ad(e,t),(e=e.alternate)&&Ad(e,t)}function Yx(){return null}var Zh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}Gl.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Vl(e,t,null,null)};Gl.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qn(function(){Vl(null,e,null,null)}),t[Kt]=null}};function Gl(e){this._internalRoot=e}Gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=_0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&C0(e)}};function Jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rd(){}function Xx(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=kl(l);s.call(u)}}var l=Xh(t,r,e,0,null,!1,!1,"",Rd);return e._reactRootContainer=l,e[Kt]=l.current,Ro(e.nodeType===8?e.parentNode:e),Qn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=kl(c);a.call(u)}}var c=qc(e,0,!1,null,null,!1,!1,"",Rd);return e._reactRootContainer=c,e[Kt]=c.current,Ro(e.nodeType===8?e.parentNode:e),Qn(function(){Vl(t,c,n,r)}),c}function Xl(e,t,n,r,o){var s=n._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var a=o;o=function(){var c=kl(l);a.call(c)}}Vl(t,l,e,o)}else l=Xx(n,t,e,o,r);return kl(l)}S0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fo(t.pendingLanes);n!==0&&(xc(t,n|1),et(t,Ne()),!(le&6)&&(Pr=Ne()+500,Mn()))}break;case 13:Qn(function(){var r=Qt(e,1);if(r!==null){var o=Ge();jt(r,e,1,o)}}),Kc(e,1)}};vc=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=Ge();jt(t,e,134217728,n)}Kc(e,134217728)}};E0=function(e){if(e.tag===13){var t=kn(e),n=Qt(e,t);if(n!==null){var r=Ge();jt(n,e,t,r)}Kc(e,t)}};_0=function(){return ue};j0=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};ii=function(e,t,n){switch(t){case"input":if(ti(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=zl(r);if(!o)throw Error(B(90));o0(r),ti(r,o)}}}break;case"textarea":l0(e,n);break;case"select":t=n.value,t!=null&&kr(e,!!n.multiple,t,!1)}};h0=Gc;g0=Qn;var Zx={usingClientEntryPoint:!1,Events:[ts,gr,zl,d0,f0,Gc]},no={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qx={bundleType:no.bundleType,version:no.version,rendererPackageName:no.rendererPackageName,rendererConfig:no.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=y0(e),e===null?null:e.stateNode},findFiberByHostInstance:no.findFiberByHostInstance||Yx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{Rl=Ns.inject(qx),Dt=Ns}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zx;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jc(t))throw Error(B(200));return Gx(e,t,null,n)};at.createRoot=function(e,t){if(!Jc(e))throw Error(B(299));var n=!1,r="",o=Zh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=qc(e,1,!1,null,null,n,!1,r,o),e[Kt]=t.current,Ro(e.nodeType===8?e.parentNode:e),new Qc(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=y0(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return Qn(e)};at.hydrate=function(e,t,n){if(!Yl(t))throw Error(B(200));return Xl(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",l=Zh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Xh(t,null,e,1,n??null,o,!1,s,l),e[Kt]=t.current,Ro(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gl(t)};at.render=function(e,t,n){if(!Yl(t))throw Error(B(200));return Xl(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(B(40));return e._reactRootContainer?(Qn(function(){Xl(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1};at.unstable_batchedUpdates=Gc;at.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yl(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Xl(e,t,n,!1,r)};at.version="18.3.1-next-f1338f8080-20240426";function qh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qh)}catch(e){console.error(e)}}qh(),qf.exports=at;var Kx=qf.exports,Dd=Kx;Xa.createRoot=Dd.createRoot,Xa.hydrateRoot=Dd.hydrateRoot;const Aa="http://localhost:8000",Kh=g.createContext(void 0),Qx=({children:e})=>{const[t,n]=g.useState({user:null,token:null,isAuthenticated:!1,loading:!0,error:null});g.useEffect(()=>{(async()=>{try{const u=localStorage.getItem("auth_token");if(console.log("AuthContext: Initializing auth, token exists:",!!u),u){console.log("AuthContext: Verifying token with /auth/me");const d=await fetch(`${Aa}/auth/me`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(d.ok){const h=await d.json();console.log("AuthContext: Token valid, user:",h),n({user:h,token:u,isAuthenticated:!0,loading:!1,error:null})}else console.log("AuthContext: Token invalid, response status:",d.status),localStorage.removeItem("auth_token"),n(h=>({...h,loading:!1}))}else console.log("AuthContext: No token found, setting loading to false"),n(d=>({...d,loading:!1}))}catch(u){console.error("Auth initialization error:",u),localStorage.removeItem("auth_token"),n(d=>({...d,loading:!1,error:"Failed to initialize authentication"}))}})()},[]);const a={...t,login:async c=>{n(u=>({...u,loading:!0,error:null}));try{const u=await fetch(`${Aa}/auth/login-json`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),d=await u.json();if(!u.ok)throw new Error(d.detail||"Login failed");const{access_token:h,user:f}=d;localStorage.setItem("auth_token",h),n({user:f,token:h,isAuthenticated:!0,loading:!1,error:null})}catch(u){const d=u instanceof Error?u.message:"Login failed";throw n(h=>({...h,loading:!1,error:d})),u}},register:async c=>{n(u=>({...u,loading:!0,error:null}));try{const u=await fetch(`${Aa}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),d=await u.json();if(!u.ok)throw new Error(d.detail||"Registration failed");const{access_token:h,user:f}=d;localStorage.setItem("auth_token",h),n({user:f,token:h,isAuthenticated:!0,loading:!1,error:null})}catch(u){const d=u instanceof Error?u.message:"Registration failed";throw n(h=>({...h,loading:!1,error:d})),u}},logout:()=>{localStorage.removeItem("auth_token"),n({user:null,token:null,isAuthenticated:!1,loading:!1,error:null})},clearError:()=>{n(c=>({...c,error:null}))}};return i.jsx(Kh.Provider,{value:a,children:e})},eu=()=>{const e=g.useContext(Kh);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},tu=({children:e,onClick:t,type:n="button",variant:r="primary",size:o="md",disabled:s=!1,loading:l=!1,className:a=""})=>{const c="inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200",u={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",ghost:"bg-transparent hover:bg-gray-100 text-gray-700 focus:ring-gray-500",outline:"bg-transparent border border-gray-300 hover:bg-gray-50 text-gray-700 focus:ring-gray-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},h=s||l?"opacity-50 cursor-not-allowed":"",f=`${c} ${u[r]} ${d[o]} ${h} ${a}`;return i.jsxs("button",{type:n,onClick:t,disabled:s||l,className:f,children:[l&&i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e]})},fn=g.forwardRef(({label:e,error:t,helperText:n,className:r="",...o},s)=>{const c=`block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${t?"border-red-300 focus:ring-red-500 focus:border-red-500":""} ${r}`;return i.jsxs("div",{children:[e&&i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),i.jsx("input",{ref:s,className:c,...o}),t&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),n&&!t&&i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})});fn.displayName="Input";const Jx=({onLogin:e,onSwitchToRegister:t,loading:n=!1,error:r})=>{const[o,s]=g.useState(""),[l,a]=g.useState(""),[c,u]=g.useState(""),d=async h=>{if(h.preventDefault(),u(""),!o.trim()){u("Username is required");return}if(!l){u("Password is required");return}try{await e(o.trim(),l)}catch{}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to EmbeddedChat"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",i.jsx("button",{type:"button",onClick:t,className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(fn,{label:"Username",type:"text",value:o,onChange:h=>s(h.target.value),placeholder:"Enter your username",required:!0}),i.jsx(fn,{label:"Password",type:"password",value:l,onChange:h=>a(h.target.value),placeholder:"Enter your password",required:!0})]}),(r||c)&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:i.jsx("p",{className:"text-sm text-red-600",children:r||c})}),i.jsx(tu,{type:"submit",variant:"primary",size:"lg",loading:n,className:"w-full",children:n?"Signing in...":"Sign in"})]})]})})},e1=({onRegister:e,onSwitchToLogin:t,loading:n=!1,error:r})=>{const[o,s]=g.useState({username:"",email:"",password:"",full_name:""}),[l,a]=g.useState(""),[c,u]=g.useState({}),d=()=>{const p={};return o.username.trim()?o.username.length<3&&(p.username="Username must be at least 3 characters"):p.username="Username is required",o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(p.email="Please enter a valid email address"):p.email="Email is required",o.password?o.password.length<8&&(p.password="Password must be at least 8 characters"):p.password="Password is required",o.password!==l&&(p.confirmPassword="Passwords do not match"),u(p),Object.keys(p).length===0},h=async p=>{if(p.preventDefault(),!!d())try{await e(o)}catch{}},f=(p,w)=>{s(x=>({...x,[p]:w})),c[p]&&u(x=>({...x,[p]:""}))};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",i.jsx("button",{type:"button",onClick:t,className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(fn,{label:"Username",type:"text",value:o.username,onChange:p=>f("username",p.target.value),placeholder:"Choose a username",error:c.username,required:!0}),i.jsx(fn,{label:"Email",type:"email",value:o.email,onChange:p=>f("email",p.target.value),placeholder:"Enter your email",error:c.email,required:!0}),i.jsx(fn,{label:"Full Name (Optional)",type:"text",value:o.full_name,onChange:p=>f("full_name",p.target.value),placeholder:"Enter your full name"}),i.jsx(fn,{label:"Password",type:"password",value:o.password,onChange:p=>f("password",p.target.value),placeholder:"Create a password",error:c.password,helperText:"Must be at least 8 characters",required:!0}),i.jsx(fn,{label:"Confirm Password",type:"password",value:l,onChange:p=>{a(p.target.value),c.confirmPassword&&u(w=>({...w,confirmPassword:""}))},placeholder:"Confirm your password",error:c.confirmPassword,required:!0})]}),r&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:i.jsx("p",{className:"text-sm text-red-600",children:r})}),i.jsx(tu,{type:"submit",variant:"primary",size:"lg",loading:n,className:"w-full",children:n?"Creating account...":"Create account"})]})]})})},t1=({message:e,type:t="info",duration:n=5e3,onClose:r})=>{g.useEffect(()=>{const a=setTimeout(()=>{r()},n);return()=>clearTimeout(a)},[n,r]);const o=()=>{const a="fixed top-4 right-4 z-50 max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5";switch(t){case"success":return`${a} border-l-4 border-green-400`;case"error":return`${a} border-l-4 border-red-400`;case"warning":return`${a} border-l-4 border-yellow-400`;case"info":default:return`${a} border-l-4 border-blue-400`}},s=()=>{switch(t){case"success":return"text-green-400";case"error":return"text-red-400";case"warning":return"text-yellow-400";case"info":default:return"text-blue-400"}},l=()=>{switch(t){case"success":return i.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return i.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return i.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":default:return i.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return i.jsxs("div",{className:o(),children:[i.jsx("div",{className:"flex-1 w-0 p-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:`flex-shrink-0 ${s()}`,children:l()}),i.jsx("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:i.jsx("p",{className:"text-sm font-medium text-gray-900",children:e})})]})}),i.jsx("div",{className:"flex border-l border-gray-200",children:i.jsx("button",{onClick:r,className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-gray-600 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Close"})})]})},n1=({onAuthSuccess:e})=>{const[t,n]=g.useState(!0),[r,o]=g.useState(!1),[s,l]=g.useState(""),[a,c]=g.useState("success"),{login:u,register:d,loading:h,error:f,clearError:p}=eu(),w=b=>{l(b),c("success"),o(!0)},x=b=>{l(b),c("error"),o(!0)},E=async(b,_)=>{try{p(),await u({username:b,password:_}),w("Welcome back! You have been logged in successfully."),e==null||e()}catch(S){const C=S instanceof Error?S.message:typeof S=="string"?S:"Login failed. Please try again.";x(C)}},m=async b=>{try{p(),await d(b),w("Account created successfully! Welcome to EmbeddedChat."),e==null||e()}catch(_){const S=_ instanceof Error?_.message:typeof _=="string"?_:"Registration failed. Please try again.";x(S)}},y=()=>{p(),n(!1)},v=()=>{p(),n(!0)};return i.jsxs(i.Fragment,{children:[t?i.jsx(Jx,{onLogin:E,onSwitchToRegister:y,loading:h,error:f||void 0}):i.jsx(e1,{onRegister:m,onSwitchToLogin:v,loading:h,error:f||void 0}),r&&i.jsx(t1,{message:s,type:a,onClose:()=>o(!1)})]})};function r1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const o1=g.forwardRef(r1);function s1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const l1=g.forwardRef(s1);function a1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const i1=g.forwardRef(a1);function c1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const Qh=g.forwardRef(c1);function u1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Ys=g.forwardRef(u1);function d1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const Jh=g.forwardRef(d1);function f1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const eg=g.forwardRef(f1);function h1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Id=g.forwardRef(h1);function g1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const tg=g.forwardRef(g1);function m1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const p1=g.forwardRef(m1);function y1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const x1=g.forwardRef(y1);function v1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"}))}const Wi=g.forwardRef(v1);function w1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nu=g.forwardRef(w1);function b1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const k1=g.forwardRef(b1);function N1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const Pd=g.forwardRef(N1);function S1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9.75 16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z"}))}const E1=g.forwardRef(S1);function _1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const j1=g.forwardRef(_1);function C1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Xs=g.forwardRef(C1);function $1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const M1=g.forwardRef($1);function T1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const L1=g.forwardRef(T1);function A1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const zd=g.forwardRef(A1);function R1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const D1=g.forwardRef(R1);function I1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const ng=g.forwardRef(I1);function P1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const z1=g.forwardRef(P1);function F1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const rg=g.forwardRef(F1);function O1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const W1=g.forwardRef(O1);function H1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const Hi=g.forwardRef(H1);function B1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Bo=g.forwardRef(B1);function U1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const V1=g.forwardRef(U1);function G1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const Y1=g.forwardRef(G1);function X1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Nl=g.forwardRef(X1);function Z1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const q1=g.forwardRef(Z1);function K1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const Bi=g.forwardRef(K1);function Q1({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const J1=g.forwardRef(Q1);function ev({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const tv=g.forwardRef(ev);function nv({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const og=g.forwardRef(nv),sg=g.createContext(void 0),zt=()=>{const e=g.useContext(sg);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},rv=({children:e})=>{const[t,n]=g.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),r=()=>{const s=t==="light"?"dark":"light";n(s),localStorage.setItem("theme",s)};g.useEffect(()=>{const s=document.documentElement;t==="dark"?s.classList.add("dark"):s.classList.remove("dark")},[t]);const o={theme:t,toggleTheme:r,isDark:t==="dark"};return i.jsx(sg.Provider,{value:o,children:e})},ro=({children:e,className:t="",hover:n=!0,onClick:r,gradient:o=!1})=>{const{isDark:s}=zt(),l=`
    rounded-xl border transition-all duration-300 ease-in-out
    ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}
    ${n?"hover:shadow-lg hover:scale-[1.02] hover:-translate-y-1":""}
    ${r?"cursor-pointer":""}
    ${o?s?"bg-gradient-to-br from-gray-800 to-gray-900":"bg-gradient-to-br from-white to-gray-50":""}
  `;return i.jsx("div",{className:`${l} ${t}`,onClick:r,children:e})},Ra="http://localhost:8000/api/v1";class ov{async fetchWithAuth(t,n={}){const r=localStorage.getItem("auth_token"),o=await fetch(`${Ra}${t}`,{...n,headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...n.headers}});if(!o.ok)throw new Error(`API Error: ${o.status}`);return o.json()}async getDashboardStats(){try{console.log("DashboardService: Fetching stats from",`${Ra}/dashboard/stats`);const t=await this.fetchWithAuth("/dashboard/stats");console.log("DashboardService: Raw API response:",t);const n={activeChats:t.active_chats||0,totalDocuments:t.total_documents||0,totalWorkflows:t.total_workflows||0,teamMembers:t.team_members||1,chatGrowth:t.chat_growth||"No data",documentGrowth:t.document_growth||"No data",workflowGrowth:t.workflow_growth||"No data",memberGrowth:t.member_growth||"No change"};return console.log("DashboardService: Converted stats:",n),n}catch(t){console.error("Failed to fetch dashboard stats:",t);const n={activeChats:0,totalDocuments:0,totalWorkflows:0,teamMembers:1,chatGrowth:"No data",documentGrowth:"No data",workflowGrowth:"No data",memberGrowth:"No change"};return console.log("DashboardService: Using fallback stats:",n),n}}async getRecentActivity(){try{console.log("DashboardService: Fetching activity from",`${Ra}/dashboard/activity`);const t=await this.fetchWithAuth("/dashboard/activity");return console.log("DashboardService: Activity response:",t),t}catch(t){return console.error("Failed to fetch recent activity:",t),console.log("DashboardService: Using empty activity array as fallback"),[]}}async getUserSessions(){try{return await this.fetchWithAuth("/chat/sessions")}catch(t){return console.error("Failed to fetch user sessions:",t),[]}}async getDocuments(){try{return await this.fetchWithAuth("/documents")}catch(t){return console.error("Failed to fetch documents:",t),[]}}}const Fd=new ov,lg=g.createContext(void 0),ag=()=>{const e=g.useContext(lg);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},sv=({children:e})=>{const[t,n]=g.useState([]),r=g.useCallback(l=>{const a=Math.random().toString(36).substring(2,9),c={...l,id:a};n(d=>[...d,c]);const u=l.duration??5e3;u>0&&setTimeout(()=>{o(a)},u)},[]),o=g.useCallback(l=>{n(a=>a.filter(c=>c.id!==l))},[]),s=g.useCallback(()=>{n([])},[]);return i.jsxs(lg.Provider,{value:{notifications:t,addNotification:r,removeNotification:o,clearAll:s},children:[e,i.jsx(lv,{})]})},lv=()=>{const{notifications:e,removeNotification:t}=ag(),{isDark:n}=zt(),r=s=>{const l="w-6 h-6";switch(s){case"success":return i.jsx(tg,{className:`${l} text-green-500`});case"error":return i.jsx(tv,{className:`${l} text-red-500`});case"warning":return i.jsx(ng,{className:`${l} text-yellow-500`});case"info":return i.jsx(W1,{className:`${l} text-blue-500`})}},o=s=>{switch(s){case"success":return"border-l-green-500";case"error":return"border-l-red-500";case"warning":return"border-l-yellow-500";case"info":return"border-l-blue-500"}};return e.length===0?null:i.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:e.map(s=>i.jsx("div",{className:`
            ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}
            border-l-4 ${o(s.type)} rounded-r-lg shadow-lg
            transform transition-all duration-300 ease-in-out
            animate-in slide-in-from-right-2
          `,children:i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:r(s.type)}),i.jsxs("div",{className:"ml-3 flex-1",children:[i.jsx("h3",{className:`text-sm font-medium ${n?"text-gray-100":"text-gray-900"}`,children:s.title}),s.message&&i.jsx("p",{className:`mt-1 text-sm ${n?"text-gray-300":"text-gray-600"}`,children:s.message}),s.action&&i.jsx("div",{className:"mt-2",children:i.jsx("button",{onClick:s.action.onClick,className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:s.action.label})})]}),i.jsx("button",{onClick:()=>t(s.id),className:"ml-4 inline-flex text-gray-400 hover:text-gray-600 focus:outline-none",children:i.jsx(og,{className:"w-5 h-5"})})]})})},s.id))})},Od=({user:e,onModuleChange:t=()=>{}})=>{const{isDark:n}=zt(),[r,o]=g.useState(null),[s,l]=g.useState([]),[a,c]=g.useState(!0);g.useEffect(()=>{(async()=>{if(!e){console.log("Dashboard: No user, setting loading to false"),c(!1);return}console.log("Dashboard: Fetching data for user:",e.username),c(!0);try{const[E,m]=await Promise.all([Fd.getDashboardStats(),Fd.getRecentActivity()]);console.log("Dashboard: Got stats data:",E),console.log("Dashboard: Got activity data:",m),o(E),l(m)}catch(E){console.error("Failed to fetch dashboard data:",E);const m={activeChats:0,totalDocuments:0,totalWorkflows:0,teamMembers:1,chatGrowth:"0%",documentGrowth:"0%",workflowGrowth:"0%",memberGrowth:"0%"};console.log("Dashboard: Using fallback data:",m),o(m),l([])}finally{c(!1)}})()},[e]);const u=x=>{const E=new Date(x),y=new Date().getTime()-E.getTime(),v=Math.floor(y/6e4),b=Math.floor(y/36e5),_=Math.floor(y/864e5);return v<1?"Just now":v<60?`${v} minutes ago`:b<24?`${b} hours ago`:`${_} days ago`},d=()=>r?[{title:"Active Chats",value:r.activeChats,change:r.chatGrowth||"No data",trend:r.chatGrowth&&r.chatGrowth.includes("+")?"up":r.chatGrowth&&r.chatGrowth.includes("-")?"down":"neutral",icon:Id,color:"blue"},{title:"Documents",value:r.totalDocuments,change:r.documentGrowth||"No data",trend:r.documentGrowth&&r.documentGrowth.includes("+")?"up":r.documentGrowth&&r.documentGrowth.includes("-")?"down":"neutral",icon:zd,color:"green"},{title:"Workflows",value:r.totalWorkflows,change:r.workflowGrowth||"No data",trend:r.workflowGrowth&&r.workflowGrowth.includes("+")?"up":r.workflowGrowth&&r.workflowGrowth.includes("-")?"down":"neutral",icon:Nl,color:"purple"},{title:"Team Members",value:r.teamMembers,change:r.memberGrowth||"No change",trend:r.memberGrowth&&r.memberGrowth.includes("+")?"up":r.memberGrowth&&r.memberGrowth.includes("-")?"down":"neutral",icon:J1,color:"orange"}]:[],h=[{id:"new-chat",title:"Start New Chat",description:"Begin a conversation with AI assistance",icon:Id,color:"blue",action:"chat"},{id:"upload-doc",title:"Upload Document",description:"Add new documents to your knowledge base",icon:zd,color:"green",action:"upload"},{id:"create-workflow",title:"Create Workflow",description:"Design automated processes",icon:Nl,color:"purple",action:"designer"},{id:"view-analytics",title:"View Analytics",description:"Check performance metrics and insights",icon:eg,color:"indigo",action:"analytics"}],{addNotification:f}=ag(),p=x=>({blue:"bg-blue-500 text-blue-100",green:"bg-green-500 text-green-100",purple:"bg-purple-500 text-purple-100",orange:"bg-orange-500 text-orange-100",indigo:"bg-indigo-500 text-indigo-100"})[x]||"bg-gray-500 text-gray-100",w=(x,E)=>{f({type:"info",title:`Opening ${E}`,message:"Redirecting to the selected module...",duration:2e3}),t(x)};return e?i.jsxs("div",{className:`h-full overflow-auto p-6 space-y-6 transition-colors duration-300 ${n?"bg-gray-900":"bg-gray-50"}`,children:[i.jsx(ro,{gradient:!0,className:"p-6 text-white bg-gradient-to-r from-blue-600 to-purple-600",children:i.jsxs("div",{className:"animate-fade-in",children:[i.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",(e==null?void 0:e.username)||"User","! 👋"]}),i.jsx("p",{className:"text-blue-100",children:"Here's what's happening with your EmbeddedChat workspace today."})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a?Array.from({length:4}).map((x,E)=>i.jsx(ro,{className:"p-6 animate-pulse",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:`h-4 rounded mb-2 ${n?"bg-gray-700":"bg-gray-200"}`}),i.jsx("div",{className:`h-8 rounded mb-2 ${n?"bg-gray-700":"bg-gray-200"}`}),i.jsx("div",{className:`h-4 rounded w-16 ${n?"bg-gray-700":"bg-gray-200"}`})]}),i.jsx("div",{className:`w-12 h-12 rounded-full ${n?"bg-gray-700":"bg-gray-200"}`})]})},E)):d().map((x,E)=>i.jsx(ro,{className:"p-6 animate-slide-up",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:`text-sm font-medium ${n?"text-gray-400":"text-gray-600"}`,children:x.title}),i.jsx("p",{className:`text-2xl font-bold mt-1 ${n?"text-gray-100":"text-gray-900"}`,children:x.value}),i.jsxs("div",{className:"flex items-center mt-2",children:[x.trend==="up"&&i.jsx(i1,{className:"w-4 h-4 text-green-500 mr-1"}),x.trend==="down"&&i.jsx(l1,{className:"w-4 h-4 text-red-500 mr-1"}),i.jsx("span",{className:`text-sm ${x.trend==="up"?"text-green-600":x.trend==="down"?"text-red-600":"text-gray-500"}`,children:x.change})]})]}),i.jsx("div",{className:`p-3 rounded-full ${p(x.color)} animate-bounce-subtle`,children:i.jsx(x.icon,{className:"w-6 h-6"})})]})},E))}),i.jsxs(ro,{className:"animate-slide-up",children:[i.jsxs("div",{className:`p-6 border-b ${n?"border-gray-700":"border-gray-200"}`,children:[i.jsx("h2",{className:`text-lg font-semibold ${n?"text-gray-100":"text-gray-900"}`,children:"Quick Actions"}),i.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:"Get started with common tasks"})]}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:h.map(x=>i.jsxs("div",{className:`group p-4 border rounded-lg transition-all cursor-pointer hover:scale-105 ${n?"border-gray-600 hover:border-gray-500 hover:shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,onClick:()=>w(x.action,x.title),children:[i.jsx("div",{className:`inline-flex p-3 rounded-lg ${p(x.color)} mb-3 group-hover:scale-110 transition-transform`,children:i.jsx(x.icon,{className:"w-6 h-6"})}),i.jsx("h3",{className:`font-medium transition-colors ${n?"text-gray-100 group-hover:text-blue-400":"text-gray-900 group-hover:text-blue-600"}`,children:x.title}),i.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:x.description})]},x.id))})})]}),i.jsxs(ro,{className:"animate-slide-up",children:[i.jsxs("div",{className:`p-6 border-b ${n?"border-gray-700":"border-gray-200"}`,children:[i.jsx("h2",{className:`text-lg font-semibold ${n?"text-gray-100":"text-gray-900"}`,children:"Recent Activity"}),i.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:"Latest updates from your workspace"})]}),i.jsx("div",{className:`divide-y ${n?"divide-gray-700":"divide-gray-200"}`,children:a?Array.from({length:3}).map((x,E)=>i.jsx("div",{className:"p-6 animate-pulse",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:`w-5 h-5 rounded-full ${n?"bg-gray-700":"bg-gray-200"}`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:`h-4 rounded mb-2 ${n?"bg-gray-700":"bg-gray-200"}`}),i.jsx("div",{className:`h-4 rounded mb-2 w-3/4 ${n?"bg-gray-700":"bg-gray-200"}`}),i.jsx("div",{className:`h-3 rounded w-20 ${n?"bg-gray-700":"bg-gray-200"}`})]})]})},E)):s.length>0?s.map(x=>i.jsx("div",{className:`p-6 transition-colors hover:${n?"bg-gray-700":"bg-gray-50"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:x.status==="success"?i.jsx(tg,{className:"w-5 h-5 text-green-500"}):x.status==="error"?i.jsx(ng,{className:"w-5 h-5 text-red-500"}):i.jsx(nu,{className:"w-5 h-5 text-gray-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:`text-sm font-medium ${n?"text-gray-100":"text-gray-900"}`,children:x.title}),i.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:x.description}),i.jsx("p",{className:"text-xs mt-2 text-gray-500",children:u(x.timestamp)})]})]})},x.id)):i.jsx("div",{className:"p-6 text-center",children:i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"No recent activity to display"})})}),i.jsx("div",{className:`p-6 border-t ${n?"border-gray-700 bg-gray-800":"border-gray-200 bg-gray-50"}`,children:i.jsx(tu,{variant:"ghost",className:"w-full justify-center",onClick:()=>t("analytics"),children:"View All Activity"})})]})]}):i.jsx("div",{className:`p-6 min-h-screen flex items-center justify-center transition-colors duration-300 ${n?"bg-gray-900":"bg-gray-50"}`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:`mt-4 ${n?"text-gray-300":"text-gray-600"}`,children:"Loading user data..."})]})})},av=({enabled:e,onChange:t,size:n="md",label:r,description:o})=>{const{isDark:s}=zt(),a={sm:{container:"w-8 h-4",circle:"w-3 h-3",translate:"translate-x-4"},md:{container:"w-11 h-6",circle:"w-5 h-5",translate:"translate-x-5"},lg:{container:"w-14 h-7",circle:"w-6 h-6",translate:"translate-x-7"}}[n];return i.jsxs("div",{className:"flex items-center justify-between",children:[(r||o)&&i.jsxs("div",{className:"flex-1 mr-4",children:[r&&i.jsx("div",{className:`text-sm font-medium ${s?"text-gray-200":"text-gray-900"}`,children:r}),o&&i.jsx("div",{className:`text-xs ${s?"text-gray-400":"text-gray-500"}`,children:o})]}),i.jsx("button",{type:"button",className:`
          relative inline-flex flex-shrink-0 ${a.container} 
          border-2 border-transparent rounded-full cursor-pointer 
          transition-colors ease-in-out duration-200 focus:outline-none 
          focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
          ${e?"bg-blue-600":s?"bg-gray-600":"bg-gray-200"}
        `,onClick:()=>t(!e),children:i.jsx("span",{className:`
            ${a.circle} pointer-events-none inline-block 
            rounded-full bg-white shadow transform ring-0 
            transition ease-in-out duration-200
            ${e?a.translate:"translate-x-0"}
          `})})]})};function Ie(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ie(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var ig={exports:{}},cg={},ug={exports:{}},dg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zr=g;function iv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cv=typeof Object.is=="function"?Object.is:iv,uv=zr.useState,dv=zr.useEffect,fv=zr.useLayoutEffect,hv=zr.useDebugValue;function gv(e,t){var n=t(),r=uv({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return fv(function(){o.value=n,o.getSnapshot=t,Da(o)&&s({inst:o})},[e,n,t]),dv(function(){return Da(o)&&s({inst:o}),e(function(){Da(o)&&s({inst:o})})},[e]),hv(n),n}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cv(e,n)}catch{return!0}}function mv(e,t){return t()}var pv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mv:gv;dg.useSyncExternalStore=zr.useSyncExternalStore!==void 0?zr.useSyncExternalStore:pv;ug.exports=dg;var yv=ug.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=g,xv=yv;function vv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wv=typeof Object.is=="function"?Object.is:vv,bv=xv.useSyncExternalStore,kv=Zl.useRef,Nv=Zl.useEffect,Sv=Zl.useMemo,Ev=Zl.useDebugValue;cg.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=kv(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=Sv(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),o!==void 0&&l.hasValue){var w=l.value;if(o(w,p))return h=w}return h=p}if(w=h,wv(d,p))return w;var x=r(p);return o!==void 0&&o(w,x)?(d=p,w):(d=p,h=x)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,o]);var a=bv(e,s[0],s[1]);return Nv(function(){l.hasValue=!0,l.value=a},[a]),Ev(a),a};ig.exports=cg;var _v=ig.exports;const jv=zf(_v),Cv={},Wd=e=>{let t;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const p=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(w=>w(t,p))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Cv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,c);return c},$v=e=>e?Wd(e):Wd,{useDebugValue:Mv}=O,{useSyncExternalStoreWithSelector:Tv}=jv,Lv=e=>e;function fg(e,t=Lv,n){const r=Tv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Mv(r),r}const Hd=(e,t)=>{const n=$v(e),r=(o,s=t)=>fg(n,o,s);return Object.assign(r,n),r},Av=(e,t)=>e?Hd(e,t):Hd;function Te(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Rv={value:()=>{}};function ql(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zs(n)}function Zs(e){this._=e}function Dv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Zs.prototype=ql.prototype={constructor:Zs,on:function(e,t){var n=this._,r=Dv(e+"",n),o,s=-1,l=r.length;if(arguments.length<2){for(;++s<l;)if((o=(e=r[s]).type)&&(o=Iv(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(o=(e=r[s]).type)n[o]=Bd(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Bd(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Zs(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function Iv(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Bd(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Rv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ui="http://www.w3.org/1999/xhtml";const Ud={svg:"http://www.w3.org/2000/svg",xhtml:Ui,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ud.hasOwnProperty(t)?{space:Ud[t],local:e}:e}function Pv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ui&&t.documentElement.namespaceURI===Ui?t.createElement(e):t.createElementNS(n,e)}}function zv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hg(e){var t=Kl(e);return(t.local?zv:Pv)(t)}function Fv(){}function ru(e){return e==null?Fv:function(){return this.querySelector(e)}}function Ov(e){typeof e!="function"&&(e=ru(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],l=s.length,a=r[o]=new Array(l),c,u,d=0;d<l;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),a[d]=u);return new lt(r,this._parents)}function Wv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Hv(){return[]}function gg(e){return e==null?Hv:function(){return this.querySelectorAll(e)}}function Bv(e){return function(){return Wv(e.apply(this,arguments))}}function Uv(e){typeof e=="function"?e=Bv(e):e=gg(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var l=t[s],a=l.length,c,u=0;u<a;++u)(c=l[u])&&(r.push(e.call(c,c.__data__,u,l)),o.push(c));return new lt(r,o)}function mg(e){return function(){return this.matches(e)}}function pg(e){return function(t){return t.matches(e)}}var Vv=Array.prototype.find;function Gv(e){return function(){return Vv.call(this.children,e)}}function Yv(){return this.firstElementChild}function Xv(e){return this.select(e==null?Yv:Gv(typeof e=="function"?e:pg(e)))}var Zv=Array.prototype.filter;function qv(){return Array.from(this.children)}function Kv(e){return function(){return Zv.call(this.children,e)}}function Qv(e){return this.selectAll(e==null?qv:Kv(typeof e=="function"?e:pg(e)))}function Jv(e){typeof e!="function"&&(e=mg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],l=s.length,a=r[o]=[],c,u=0;u<l;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&a.push(c);return new lt(r,this._parents)}function yg(e){return new Array(e.length)}function ew(){return new lt(this._enter||this._groups.map(yg),this._parents)}function Sl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Sl.prototype={constructor:Sl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function tw(e){return function(){return e}}function nw(e,t,n,r,o,s){for(var l=0,a,c=t.length,u=s.length;l<u;++l)(a=t[l])?(a.__data__=s[l],r[l]=a):n[l]=new Sl(e,s[l]);for(;l<c;++l)(a=t[l])&&(o[l]=a)}function rw(e,t,n,r,o,s,l){var a,c,u=new Map,d=t.length,h=s.length,f=new Array(d),p;for(a=0;a<d;++a)(c=t[a])&&(f[a]=p=l.call(c,c.__data__,a,t)+"",u.has(p)?o[a]=c:u.set(p,c));for(a=0;a<h;++a)p=l.call(e,s[a],a,s)+"",(c=u.get(p))?(r[a]=c,c.__data__=s[a],u.delete(p)):n[a]=new Sl(e,s[a]);for(a=0;a<d;++a)(c=t[a])&&u.get(f[a])===c&&(o[a]=c)}function ow(e){return e.__data__}function sw(e,t){if(!arguments.length)return Array.from(this,ow);var n=t?rw:nw,r=this._parents,o=this._groups;typeof e!="function"&&(e=tw(e));for(var s=o.length,l=new Array(s),a=new Array(s),c=new Array(s),u=0;u<s;++u){var d=r[u],h=o[u],f=h.length,p=lw(e.call(d,d&&d.__data__,u,r)),w=p.length,x=a[u]=new Array(w),E=l[u]=new Array(w),m=c[u]=new Array(f);n(d,h,x,E,m,p,t);for(var y=0,v=0,b,_;y<w;++y)if(b=x[y]){for(y>=v&&(v=y+1);!(_=E[v])&&++v<w;);b._next=_||null}}return l=new lt(l,r),l._enter=a,l._exit=c,l}function lw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aw(){return new lt(this._exit||this._groups.map(yg),this._parents)}function iw(e,t,n){var r=this.enter(),o=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function cw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,l=Math.min(o,s),a=new Array(o),c=0;c<l;++c)for(var u=n[c],d=r[c],h=u.length,f=a[c]=new Array(h),p,w=0;w<h;++w)(p=u[w]||d[w])&&(f[w]=p);for(;c<o;++c)a[c]=n[c];return new lt(a,this._parents)}function uw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,s=r[o],l;--o>=0;)(l=r[o])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function dw(e){e||(e=fw);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var l=n[s],a=l.length,c=o[s]=new Array(a),u,d=0;d<a;++d)(u=l[d])&&(c[d]=u);c.sort(t)}return new lt(o,this._parents).order()}function fw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function hw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function gw(){return Array.from(this)}function mw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var l=r[o];if(l)return l}return null}function pw(){let e=0;for(const t of this)++e;return e}function yw(){return!this.node()}function xw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,l=o.length,a;s<l;++s)(a=o[s])&&e.call(a,a.__data__,s,o);return this}function vw(e){return function(){this.removeAttribute(e)}}function ww(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bw(e,t){return function(){this.setAttribute(e,t)}}function kw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Nw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Sw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ew(e,t){var n=Kl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ww:vw:typeof t=="function"?n.local?Sw:Nw:n.local?kw:bw)(n,t))}function xg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _w(e){return function(){this.style.removeProperty(e)}}function jw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Cw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function $w(e,t,n){return arguments.length>1?this.each((t==null?_w:typeof t=="function"?Cw:jw)(e,t,n??"")):Fr(this.node(),e)}function Fr(e,t){return e.style.getPropertyValue(t)||xg(e).getComputedStyle(e,null).getPropertyValue(t)}function Mw(e){return function(){delete this[e]}}function Tw(e,t){return function(){this[e]=t}}function Lw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Aw(e,t){return arguments.length>1?this.each((t==null?Mw:typeof t=="function"?Lw:Tw)(e,t)):this.node()[e]}function vg(e){return e.trim().split(/^|\s+/)}function ou(e){return e.classList||new wg(e)}function wg(e){this._node=e,this._names=vg(e.getAttribute("class")||"")}wg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function bg(e,t){for(var n=ou(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function kg(e,t){for(var n=ou(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Rw(e){return function(){bg(this,e)}}function Dw(e){return function(){kg(this,e)}}function Iw(e,t){return function(){(t.apply(this,arguments)?bg:kg)(this,e)}}function Pw(e,t){var n=vg(e+"");if(arguments.length<2){for(var r=ou(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Iw:t?Rw:Dw)(n,t))}function zw(){this.textContent=""}function Fw(e){return function(){this.textContent=e}}function Ow(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ww(e){return arguments.length?this.each(e==null?zw:(typeof e=="function"?Ow:Fw)(e)):this.node().textContent}function Hw(){this.innerHTML=""}function Bw(e){return function(){this.innerHTML=e}}function Uw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Vw(e){return arguments.length?this.each(e==null?Hw:(typeof e=="function"?Uw:Bw)(e)):this.node().innerHTML}function Gw(){this.nextSibling&&this.parentNode.appendChild(this)}function Yw(){return this.each(Gw)}function Xw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zw(){return this.each(Xw)}function qw(e){var t=typeof e=="function"?e:hg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Kw(){return null}function Qw(e,t){var n=typeof e=="function"?e:hg(e),r=t==null?Kw:typeof t=="function"?t:ru(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Jw(){var e=this.parentNode;e&&e.removeChild(this)}function e2(){return this.each(Jw)}function t2(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n2(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function r2(e){return this.select(e?n2:t2)}function o2(e){return arguments.length?this.property("__data__",e):this.node().__data__}function s2(e){return function(t){e.call(this,t,this.__data__)}}function l2(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function a2(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function i2(e,t,n){return function(){var r=this.__on,o,s=s2(t);if(r){for(var l=0,a=r.length;l<a;++l)if((o=r[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(o):this.__on=[o]}}function c2(e,t,n){var r=l2(e+""),o,s=r.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,d;c<u;++c)for(o=0,d=a[c];o<s;++o)if((l=r[o]).type===d.type&&l.name===d.name)return d.value}return}for(a=t?i2:a2,o=0;o<s;++o)this.each(a(r[o],t,n));return this}function Ng(e,t,n){var r=xg(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function u2(e,t){return function(){return Ng(this,e,t)}}function d2(e,t){return function(){return Ng(this,e,t.apply(this,arguments))}}function f2(e,t){return this.each((typeof t=="function"?d2:u2)(e,t))}function*h2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length,l;o<s;++o)(l=r[o])&&(yield l)}var Sg=[null];function lt(e,t){this._groups=e,this._parents=t}function rs(){return new lt([[document.documentElement]],Sg)}function g2(){return this}lt.prototype=rs.prototype={constructor:lt,select:Ov,selectAll:Uv,selectChild:Xv,selectChildren:Qv,filter:Jv,data:sw,enter:ew,exit:aw,join:iw,merge:cw,selection:g2,order:uw,sort:dw,call:hw,nodes:gw,node:mw,size:pw,empty:yw,each:xw,attr:Ew,style:$w,property:Aw,classed:Pw,text:Ww,html:Vw,raise:Yw,lower:Zw,append:qw,insert:Qw,remove:e2,clone:r2,datum:o2,on:c2,dispatch:f2,[Symbol.iterator]:h2};function dt(e){return typeof e=="string"?new lt([[document.querySelector(e)]],[document.documentElement]):new lt([[e]],Sg)}function m2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Nt(e,t){if(e=m2(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const p2={passive:!1},Uo={capture:!0,passive:!1};function Ia(e){e.stopImmediatePropagation()}function Cr(e){e.preventDefault(),e.stopImmediatePropagation()}function Eg(e){var t=e.document.documentElement,n=dt(e).on("dragstart.drag",Cr,Uo);"onselectstart"in t?n.on("selectstart.drag",Cr,Uo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function _g(e,t){var n=e.document.documentElement,r=dt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Cr,Uo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ss=e=>()=>e;function Vi(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:s,x:l,y:a,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Vi.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function y2(e){return!e.ctrlKey&&!e.button}function x2(){return this.parentNode}function v2(e,t){return t??{x:e.x,y:e.y}}function w2(){return navigator.maxTouchPoints||"ontouchstart"in this}function b2(){var e=y2,t=x2,n=v2,r=w2,o={},s=ql("start","drag","end"),l=0,a,c,u,d,h=0;function f(b){b.on("mousedown.drag",p).filter(r).on("touchstart.drag",E).on("touchmove.drag",m,p2).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(b,_){if(!(d||!e.call(this,b,_))){var S=v(this,t.call(this,b,_),b,_,"mouse");S&&(dt(b.view).on("mousemove.drag",w,Uo).on("mouseup.drag",x,Uo),Eg(b.view),Ia(b),u=!1,a=b.clientX,c=b.clientY,S("start",b))}}function w(b){if(Cr(b),!u){var _=b.clientX-a,S=b.clientY-c;u=_*_+S*S>h}o.mouse("drag",b)}function x(b){dt(b.view).on("mousemove.drag mouseup.drag",null),_g(b.view,u),Cr(b),o.mouse("end",b)}function E(b,_){if(e.call(this,b,_)){var S=b.changedTouches,C=t.call(this,b,_),T=S.length,A,I;for(A=0;A<T;++A)(I=v(this,C,b,_,S[A].identifier,S[A]))&&(Ia(b),I("start",b,S[A]))}}function m(b){var _=b.changedTouches,S=_.length,C,T;for(C=0;C<S;++C)(T=o[_[C].identifier])&&(Cr(b),T("drag",b,_[C]))}function y(b){var _=b.changedTouches,S=_.length,C,T;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<S;++C)(T=o[_[C].identifier])&&(Ia(b),T("end",b,_[C]))}function v(b,_,S,C,T,A){var I=s.copy(),W=Nt(A||S,_),U,D,k;if((k=n.call(b,new Vi("beforestart",{sourceEvent:S,target:f,identifier:T,active:l,x:W[0],y:W[1],dx:0,dy:0,dispatch:I}),C))!=null)return U=k.x-W[0]||0,D=k.y-W[1]||0,function M(N,L,$){var j=W,R;switch(N){case"start":o[T]=M,R=l++;break;case"end":delete o[T],--l;case"drag":W=Nt($||L,_),R=l;break}I.call(N,b,new Vi(N,{sourceEvent:L,subject:k,target:f,identifier:T,active:R,x:W[0]+U,y:W[1]+D,dx:W[0]-j[0],dy:W[1]-j[1],dispatch:I}),C)}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Ss(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:Ss(b),f):t},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Ss(b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Ss(!!b),f):r},f.on=function(){var b=s.on.apply(s,arguments);return b===s?f:b},f.clickDistance=function(b){return arguments.length?(h=(b=+b)*b,f):Math.sqrt(h)},f}function su(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jg(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function os(){}var Vo=.7,El=1/Vo,$r="\\s*([+-]?\\d+)\\s*",Go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k2=/^#([0-9a-f]{3,8})$/,N2=new RegExp(`^rgb\\(${$r},${$r},${$r}\\)$`),S2=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),E2=new RegExp(`^rgba\\(${$r},${$r},${$r},${Go}\\)$`),_2=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${Go}\\)$`),j2=new RegExp(`^hsl\\(${Go},${Pt},${Pt}\\)$`),C2=new RegExp(`^hsla\\(${Go},${Pt},${Pt},${Go}\\)$`),Vd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};su(os,Yo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Gd,formatHex:Gd,formatHex8:$2,formatHsl:M2,formatRgb:Yd,toString:Yd});function Gd(){return this.rgb().formatHex()}function $2(){return this.rgb().formatHex8()}function M2(){return Cg(this).formatHsl()}function Yd(){return this.rgb().formatRgb()}function Yo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=k2.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Xd(t):n===3?new Ke(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Es(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Es(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=N2.exec(e))?new Ke(t[1],t[2],t[3],1):(t=S2.exec(e))?new Ke(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=E2.exec(e))?Es(t[1],t[2],t[3],t[4]):(t=_2.exec(e))?Es(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=j2.exec(e))?Kd(t[1],t[2]/100,t[3]/100,1):(t=C2.exec(e))?Kd(t[1],t[2]/100,t[3]/100,t[4]):Vd.hasOwnProperty(e)?Xd(Vd[e]):e==="transparent"?new Ke(NaN,NaN,NaN,0):null}function Xd(e){return new Ke(e>>16&255,e>>8&255,e&255,1)}function Es(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ke(e,t,n,r)}function T2(e){return e instanceof os||(e=Yo(e)),e?(e=e.rgb(),new Ke(e.r,e.g,e.b,e.opacity)):new Ke}function Gi(e,t,n,r){return arguments.length===1?T2(e):new Ke(e,t,n,r??1)}function Ke(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}su(Ke,Gi,jg(os,{brighter(e){return e=e==null?El:Math.pow(El,e),new Ke(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vo:Math.pow(Vo,e),new Ke(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ke(Gn(this.r),Gn(this.g),Gn(this.b),_l(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zd,formatHex:Zd,formatHex8:L2,formatRgb:qd,toString:qd}));function Zd(){return`#${Hn(this.r)}${Hn(this.g)}${Hn(this.b)}`}function L2(){return`#${Hn(this.r)}${Hn(this.g)}${Hn(this.b)}${Hn((isNaN(this.opacity)?1:this.opacity)*255)}`}function qd(){const e=_l(this.opacity);return`${e===1?"rgb(":"rgba("}${Gn(this.r)}, ${Gn(this.g)}, ${Gn(this.b)}${e===1?")":`, ${e})`}`}function _l(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Hn(e){return e=Gn(e),(e<16?"0":"")+e.toString(16)}function Kd(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Et(e,t,n,r)}function Cg(e){if(e instanceof Et)return new Et(e.h,e.s,e.l,e.opacity);if(e instanceof os||(e=Yo(e)),!e)return new Et;if(e instanceof Et)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,a=s-o,c=(s+o)/2;return a?(t===s?l=(n-r)/a+(n<r)*6:n===s?l=(r-t)/a+2:l=(t-n)/a+4,a/=c<.5?s+o:2-s-o,l*=60):a=c>0&&c<1?0:l,new Et(l,a,c,e.opacity)}function A2(e,t,n,r){return arguments.length===1?Cg(e):new Et(e,t,n,r??1)}function Et(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}su(Et,A2,jg(os,{brighter(e){return e=e==null?El:Math.pow(El,e),new Et(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vo:Math.pow(Vo,e),new Et(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ke(Pa(e>=240?e-240:e+120,o,r),Pa(e,o,r),Pa(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Et(Qd(this.h),_s(this.s),_s(this.l),_l(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_l(this.opacity);return`${e===1?"hsl(":"hsla("}${Qd(this.h)}, ${_s(this.s)*100}%, ${_s(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qd(e){return e=(e||0)%360,e<0?e+360:e}function _s(e){return Math.max(0,Math.min(1,e||0))}function Pa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $g=e=>()=>e;function R2(e,t){return function(n){return e+n*t}}function D2(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function I2(e){return(e=+e)==1?Mg:function(t,n){return n-t?D2(t,n,e):$g(isNaN(t)?n:t)}}function Mg(e,t){var n=t-e;return n?R2(e,n):$g(isNaN(e)?t:e)}const Jd=function e(t){var n=I2(t);function r(o,s){var l=n((o=Gi(o)).r,(s=Gi(s)).r),a=n(o.g,s.g),c=n(o.b,s.b),u=Mg(o.opacity,s.opacity);return function(d){return o.r=l(d),o.g=a(d),o.b=c(d),o.opacity=u(d),o+""}}return r.gamma=e,r}(1);function an(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,za=new RegExp(Yi.source,"g");function P2(e){return function(){return e}}function z2(e){return function(t){return e(t)+""}}function F2(e,t){var n=Yi.lastIndex=za.lastIndex=0,r,o,s,l=-1,a=[],c=[];for(e=e+"",t=t+"";(r=Yi.exec(e))&&(o=za.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),a[l]?a[l]+=s:a[++l]=s),(r=r[0])===(o=o[0])?a[l]?a[l]+=o:a[++l]=o:(a[++l]=null,c.push({i:l,x:an(r,o)})),n=za.lastIndex;return n<t.length&&(s=t.slice(n),a[l]?a[l]+=s:a[++l]=s),a.length<2?c[0]?z2(c[0].x):P2(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)a[(h=c[d]).i]=h.x(u);return a.join("")})}var ef=180/Math.PI,Xi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Tg(e,t,n,r,o,s){var l,a,c;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,l=-l),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*ef,skewX:Math.atan(c)*ef,scaleX:l,scaleY:a}}var js;function O2(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Xi:Tg(t.a,t.b,t.c,t.d,t.e,t.f)}function W2(e){return e==null||(js||(js=document.createElementNS("http://www.w3.org/2000/svg","g")),js.setAttribute("transform",e),!(e=js.transform.baseVal.consolidate()))?Xi:(e=e.matrix,Tg(e.a,e.b,e.c,e.d,e.e,e.f))}function Lg(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function s(u,d,h,f,p,w){if(u!==h||d!==f){var x=p.push("translate(",null,t,null,n);w.push({i:x-4,x:an(u,h)},{i:x-2,x:an(d,f)})}else(h||f)&&p.push("translate("+h+t+f+n)}function l(u,d,h,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:h.push(o(h)+"rotate(",null,r)-2,x:an(u,d)})):d&&h.push(o(h)+"rotate("+d+r)}function a(u,d,h,f){u!==d?f.push({i:h.push(o(h)+"skewX(",null,r)-2,x:an(u,d)}):d&&h.push(o(h)+"skewX("+d+r)}function c(u,d,h,f,p,w){if(u!==h||d!==f){var x=p.push(o(p)+"scale(",null,",",null,")");w.push({i:x-4,x:an(u,h)},{i:x-2,x:an(d,f)})}else(h!==1||f!==1)&&p.push(o(p)+"scale("+h+","+f+")")}return function(u,d){var h=[],f=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,h,f),l(u.rotate,d.rotate,h,f),a(u.skewX,d.skewX,h,f),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,f),u=d=null,function(p){for(var w=-1,x=f.length,E;++w<x;)h[(E=f[w]).i]=E.x(p);return h.join("")}}}var H2=Lg(O2,"px, ","px)","deg)"),B2=Lg(W2,", ",")",")"),U2=1e-12;function tf(e){return((e=Math.exp(e))+1/e)/2}function V2(e){return((e=Math.exp(e))-1/e)/2}function G2(e){return((e=Math.exp(2*e))-1)/(e+1)}const Y2=function e(t,n,r){function o(s,l){var a=s[0],c=s[1],u=s[2],d=l[0],h=l[1],f=l[2],p=d-a,w=h-c,x=p*p+w*w,E,m;if(x<U2)m=Math.log(f/u)/t,E=function(C){return[a+C*p,c+C*w,u*Math.exp(t*C*m)]};else{var y=Math.sqrt(x),v=(f*f-u*u+r*x)/(2*u*n*y),b=(f*f-u*u-r*x)/(2*f*n*y),_=Math.log(Math.sqrt(v*v+1)-v),S=Math.log(Math.sqrt(b*b+1)-b);m=(S-_)/t,E=function(C){var T=C*m,A=tf(_),I=u/(n*y)*(A*G2(t*T+_)-V2(_));return[a+I*p,c+I*w,u*A/tf(t*T+_)]}}return E.duration=m*1e3*t/Math.SQRT2,E}return o.rho=function(s){var l=Math.max(.001,+s),a=l*l,c=a*a;return e(l,a,c)},o}(Math.SQRT2,2,4);var Or=0,go=0,oo=0,Ag=1e3,jl,mo,Cl=0,Jn=0,Ql=0,Xo=typeof performance=="object"&&performance.now?performance:Date,Rg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function lu(){return Jn||(Rg(X2),Jn=Xo.now()+Ql)}function X2(){Jn=0}function $l(){this._call=this._time=this._next=null}$l.prototype=Dg.prototype={constructor:$l,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?lu():+n)+(t==null?0:+t),!this._next&&mo!==this&&(mo?mo._next=this:jl=this,mo=this),this._call=e,this._time=n,Zi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zi())}};function Dg(e,t,n){var r=new $l;return r.restart(e,t,n),r}function Z2(){lu(),++Or;for(var e=jl,t;e;)(t=Jn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Or}function nf(){Jn=(Cl=Xo.now())+Ql,Or=go=0;try{Z2()}finally{Or=0,K2(),Jn=0}}function q2(){var e=Xo.now(),t=e-Cl;t>Ag&&(Ql-=t,Cl=e)}function K2(){for(var e,t=jl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:jl=n);mo=e,Zi(r)}function Zi(e){if(!Or){go&&(go=clearTimeout(go));var t=e-Jn;t>24?(e<1/0&&(go=setTimeout(nf,e-Xo.now()-Ql)),oo&&(oo=clearInterval(oo))):(oo||(Cl=Xo.now(),oo=setInterval(q2,Ag)),Or=1,Rg(nf))}}function rf(e,t,n){var r=new $l;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Q2=ql("start","end","cancel","interrupt"),J2=[],Ig=0,of=1,qi=2,qs=3,sf=4,Ki=5,Ks=6;function Jl(e,t,n,r,o,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;e5(e,n,{name:t,index:r,group:o,on:Q2,tween:J2,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ig})}function au(e,t){var n=$t(e,t);if(n.state>Ig)throw new Error("too late; already scheduled");return n}function Ft(e,t){var n=$t(e,t);if(n.state>qs)throw new Error("too late; already running");return n}function $t(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function e5(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Dg(s,0,n.time);function s(u){n.state=of,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var d,h,f,p;if(n.state!==of)return c();for(d in r)if(p=r[d],p.name===n.name){if(p.state===qs)return rf(l);p.state===sf?(p.state=Ks,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[d]):+d<t&&(p.state=Ks,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[d])}if(rf(function(){n.state===qs&&(n.state=sf,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=qi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===qi){for(n.state=qs,o=new Array(f=n.tween.length),d=0,h=-1;d<f;++d)(p=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++h]=p);o.length=h+1}}function a(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Ki,1),h=-1,f=o.length;++h<f;)o[h].call(e,d);n.state===Ki&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Ks,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Qs(e,t){var n=e.__transition,r,o,s=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){s=!1;continue}o=r.state>qi&&r.state<Ki,r.state=Ks,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}s&&delete e.__transition}}function t5(e){return this.each(function(){Qs(this,e)})}function n5(e,t){var n,r;return function(){var o=Ft(this,e),s=o.tween;if(s!==n){r=n=s;for(var l=0,a=r.length;l<a;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}o.tween=r}}function r5(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=Ft(this,e),l=s.tween;if(l!==r){o=(r=l).slice();for(var a={name:t,value:n},c=0,u=o.length;c<u;++c)if(o[c].name===t){o[c]=a;break}c===u&&o.push(a)}s.tween=o}}function o5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=$t(this.node(),n).tween,o=0,s=r.length,l;o<s;++o)if((l=r[o]).name===e)return l.value;return null}return this.each((t==null?n5:r5)(n,e,t))}function iu(e,t,n){var r=e._id;return e.each(function(){var o=Ft(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return $t(o,r).value[t]}}function Pg(e,t){var n;return(typeof t=="number"?an:t instanceof Yo?Jd:(n=Yo(t))?(t=n,Jd):F2)(e,t)}function s5(e){return function(){this.removeAttribute(e)}}function l5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function a5(e,t,n){var r,o=n+"",s;return function(){var l=this.getAttribute(e);return l===o?null:l===r?s:s=t(r=l,n)}}function i5(e,t,n){var r,o=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===o?null:l===r?s:s=t(r=l,n)}}function c5(e,t,n){var r,o,s;return function(){var l,a=n(this),c;return a==null?void this.removeAttribute(e):(l=this.getAttribute(e),c=a+"",l===c?null:l===r&&c===o?s:(o=c,s=t(r=l,a)))}}function u5(e,t,n){var r,o,s;return function(){var l,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),c=a+"",l===c?null:l===r&&c===o?s:(o=c,s=t(r=l,a)))}}function d5(e,t){var n=Kl(e),r=n==="transform"?B2:Pg;return this.attrTween(e,typeof t=="function"?(n.local?u5:c5)(n,r,iu(this,"attr."+e,t)):t==null?(n.local?l5:s5)(n):(n.local?i5:a5)(n,r,t))}function f5(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function h5(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function g5(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&h5(e,s)),n}return o._value=t,o}function m5(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&f5(e,s)),n}return o._value=t,o}function p5(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Kl(e);return this.tween(n,(r.local?g5:m5)(r,t))}function y5(e,t){return function(){au(this,e).delay=+t.apply(this,arguments)}}function x5(e,t){return t=+t,function(){au(this,e).delay=t}}function v5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?y5:x5)(t,e)):$t(this.node(),t).delay}function w5(e,t){return function(){Ft(this,e).duration=+t.apply(this,arguments)}}function b5(e,t){return t=+t,function(){Ft(this,e).duration=t}}function k5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?w5:b5)(t,e)):$t(this.node(),t).duration}function N5(e,t){if(typeof t!="function")throw new Error;return function(){Ft(this,e).ease=t}}function S5(e){var t=this._id;return arguments.length?this.each(N5(t,e)):$t(this.node(),t).ease}function E5(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ft(this,e).ease=n}}function _5(e){if(typeof e!="function")throw new Error;return this.each(E5(this._id,e))}function j5(e){typeof e!="function"&&(e=mg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],l=s.length,a=r[o]=[],c,u=0;u<l;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&a.push(c);return new en(r,this._parents,this._name,this._id)}function C5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),l=new Array(r),a=0;a<s;++a)for(var c=t[a],u=n[a],d=c.length,h=l[a]=new Array(d),f,p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;a<r;++a)l[a]=t[a];return new en(l,this._parents,this._name,this._id)}function $5(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function M5(e,t,n){var r,o,s=$5(t)?au:Ft;return function(){var l=s(this,e),a=l.on;a!==r&&(o=(r=a).copy()).on(t,n),l.on=o}}function T5(e,t){var n=this._id;return arguments.length<2?$t(this.node(),n).on.on(e):this.each(M5(n,e,t))}function L5(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function A5(){return this.on("end.remove",L5(this._id))}function R5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ru(e));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var a=r[l],c=a.length,u=s[l]=new Array(c),d,h,f=0;f<c;++f)(d=a[f])&&(h=e.call(d,d.__data__,f,a))&&("__data__"in d&&(h.__data__=d.__data__),u[f]=h,Jl(u[f],t,n,f,u,$t(d,n)));return new en(s,this._parents,t,n)}function D5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gg(e));for(var r=this._groups,o=r.length,s=[],l=[],a=0;a<o;++a)for(var c=r[a],u=c.length,d,h=0;h<u;++h)if(d=c[h]){for(var f=e.call(d,d.__data__,h,c),p,w=$t(d,n),x=0,E=f.length;x<E;++x)(p=f[x])&&Jl(p,t,n,x,f,w);s.push(f),l.push(d)}return new en(s,l,t,n)}var I5=rs.prototype.constructor;function P5(){return new I5(this._groups,this._parents)}function z5(e,t){var n,r,o;return function(){var s=Fr(this,e),l=(this.style.removeProperty(e),Fr(this,e));return s===l?null:s===n&&l===r?o:o=t(n=s,r=l)}}function zg(e){return function(){this.style.removeProperty(e)}}function F5(e,t,n){var r,o=n+"",s;return function(){var l=Fr(this,e);return l===o?null:l===r?s:s=t(r=l,n)}}function O5(e,t,n){var r,o,s;return function(){var l=Fr(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),Fr(this,e))),l===c?null:l===r&&c===o?s:(o=c,s=t(r=l,a))}}function W5(e,t){var n,r,o,s="style."+t,l="end."+s,a;return function(){var c=Ft(this,e),u=c.on,d=c.value[s]==null?a||(a=zg(t)):void 0;(u!==n||o!==d)&&(r=(n=u).copy()).on(l,o=d),c.on=r}}function H5(e,t,n){var r=(e+="")=="transform"?H2:Pg;return t==null?this.styleTween(e,z5(e,r)).on("end.style."+e,zg(e)):typeof t=="function"?this.styleTween(e,O5(e,r,iu(this,"style."+e,t))).each(W5(this._id,e)):this.styleTween(e,F5(e,r,t),n).on("end.style."+e,null)}function B5(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function U5(e,t,n){var r,o;function s(){var l=t.apply(this,arguments);return l!==o&&(r=(o=l)&&B5(e,l,n)),r}return s._value=t,s}function V5(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,U5(e,t,n??""))}function G5(e){return function(){this.textContent=e}}function Y5(e){return function(){var t=e(this);this.textContent=t??""}}function X5(e){return this.tween("text",typeof e=="function"?Y5(iu(this,"text",e)):G5(e==null?"":e+""))}function Z5(e){return function(t){this.textContent=e.call(this,t)}}function q5(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Z5(o)),t}return r._value=e,r}function K5(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,q5(e))}function Q5(){for(var e=this._name,t=this._id,n=Fg(),r=this._groups,o=r.length,s=0;s<o;++s)for(var l=r[s],a=l.length,c,u=0;u<a;++u)if(c=l[u]){var d=$t(c,t);Jl(c,e,n,u,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new en(r,this._parents,e,n)}function J5(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,l){var a={value:l},c={value:function(){--o===0&&s()}};n.each(function(){var u=Ft(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),o===0&&s()})}var eb=0;function en(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Fg(){return++eb}var Wt=rs.prototype;en.prototype={constructor:en,select:R5,selectAll:D5,selectChild:Wt.selectChild,selectChildren:Wt.selectChildren,filter:j5,merge:C5,selection:P5,transition:Q5,call:Wt.call,nodes:Wt.nodes,node:Wt.node,size:Wt.size,empty:Wt.empty,each:Wt.each,on:T5,attr:d5,attrTween:p5,style:H5,styleTween:V5,text:X5,textTween:K5,remove:A5,tween:o5,delay:v5,duration:k5,ease:S5,easeVarying:_5,end:J5,[Symbol.iterator]:Wt[Symbol.iterator]};function tb(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var nb={time:null,delay:0,duration:250,ease:tb};function rb(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ob(e){var t,n;e instanceof en?(t=e._id,e=e._name):(t=Fg(),(n=nb).time=lu(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var l=r[s],a=l.length,c,u=0;u<a;++u)(c=l[u])&&Jl(c,e,t,u,l,n||rb(c,t));return new en(r,this._parents,e,t)}rs.prototype.interrupt=t5;rs.prototype.transition=ob;const Cs=e=>()=>e;function sb(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Gt(e,t,n){this.k=e,this.x=t,this.y=n}Gt.prototype={constructor:Gt,scale:function(e){return e===1?this:new Gt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xt=new Gt(1,0,0);Gt.prototype;function Fa(e){e.stopImmediatePropagation()}function so(e){e.preventDefault(),e.stopImmediatePropagation()}function lb(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ab(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function lf(){return this.__zoom||Xt}function ib(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function cb(){return navigator.maxTouchPoints||"ontouchstart"in this}function ub(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function Og(){var e=lb,t=ab,n=ub,r=ib,o=cb,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],a=250,c=Y2,u=ql("start","zoom","end"),d,h,f,p=500,w=150,x=0,E=10;function m(k){k.property("__zoom",lf).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",I).filter(o).on("touchstart.zoom",W).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(k,M,N,L){var $=k.selection?k.selection():k;$.property("__zoom",lf),k!==$?_(k,M,N,L):$.interrupt().each(function(){S(this,arguments).event(L).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},m.scaleBy=function(k,M,N,L){m.scaleTo(k,function(){var $=this.__zoom.k,j=typeof M=="function"?M.apply(this,arguments):M;return $*j},N,L)},m.scaleTo=function(k,M,N,L){m.transform(k,function(){var $=t.apply(this,arguments),j=this.__zoom,R=N==null?b($):typeof N=="function"?N.apply(this,arguments):N,F=j.invert(R),z=typeof M=="function"?M.apply(this,arguments):M;return n(v(y(j,z),R,F),$,l)},N,L)},m.translateBy=function(k,M,N,L){m.transform(k,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof N=="function"?N.apply(this,arguments):N),t.apply(this,arguments),l)},null,L)},m.translateTo=function(k,M,N,L,$){m.transform(k,function(){var j=t.apply(this,arguments),R=this.__zoom,F=L==null?b(j):typeof L=="function"?L.apply(this,arguments):L;return n(Xt.translate(F[0],F[1]).scale(R.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof N=="function"?-N.apply(this,arguments):-N),j,l)},L,$)};function y(k,M){return M=Math.max(s[0],Math.min(s[1],M)),M===k.k?k:new Gt(M,k.x,k.y)}function v(k,M,N){var L=M[0]-N[0]*k.k,$=M[1]-N[1]*k.k;return L===k.x&&$===k.y?k:new Gt(k.k,L,$)}function b(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function _(k,M,N,L){k.on("start.zoom",function(){S(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(L).end()}).tween("zoom",function(){var $=this,j=arguments,R=S($,j).event(L),F=t.apply($,j),z=N==null?b(F):typeof N=="function"?N.apply($,j):N,V=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),P=$.__zoom,Y=typeof M=="function"?M.apply($,j):M,H=c(P.invert(z).concat(V/P.k),Y.invert(z).concat(V/Y.k));return function(G){if(G===1)G=Y;else{var J=H(G),ee=V/J[2];G=new Gt(ee,z[0]-J[0]*ee,z[1]-J[1]*ee)}R.zoom(null,G)}})}function S(k,M,N){return!N&&k.__zooming||new C(k,M)}function C(k,M){this.that=k,this.args=M,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,M),this.taps=0}C.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,M){return this.mouse&&k!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var M=dt(this.that).datum();u.call(k,this.that,new sb(k,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),M)}};function T(k,...M){if(!e.apply(this,arguments))return;var N=S(this,M).event(k),L=this.__zoom,$=Math.max(s[0],Math.min(s[1],L.k*Math.pow(2,r.apply(this,arguments)))),j=Nt(k);if(N.wheel)(N.mouse[0][0]!==j[0]||N.mouse[0][1]!==j[1])&&(N.mouse[1]=L.invert(N.mouse[0]=j)),clearTimeout(N.wheel);else{if(L.k===$)return;N.mouse=[j,L.invert(j)],Qs(this),N.start()}so(k),N.wheel=setTimeout(R,w),N.zoom("mouse",n(v(y(L,$),N.mouse[0],N.mouse[1]),N.extent,l));function R(){N.wheel=null,N.end()}}function A(k,...M){if(f||!e.apply(this,arguments))return;var N=k.currentTarget,L=S(this,M,!0).event(k),$=dt(k.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",V,!0),j=Nt(k,N),R=k.clientX,F=k.clientY;Eg(k.view),Fa(k),L.mouse=[j,this.__zoom.invert(j)],Qs(this),L.start();function z(P){if(so(P),!L.moved){var Y=P.clientX-R,H=P.clientY-F;L.moved=Y*Y+H*H>x}L.event(P).zoom("mouse",n(v(L.that.__zoom,L.mouse[0]=Nt(P,N),L.mouse[1]),L.extent,l))}function V(P){$.on("mousemove.zoom mouseup.zoom",null),_g(P.view,L.moved),so(P),L.event(P).end()}}function I(k,...M){if(e.apply(this,arguments)){var N=this.__zoom,L=Nt(k.changedTouches?k.changedTouches[0]:k,this),$=N.invert(L),j=N.k*(k.shiftKey?.5:2),R=n(v(y(N,j),L,$),t.apply(this,M),l);so(k),a>0?dt(this).transition().duration(a).call(_,R,L,k):dt(this).call(m.transform,R,L,k)}}function W(k,...M){if(e.apply(this,arguments)){var N=k.touches,L=N.length,$=S(this,M,k.changedTouches.length===L).event(k),j,R,F,z;for(Fa(k),R=0;R<L;++R)F=N[R],z=Nt(F,this),z=[z,this.__zoom.invert(z),F.identifier],$.touch0?!$.touch1&&$.touch0[2]!==z[2]&&($.touch1=z,$.taps=0):($.touch0=z,j=!0,$.taps=1+!!d);d&&(d=clearTimeout(d)),j&&($.taps<2&&(h=z[0],d=setTimeout(function(){d=null},p)),Qs(this),$.start())}}function U(k,...M){if(this.__zooming){var N=S(this,M).event(k),L=k.changedTouches,$=L.length,j,R,F,z;for(so(k),j=0;j<$;++j)R=L[j],F=Nt(R,this),N.touch0&&N.touch0[2]===R.identifier?N.touch0[0]=F:N.touch1&&N.touch1[2]===R.identifier&&(N.touch1[0]=F);if(R=N.that.__zoom,N.touch1){var V=N.touch0[0],P=N.touch0[1],Y=N.touch1[0],H=N.touch1[1],G=(G=Y[0]-V[0])*G+(G=Y[1]-V[1])*G,J=(J=H[0]-P[0])*J+(J=H[1]-P[1])*J;R=y(R,Math.sqrt(G/J)),F=[(V[0]+Y[0])/2,(V[1]+Y[1])/2],z=[(P[0]+H[0])/2,(P[1]+H[1])/2]}else if(N.touch0)F=N.touch0[0],z=N.touch0[1];else return;N.zoom("touch",n(v(R,F,z),N.extent,l))}}function D(k,...M){if(this.__zooming){var N=S(this,M).event(k),L=k.changedTouches,$=L.length,j,R;for(Fa(k),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),j=0;j<$;++j)R=L[j],N.touch0&&N.touch0[2]===R.identifier?delete N.touch0:N.touch1&&N.touch1[2]===R.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(R=Nt(R,this),Math.hypot(h[0]-R[0],h[1]-R[1])<E)){var F=dt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return m.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:Cs(+k),m):r},m.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Cs(!!k),m):e},m.touchable=function(k){return arguments.length?(o=typeof k=="function"?k:Cs(!!k),m):o},m.extent=function(k){return arguments.length?(t=typeof k=="function"?k:Cs([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),m):t},m.scaleExtent=function(k){return arguments.length?(s[0]=+k[0],s[1]=+k[1],m):[s[0],s[1]]},m.translateExtent=function(k){return arguments.length?(l[0][0]=+k[0][0],l[1][0]=+k[1][0],l[0][1]=+k[0][1],l[1][1]=+k[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(k){return arguments.length?(n=k,m):n},m.duration=function(k){return arguments.length?(a=+k,m):a},m.interpolate=function(k){return arguments.length?(c=k,m):c},m.on=function(){var k=u.on.apply(u,arguments);return k===u?m:k},m.clickDistance=function(k){return arguments.length?(x=(k=+k)*k,m):Math.sqrt(x)},m.tapDistance=function(k){return arguments.length?(E=+k,m):E},m}const ea=g.createContext(null),db=ea.Provider,tn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Wg=tn.error001();function fe(e,t){const n=g.useContext(ea);if(n===null)throw new Error(Wg);return fg(n,e,t)}const Ce=()=>{const e=g.useContext(ea);if(e===null)throw new Error(Wg);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},fb=e=>e.userSelectionActive?"none":"all";function cu({position:e,children:t,className:n,style:r,...o}){const s=fe(fb),l=`${e}`.split("-");return O.createElement("div",{className:Ie(["react-flow__panel",n,...l]),style:{...r,pointerEvents:s},...o},t)}function hb({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:O.createElement(cu,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},O.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const gb=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:s={},labelBgPadding:l=[2,4],labelBgBorderRadius:a=2,children:c,className:u,...d})=>{const h=g.useRef(null),[f,p]=g.useState({x:0,y:0,width:0,height:0}),w=Ie(["react-flow__edge-textwrapper",u]);return g.useEffect(()=>{if(h.current){const x=h.current.getBBox();p({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:O.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:w,visibility:f.width?"visible":"hidden",...d},o&&O.createElement("rect",{width:f.width+2*l[0],x:-l[0],y:-l[1],height:f.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),O.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:h,style:r},n),c)};var mb=g.memo(gb);const uu=e=>({width:e.offsetWidth,height:e.offsetHeight}),Wr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),du=(e={x:0,y:0},t)=>({x:Wr(e.x,t[0][0],t[1][0]),y:Wr(e.y,t[0][1],t[1][1])}),af=(e,t,n)=>e<t?Wr(Math.abs(e-t),1,50)/50:e>n?-Wr(Math.abs(e-n),1,50)/50:0,Hg=(e,t)=>{const n=af(e.x,35,t.width-35)*20,r=af(e.y,35,t.height-35)*20;return[n,r]},Bg=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Ug=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Zo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Vg=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),cf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),pb=(e,t)=>Vg(Ug(Zo(e),Zo(t))),Qi=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},yb=e=>ht(e.width)&&ht(e.height)&&ht(e.x)&&ht(e.y),ht=e=>!isNaN(e)&&isFinite(e),ke=Symbol.for("internals"),Gg=["Enter"," ","Escape"],xb=(e,t)=>{},vb=e=>"nativeEvent"in e;function Ji(e){var o,s;const t=vb(e)?e.nativeEvent:e,n=((s=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Yg=e=>"clientX"in e,Sn=(e,t)=>{var s,l;const n=Yg(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,o=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Ml=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},ss=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:p=20})=>O.createElement(O.Fragment,null,O.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:f}),p&&O.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),o&&ht(n)&&ht(r)?O.createElement(mb,{x:n,y:r,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u}):null);ss.displayName="BaseEdge";function lo(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(s=>s.id===e);o&&n(r,{...o})}}function Xg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,l=Math.abs(r-t)/2,a=r<t?r+l:r-l;return[s,a,o,l]}function Zg({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:l,targetControlY:a}){const c=e*.125+o*.375+l*.375+n*.125,u=t*.125+s*.375+a*.375+r*.125,d=Math.abs(c-e),h=Math.abs(u-t);return[c,u,d,h]}var jn;(function(e){e.Strict="strict",e.Loose="loose"})(jn||(jn={}));var Bn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Bn||(Bn={}));var qo;(function(e){e.Partial="partial",e.Full="full"})(qo||(qo={}));var hn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(hn||(hn={}));var Tl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Tl||(Tl={}));var Q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Q||(Q={}));function uf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Q.Left||e===Q.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function qg({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:o,targetPosition:s=Q.Top}){const[l,a]=uf({pos:n,x1:e,y1:t,x2:r,y2:o}),[c,u]=uf({pos:s,x1:r,y1:o,x2:e,y2:t}),[d,h,f,p]=Zg({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:c,targetControlY:u});return[`M${e},${t} C${l},${a} ${c},${u} ${r},${o}`,d,h,f,p]}const fu=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Q.Bottom,targetPosition:s=Q.Top,label:l,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:w,interactionWidth:x})=>{const[E,m,y]=qg({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s});return O.createElement(ss,{path:E,labelX:m,labelY:y,label:l,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:w,interactionWidth:x})});fu.displayName="SimpleBezierEdge";const df={[Q.Left]:{x:-1,y:0},[Q.Right]:{x:1,y:0},[Q.Top]:{x:0,y:-1},[Q.Bottom]:{x:0,y:1}},wb=({source:e,sourcePosition:t=Q.Bottom,target:n})=>t===Q.Left||t===Q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},ff=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function bb({source:e,sourcePosition:t=Q.Bottom,target:n,targetPosition:r=Q.Top,center:o,offset:s}){const l=df[t],a=df[r],c={x:e.x+l.x*s,y:e.y+l.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},d=wb({source:c,sourcePosition:t,target:u}),h=d.x!==0?"x":"y",f=d[h];let p=[],w,x;const E={x:0,y:0},m={x:0,y:0},[y,v,b,_]=Xg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[h]*a[h]===-1){w=o.x??y,x=o.y??v;const C=[{x:w,y:c.y},{x:w,y:u.y}],T=[{x:c.x,y:x},{x:u.x,y:x}];l[h]===f?p=h==="x"?C:T:p=h==="x"?T:C}else{const C=[{x:c.x,y:u.y}],T=[{x:u.x,y:c.y}];if(h==="x"?p=l.x===f?T:C:p=l.y===f?C:T,t===r){const D=Math.abs(e[h]-n[h]);if(D<=s){const k=Math.min(s-1,s-D);l[h]===f?E[h]=(c[h]>e[h]?-1:1)*k:m[h]=(u[h]>n[h]?-1:1)*k}}if(t!==r){const D=h==="x"?"y":"x",k=l[h]===a[D],M=c[D]>u[D],N=c[D]<u[D];(l[h]===1&&(!k&&M||k&&N)||l[h]!==1&&(!k&&N||k&&M))&&(p=h==="x"?C:T)}const A={x:c.x+E.x,y:c.y+E.y},I={x:u.x+m.x,y:u.y+m.y},W=Math.max(Math.abs(A.x-p[0].x),Math.abs(I.x-p[0].x)),U=Math.max(Math.abs(A.y-p[0].y),Math.abs(I.y-p[0].y));W>=U?(w=(A.x+I.x)/2,x=p[0].y):(w=p[0].x,x=(A.y+I.y)/2)}return[[e,{x:c.x+E.x,y:c.y+E.y},...p,{x:u.x+m.x,y:u.y+m.y},n],w,x,b,_]}function kb(e,t,n,r){const o=Math.min(ff(e,t)/2,ff(t,n)/2,r),{x:s,y:l}=t;if(e.x===s&&s===n.x||e.y===l&&l===n.y)return`L${s} ${l}`;if(e.y===l){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${s+o*u},${l}Q ${s},${l} ${s},${l+o*d}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${s},${l+o*c}Q ${s},${l} ${s+o*a},${l}`}function ec({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:o,targetPosition:s=Q.Top,borderRadius:l=5,centerX:a,centerY:c,offset:u=20}){const[d,h,f,p,w]=bb({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:s,center:{x:a,y:c},offset:u});return[d.reduce((E,m,y)=>{let v="";return y>0&&y<d.length-1?v=kb(d[y-1],m,d[y+1],l):v=`${y===0?"M":"L"}${m.x} ${m.y}`,E+=v,E},""),h,f,p,w]}const ta=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:h=Q.Bottom,targetPosition:f=Q.Top,markerEnd:p,markerStart:w,pathOptions:x,interactionWidth:E})=>{const[m,y,v]=ec({sourceX:e,sourceY:t,sourcePosition:h,targetX:n,targetY:r,targetPosition:f,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return O.createElement(ss,{path:m,labelX:y,labelY:v,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:w,interactionWidth:E})});ta.displayName="SmoothStepEdge";const hu=g.memo(e=>{var t;return O.createElement(ta,{...e,pathOptions:g.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});hu.displayName="StepEdge";function Nb({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,s,l,a]=Xg({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,s,l,a]}const gu=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:p})=>{const[w,x,E]=Nb({sourceX:e,sourceY:t,targetX:n,targetY:r});return O.createElement(ss,{path:w,labelX:x,labelY:E,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:p})});gu.displayName="StraightEdge";function $s(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function hf({pos:e,x1:t,y1:n,x2:r,y2:o,c:s}){switch(e){case Q.Left:return[t-$s(t-r,s),n];case Q.Right:return[t+$s(r-t,s),n];case Q.Top:return[t,n-$s(n-o,s)];case Q.Bottom:return[t,n+$s(o-n,s)]}}function Kg({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:o,targetPosition:s=Q.Top,curvature:l=.25}){const[a,c]=hf({pos:n,x1:e,y1:t,x2:r,y2:o,c:l}),[u,d]=hf({pos:s,x1:r,y1:o,x2:e,y2:t,c:l}),[h,f,p,w]=Zg({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${a},${c} ${u},${d} ${r},${o}`,h,f,p,w]}const Ll=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Q.Bottom,targetPosition:s=Q.Top,label:l,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:w,pathOptions:x,interactionWidth:E})=>{const[m,y,v]=Kg({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s,curvature:x==null?void 0:x.curvature});return O.createElement(ss,{path:m,labelX:y,labelY:v,label:l,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:w,interactionWidth:E})});Ll.displayName="BezierEdge";const mu=g.createContext(null),Sb=mu.Provider;mu.Consumer;const Eb=()=>g.useContext(mu),_b=e=>"id"in e&&"source"in e&&"target"in e,jb=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,tc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,Cb=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),pu=(e,t)=>{if(!e.source||!e.target)return t;let n;return _b(e)?n={...e}:n={...e,id:jb(e)},Cb(n,t)?t:t.concat(n)},nc=({x:e,y:t},[n,r,o],s,[l,a])=>{const c={x:(e-n)/o,y:(t-r)/o};return s?{x:l*Math.round(c.x/l),y:a*Math.round(c.y/a)}:c},Qg=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),Yn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},na=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:s,y:l}=Yn(o,t).positionAbsolute;return Ug(r,Zo({x:s,y:l,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Vg(n)},Jg=(e,t,[n,r,o]=[0,0,1],s=!1,l=!1,a=[0,0])=>{const c={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(d=>{const{width:h,height:f,selectable:p=!0,hidden:w=!1}=d;if(l&&!p||w)return!1;const{positionAbsolute:x}=Yn(d,a),E={x:x.x,y:x.y,width:h||0,height:f||0},m=Qi(c,E),y=typeof h>"u"||typeof f>"u"||h===null||f===null,v=s&&m>0,b=(h||0)*(f||0);(y||v||m>=b||d.dragging)&&u.push(d)}),u},em=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},tm=(e,t,n,r,o,s=.1)=>{const l=t/(e.width*(1+s)),a=n/(e.height*(1+s)),c=Math.min(l,a),u=Wr(c,r,o),d=e.x+e.width/2,h=e.y+e.height/2,f=t/2-d*u,p=n/2-h*u;return{x:f,y:p,zoom:u}},zn=(e,t=0)=>e.transition().duration(t);function gf(e,t,n,r){return(t[n]||[]).reduce((o,s)=>{var l,a;return`${e.id}-${s.id}-${n}`!==r&&o.push({id:s.id||null,type:n,nodeId:e.id,x:(((l=e.positionAbsolute)==null?void 0:l.x)??0)+s.x+s.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),o},[])}function $b(e,t,n,r,o,s){const{x:l,y:a}=Sn(e),u=t.elementsFromPoint(l,a).find(w=>w.classList.contains("react-flow__handle"));if(u){const w=u.getAttribute("data-nodeid");if(w){const x=yu(void 0,u),E=u.getAttribute("data-handleid"),m=s({nodeId:w,id:E,type:x});if(m){const y=o.find(v=>v.nodeId===w&&v.type===x&&v.id===E);return{handle:{id:E,type:x,nodeId:w,x:(y==null?void 0:y.x)||n.x,y:(y==null?void 0:y.y)||n.y},validHandleResult:m}}}}let d=[],h=1/0;if(o.forEach(w=>{const x=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(x<=r){const E=s(w);x<=h&&(x<h?d=[{handle:w,validHandleResult:E}]:x===h&&d.push({handle:w,validHandleResult:E}),h=x)}}),!d.length)return{handle:null,validHandleResult:nm()};if(d.length===1)return d[0];const f=d.some(({validHandleResult:w})=>w.isValid),p=d.some(({handle:w})=>w.type==="target");return d.find(({handle:w,validHandleResult:x})=>p?w.type==="target":f?x.isValid:!0)||d[0]}const Mb={source:null,target:null,sourceHandle:null,targetHandle:null},nm=()=>({handleDomNode:null,isValid:!1,connection:Mb,endHandle:null});function rm(e,t,n,r,o,s,l){const a=o==="target",c=l.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...nm(),handleDomNode:c};if(c){const d=yu(void 0,c),h=c.getAttribute("data-nodeid"),f=c.getAttribute("data-handleid"),p=c.classList.contains("connectable"),w=c.classList.contains("connectableend"),x={source:a?h:n,sourceHandle:a?f:r,target:a?n:h,targetHandle:a?r:f};u.connection=x,p&&w&&(t===jn.Strict?a&&d==="source"||!a&&d==="target":h!==n||f!==r)&&(u.endHandle={nodeId:h,handleId:f,type:d},u.isValid=s(x))}return u}function Tb({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,s)=>{if(s[ke]){const{handleBounds:l}=s[ke];let a=[],c=[];l&&(a=gf(s,l,"source",`${t}-${n}-${r}`),c=gf(s,l,"target",`${t}-${n}-${r}`)),o.push(...a,...c)}return o},[])}function yu(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Oa(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Lb(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function om({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:s,setState:l,isValidConnection:a,edgeUpdaterType:c,onReconnectEnd:u}){const d=Bg(e.target),{connectionMode:h,domNode:f,autoPanOnConnect:p,connectionRadius:w,onConnectStart:x,panBy:E,getNodes:m,cancelConnection:y}=s();let v=0,b;const{x:_,y:S}=Sn(e),C=d==null?void 0:d.elementFromPoint(_,S),T=yu(c,C),A=f==null?void 0:f.getBoundingClientRect();if(!A||!T)return;let I,W=Sn(e,A),U=!1,D=null,k=!1,M=null;const N=Tb({nodes:m(),nodeId:n,handleId:t,handleType:T}),L=()=>{if(!p)return;const[R,F]=Hg(W,A);E({x:R,y:F}),v=requestAnimationFrame(L)};l({connectionPosition:W,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:T,connectionStartHandle:{nodeId:n,handleId:t,type:T},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:T});function $(R){const{transform:F}=s();W=Sn(R,A);const{handle:z,validHandleResult:V}=$b(R,d,nc(W,F,!1,[1,1]),w,N,P=>rm(P,h,n,t,o?"target":"source",a,d));if(b=z,U||(L(),U=!0),M=V.handleDomNode,D=V.connection,k=V.isValid,l({connectionPosition:b&&k?Qg({x:b.x,y:b.y},F):W,connectionStatus:Lb(!!b,k),connectionEndHandle:V.endHandle}),!b&&!k&&!M)return Oa(I);D.source!==D.target&&M&&(Oa(I),I=M,M.classList.add("connecting","react-flow__handle-connecting"),M.classList.toggle("valid",k),M.classList.toggle("react-flow__handle-valid",k))}function j(R){var F,z;(b||M)&&D&&k&&(r==null||r(D)),(z=(F=s()).onConnectEnd)==null||z.call(F,R),c&&(u==null||u(R)),Oa(I),y(),cancelAnimationFrame(v),U=!1,k=!1,D=null,M=null,d.removeEventListener("mousemove",$),d.removeEventListener("mouseup",j),d.removeEventListener("touchmove",$),d.removeEventListener("touchend",j)}d.addEventListener("mousemove",$),d.addEventListener("mouseup",j),d.addEventListener("touchmove",$),d.addEventListener("touchend",j)}const mf=()=>!0,Ab=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Rb=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:s,connectionClickStartHandle:l}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.handleId)===t&&(l==null?void 0:l.type)===n}},sm=g.forwardRef(({type:e="source",position:t=Q.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:l,onConnect:a,children:c,className:u,onMouseDown:d,onTouchStart:h,...f},p)=>{var A,I;const w=l||null,x=e==="target",E=Ce(),m=Eb(),{connectOnClick:y,noPanClassName:v}=fe(Ab,Te),{connecting:b,clickConnecting:_}=fe(Rb(m,w,e),Te);m||(I=(A=E.getState()).onError)==null||I.call(A,"010",tn.error010());const S=W=>{const{defaultEdgeOptions:U,onConnect:D,hasDefaultEdges:k}=E.getState(),M={...U,...W};if(k){const{edges:N,setEdges:L}=E.getState();L(pu(M,N))}D==null||D(M),a==null||a(M)},C=W=>{if(!m)return;const U=Yg(W);o&&(U&&W.button===0||!U)&&om({event:W,handleId:w,nodeId:m,onConnect:S,isTarget:x,getState:E.getState,setState:E.setState,isValidConnection:n||E.getState().isValidConnection||mf}),U?d==null||d(W):h==null||h(W)},T=W=>{const{onClickConnectStart:U,onClickConnectEnd:D,connectionClickStartHandle:k,connectionMode:M,isValidConnection:N}=E.getState();if(!m||!k&&!o)return;if(!k){U==null||U(W,{nodeId:m,handleId:w,handleType:e}),E.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:w}});return}const L=Bg(W.target),$=n||N||mf,{connection:j,isValid:R}=rm({nodeId:m,id:w,type:e},M,k.nodeId,k.handleId||null,k.type,$,L);R&&S(j),D==null||D(W),E.setState({connectionClickStartHandle:null})};return O.createElement("div",{"data-handleid":w,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${w}-${e}`,className:Ie(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",v,u,{source:!x,target:x,connectable:r,connectablestart:o,connectableend:s,connecting:_,connectionindicator:r&&(o&&!b||s&&b)}]),onMouseDown:C,onTouchStart:C,onClick:y?T:void 0,ref:p,...f},c)});sm.displayName="Handle";var Hr=g.memo(sm);const lm=({data:e,isConnectable:t,targetPosition:n=Q.Top,sourcePosition:r=Q.Bottom})=>O.createElement(O.Fragment,null,O.createElement(Hr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,O.createElement(Hr,{type:"source",position:r,isConnectable:t}));lm.displayName="DefaultNode";var rc=g.memo(lm);const am=({data:e,isConnectable:t,sourcePosition:n=Q.Bottom})=>O.createElement(O.Fragment,null,e==null?void 0:e.label,O.createElement(Hr,{type:"source",position:n,isConnectable:t}));am.displayName="InputNode";var im=g.memo(am);const cm=({data:e,isConnectable:t,targetPosition:n=Q.Top})=>O.createElement(O.Fragment,null,O.createElement(Hr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);cm.displayName="OutputNode";var um=g.memo(cm);const xu=()=>null;xu.displayName="GroupNode";const Db=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Ms=e=>e.id;function Ib(e,t){return Te(e.selectedNodes.map(Ms),t.selectedNodes.map(Ms))&&Te(e.selectedEdges.map(Ms),t.selectedEdges.map(Ms))}const dm=g.memo(({onSelectionChange:e})=>{const t=Ce(),{selectedNodes:n,selectedEdges:r}=fe(Db,Ib);return g.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(s=>s(o))},[n,r,e]),null});dm.displayName="SelectionListener";const Pb=e=>!!e.onSelectionChange;function zb({onSelectionChange:e}){const t=fe(Pb);return e||t?O.createElement(dm,{onSelectionChange:e}):null}const Fb=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function sr(e,t){g.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function re(e,t,n){g.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const Ob=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:s,onConnectEnd:l,onClickConnectStart:a,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:h,edgesFocusable:f,edgesUpdatable:p,elevateNodesOnSelect:w,minZoom:x,maxZoom:E,nodeExtent:m,onNodesChange:y,onEdgesChange:v,elementsSelectable:b,connectionMode:_,snapGrid:S,snapToGrid:C,translateExtent:T,connectOnClick:A,defaultEdgeOptions:I,fitView:W,fitViewOptions:U,onNodesDelete:D,onEdgesDelete:k,onNodeDrag:M,onNodeDragStart:N,onNodeDragStop:L,onSelectionDrag:$,onSelectionDragStart:j,onSelectionDragStop:R,noPanClassName:F,nodeOrigin:z,rfId:V,autoPanOnConnect:P,autoPanOnNodeDrag:Y,onError:H,connectionRadius:G,isValidConnection:J,nodeDragThreshold:ee})=>{const{setNodes:te,setEdges:X,setDefaultNodesAndEdges:ne,setMinZoom:Se,setMaxZoom:me,setTranslateExtent:ye,setNodeExtent:Ue,reset:ae}=fe(Fb,Te),K=Ce();return g.useEffect(()=>{const Le=r==null?void 0:r.map(q=>({...q,...I}));return ne(n,Le),()=>{ae()}},[]),re("defaultEdgeOptions",I,K.setState),re("connectionMode",_,K.setState),re("onConnect",o,K.setState),re("onConnectStart",s,K.setState),re("onConnectEnd",l,K.setState),re("onClickConnectStart",a,K.setState),re("onClickConnectEnd",c,K.setState),re("nodesDraggable",u,K.setState),re("nodesConnectable",d,K.setState),re("nodesFocusable",h,K.setState),re("edgesFocusable",f,K.setState),re("edgesUpdatable",p,K.setState),re("elementsSelectable",b,K.setState),re("elevateNodesOnSelect",w,K.setState),re("snapToGrid",C,K.setState),re("snapGrid",S,K.setState),re("onNodesChange",y,K.setState),re("onEdgesChange",v,K.setState),re("connectOnClick",A,K.setState),re("fitViewOnInit",W,K.setState),re("fitViewOnInitOptions",U,K.setState),re("onNodesDelete",D,K.setState),re("onEdgesDelete",k,K.setState),re("onNodeDrag",M,K.setState),re("onNodeDragStart",N,K.setState),re("onNodeDragStop",L,K.setState),re("onSelectionDrag",$,K.setState),re("onSelectionDragStart",j,K.setState),re("onSelectionDragStop",R,K.setState),re("noPanClassName",F,K.setState),re("nodeOrigin",z,K.setState),re("rfId",V,K.setState),re("autoPanOnConnect",P,K.setState),re("autoPanOnNodeDrag",Y,K.setState),re("onError",H,K.setState),re("connectionRadius",G,K.setState),re("isValidConnection",J,K.setState),re("nodeDragThreshold",ee,K.setState),sr(e,te),sr(t,X),sr(x,Se),sr(E,me),sr(T,ye),sr(m,Ue),null},pf={display:"none"},Wb={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fm="react-flow__node-desc",hm="react-flow__edge-desc",Hb="react-flow__aria-live",Bb=e=>e.ariaLiveMessage;function Ub({rfId:e}){const t=fe(Bb);return O.createElement("div",{id:`${Hb}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Wb},t)}function Vb({rfId:e,disableKeyboardA11y:t}){return O.createElement(O.Fragment,null,O.createElement("div",{id:`${fm}-${e}`,style:pf},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),O.createElement("div",{id:`${hm}-${e}`,style:pf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&O.createElement(Ub,{rfId:e}))}var Ko=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=g.useState(!1),o=g.useRef(!1),s=g.useRef(new Set([])),[l,a]=g.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=u.reduce((h,f)=>h.concat(...f),[]);return[u,d]}return[[],[]]},[e]);return g.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=p=>{if(o.current=p.ctrlKey||p.metaKey||p.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Ji(p))return!1;const x=xf(p.code,a);s.current.add(p[x]),yf(l,s.current,!1)&&(p.preventDefault(),r(!0))},h=p=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Ji(p))return!1;const x=xf(p.code,a);yf(l,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(p[x]),p.key==="Meta"&&s.current.clear(),o.current=!1},f=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",h),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",h),window.removeEventListener("blur",f)}}},[e,r]),n};function yf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function xf(e,t){return t.includes(e)?"code":"key"}function gm(e,t,n,r){var a,c;const o=e.parentNode||e.parentId;if(!o)return n;const s=t.get(o),l=Yn(s,r);return gm(s,t,{x:(n.x??0)+l.x,y:(n.y??0)+l.y,z:(((a=s[ke])==null?void 0:a.z)??0)>(n.z??0)?((c=s[ke])==null?void 0:c.z)??0:n.z??0},r)}function mm(e,t,n){e.forEach(r=>{var s;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:l,y:a,z:c}=gm(r,e,{...r.position,z:((s=r[ke])==null?void 0:s.z)??0},t);r.positionAbsolute={x:l,y:a},r[ke].z=c,n!=null&&n[r.id]&&(r[ke].isParent=!0)}})}function Wa(e,t,n,r){const o=new Map,s={},l=r?1e3:0;return e.forEach(a=>{var p;const c=(ht(a.zIndex)?a.zIndex:0)+(a.selected?l:0),u=t.get(a.id),d={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},h=a.parentNode||a.parentId;h&&(s[h]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(d,ke,{enumerable:!1,value:{handleBounds:f||(p=u==null?void 0:u[ke])==null?void 0:p.handleBounds,z:c}}),o.set(a.id,d)}),mm(o,n,s),o}function pm(e,t={}){const{getNodes:n,width:r,height:o,minZoom:s,maxZoom:l,d3Zoom:a,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:h}=e(),f=t.initial&&!u&&d;if(a&&c&&(f||!t.initial)){const w=n().filter(E=>{var y;const m=t.includeHiddenNodes?E.width&&E.height:!E.hidden;return(y=t.nodes)!=null&&y.length?m&&t.nodes.some(v=>v.id===E.id):m}),x=w.every(E=>E.width&&E.height);if(w.length>0&&x){const E=na(w,h),{x:m,y,zoom:v}=tm(E,r,o,t.minZoom??s,t.maxZoom??l,t.padding??.1),b=Xt.translate(m,y).scale(v);return typeof t.duration=="number"&&t.duration>0?a.transform(zn(c,t.duration),b):a.transform(c,b),!0}}return!1}function Gb(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[ke]:r[ke],selected:n.selected})}),new Map(t)}function Yb(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Ts({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:s,onNodesChange:l,onEdgesChange:a,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:Gb(e,o)}),l==null||l(e)),t!=null&&t.length&&(u&&r({edges:Yb(t,s)}),a==null||a(t))}const lr=()=>{},Xb={zoomIn:lr,zoomOut:lr,zoomTo:lr,getZoom:()=>1,setViewport:lr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:lr,fitBounds:lr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Zb=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),qb=()=>{const e=Ce(),{d3Zoom:t,d3Selection:n}=fe(Zb,Te);return g.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(zn(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(zn(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,s)=>t.scaleTo(zn(n,s==null?void 0:s.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,s)=>{const[l,a,c]=e.getState().transform,u=Xt.translate(o.x??l,o.y??a).scale(o.zoom??c);t.transform(zn(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[o,s,l]=e.getState().transform;return{x:o,y:s,zoom:l}},fitView:o=>pm(e.getState,o),setCenter:(o,s,l)=>{const{width:a,height:c,maxZoom:u}=e.getState(),d=typeof(l==null?void 0:l.zoom)<"u"?l.zoom:u,h=a/2-o*d,f=c/2-s*d,p=Xt.translate(h,f).scale(d);t.transform(zn(n,l==null?void 0:l.duration),p)},fitBounds:(o,s)=>{const{width:l,height:a,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:h,zoom:f}=tm(o,l,a,c,u,(s==null?void 0:s.padding)??.1),p=Xt.translate(d,h).scale(f);t.transform(zn(n,s==null?void 0:s.duration),p)},project:o=>{const{transform:s,snapToGrid:l,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),nc(o,s,l,a)},screenToFlowPosition:o=>{const{transform:s,snapToGrid:l,snapGrid:a,domNode:c}=e.getState();if(!c)return o;const{x:u,y:d}=c.getBoundingClientRect(),h={x:o.x-u,y:o.y-d};return nc(h,s,l,a)},flowToScreenPosition:o=>{const{transform:s,domNode:l}=e.getState();if(!l)return o;const{x:a,y:c}=l.getBoundingClientRect(),u=Qg(o,s);return{x:u.x+a,y:u.y+c}},viewportInitialized:!0}:Xb,[t,n])};function vu(){const e=qb(),t=Ce(),n=g.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=g.useCallback(x=>t.getState().nodeInternals.get(x),[]),o=g.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(E=>({...E}))},[]),s=g.useCallback(x=>{const{edges:E=[]}=t.getState();return E.find(m=>m.id===x)},[]),l=g.useCallback(x=>{const{getNodes:E,setNodes:m,hasDefaultNodes:y,onNodesChange:v}=t.getState(),b=E(),_=typeof x=="function"?x(b):x;if(y)m(_);else if(v){const S=_.length===0?b.map(C=>({type:"remove",id:C.id})):_.map(C=>({item:C,type:"reset"}));v(S)}},[]),a=g.useCallback(x=>{const{edges:E=[],setEdges:m,hasDefaultEdges:y,onEdgesChange:v}=t.getState(),b=typeof x=="function"?x(E):x;if(y)m(b);else if(v){const _=b.length===0?E.map(S=>({type:"remove",id:S.id})):b.map(S=>({item:S,type:"reset"}));v(_)}},[]),c=g.useCallback(x=>{const E=Array.isArray(x)?x:[x],{getNodes:m,setNodes:y,hasDefaultNodes:v,onNodesChange:b}=t.getState();if(v){const S=[...m(),...E];y(S)}else if(b){const _=E.map(S=>({item:S,type:"add"}));b(_)}},[]),u=g.useCallback(x=>{const E=Array.isArray(x)?x:[x],{edges:m=[],setEdges:y,hasDefaultEdges:v,onEdgesChange:b}=t.getState();if(v)y([...m,...E]);else if(b){const _=E.map(S=>({item:S,type:"add"}));b(_)}},[]),d=g.useCallback(()=>{const{getNodes:x,edges:E=[],transform:m}=t.getState(),[y,v,b]=m;return{nodes:x().map(_=>({..._})),edges:E.map(_=>({..._})),viewport:{x:y,y:v,zoom:b}}},[]),h=g.useCallback(({nodes:x,edges:E})=>{const{nodeInternals:m,getNodes:y,edges:v,hasDefaultNodes:b,hasDefaultEdges:_,onNodesDelete:S,onEdgesDelete:C,onNodesChange:T,onEdgesChange:A}=t.getState(),I=(x||[]).map(M=>M.id),W=(E||[]).map(M=>M.id),U=y().reduce((M,N)=>{const L=N.parentNode||N.parentId,$=!I.includes(N.id)&&L&&M.find(R=>R.id===L);return(typeof N.deletable=="boolean"?N.deletable:!0)&&(I.includes(N.id)||$)&&M.push(N),M},[]),D=v.filter(M=>typeof M.deletable=="boolean"?M.deletable:!0),k=D.filter(M=>W.includes(M.id));if(U||k){const M=em(U,D),N=[...k,...M],L=N.reduce(($,j)=>($.includes(j.id)||$.push(j.id),$),[]);if((_||b)&&(_&&t.setState({edges:v.filter($=>!L.includes($.id))}),b&&(U.forEach($=>{m.delete($.id)}),t.setState({nodeInternals:new Map(m)}))),L.length>0&&(C==null||C(N),A&&A(L.map($=>({id:$,type:"remove"})))),U.length>0&&(S==null||S(U),T)){const $=U.map(j=>({id:j.id,type:"remove"}));T($)}}},[]),f=g.useCallback(x=>{const E=yb(x),m=E?null:t.getState().nodeInternals.get(x.id);return!E&&!m?[null,null,E]:[E?x:cf(m),m,E]},[]),p=g.useCallback((x,E=!0,m)=>{const[y,v,b]=f(x);return y?(m||t.getState().getNodes()).filter(_=>{if(!b&&(_.id===v.id||!_.positionAbsolute))return!1;const S=cf(_),C=Qi(S,y);return E&&C>0||C>=y.width*y.height}):[]},[]),w=g.useCallback((x,E,m=!0)=>{const[y]=f(x);if(!y)return!1;const v=Qi(y,E);return m&&v>0||v>=y.width*y.height},[]);return g.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:s,setNodes:l,setEdges:a,addNodes:c,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:p,isNodeIntersecting:w}),[e,n,r,o,s,l,a,c,u,d,h,p,w])}const Kb={actInsideInputWithModifier:!1};var Qb=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ce(),{deleteElements:r}=vu(),o=Ko(e,Kb),s=Ko(t);g.useEffect(()=>{if(o){const{edges:l,getNodes:a}=n.getState(),c=a().filter(d=>d.selected),u=l.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),g.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function Jb(e){const t=Ce();g.useEffect(()=>{let n;const r=()=>{var s,l;if(!e.current)return;const o=uu(e.current);(o.height===0||o.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",tn.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const wu={position:"absolute",width:"100%",height:"100%",top:0,left:0},ek=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ls=e=>({x:e.x,y:e.y,zoom:e.k}),ar=(e,t)=>e.target.closest(`.${t}`),vf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),wf=e=>{const t=e.ctrlKey&&Ml()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},tk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),nk=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:s=!0,panOnScroll:l=!1,panOnScrollSpeed:a=.5,panOnScrollMode:c=Bn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:f,translateExtent:p,minZoom:w,maxZoom:x,zoomActivationKeyCode:E,preventScrolling:m=!0,children:y,noWheelClassName:v,noPanClassName:b})=>{const _=g.useRef(),S=Ce(),C=g.useRef(!1),T=g.useRef(!1),A=g.useRef(null),I=g.useRef({x:0,y:0,zoom:0}),{d3Zoom:W,d3Selection:U,d3ZoomHandler:D,userSelectionActive:k}=fe(tk,Te),M=Ko(E),N=g.useRef(0),L=g.useRef(!1),$=g.useRef();return Jb(A),g.useEffect(()=>{if(A.current){const j=A.current.getBoundingClientRect(),R=Og().scaleExtent([w,x]).translateExtent(p),F=dt(A.current).call(R),z=Xt.translate(f.x,f.y).scale(Wr(f.zoom,w,x)),V=[[0,0],[j.width,j.height]],P=R.constrain()(z,V,p);R.transform(F,P),R.wheelDelta(wf),S.setState({d3Zoom:R,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[P.x,P.y,P.k],domNode:A.current.closest(".react-flow")})}},[]),g.useEffect(()=>{U&&W&&(l&&!M&&!k?U.on("wheel.zoom",j=>{if(ar(j,v))return!1;j.preventDefault(),j.stopImmediatePropagation();const R=U.property("__zoom").k||1;if(j.ctrlKey&&s){const J=Nt(j),ee=wf(j),te=R*Math.pow(2,ee);W.scaleTo(U,te,J,j);return}const F=j.deltaMode===1?20:1;let z=c===Bn.Vertical?0:j.deltaX*F,V=c===Bn.Horizontal?0:j.deltaY*F;!Ml()&&j.shiftKey&&c!==Bn.Vertical&&(z=j.deltaY*F,V=0),W.translateBy(U,-(z/R)*a,-(V/R)*a,{internal:!0});const P=Ls(U.property("__zoom")),{onViewportChangeStart:Y,onViewportChange:H,onViewportChangeEnd:G}=S.getState();clearTimeout($.current),L.current||(L.current=!0,t==null||t(j,P),Y==null||Y(P)),L.current&&(e==null||e(j,P),H==null||H(P),$.current=setTimeout(()=>{n==null||n(j,P),G==null||G(P),L.current=!1},150))},{passive:!1}):typeof D<"u"&&U.on("wheel.zoom",function(j,R){if(!m&&j.type==="wheel"&&!j.ctrlKey||ar(j,v))return null;j.preventDefault(),D.call(this,j,R)},{passive:!1}))},[k,l,c,U,W,D,M,s,m,v,t,e,n]),g.useEffect(()=>{W&&W.on("start",j=>{var z,V;if(!j.sourceEvent||j.sourceEvent.internal)return null;N.current=(z=j.sourceEvent)==null?void 0:z.button;const{onViewportChangeStart:R}=S.getState(),F=Ls(j.transform);C.current=!0,I.current=F,((V=j.sourceEvent)==null?void 0:V.type)==="mousedown"&&S.setState({paneDragging:!0}),R==null||R(F),t==null||t(j.sourceEvent,F)})},[W,t]),g.useEffect(()=>{W&&(k&&!C.current?W.on("zoom",null):k||W.on("zoom",j=>{var F;const{onViewportChange:R}=S.getState();if(S.setState({transform:[j.transform.x,j.transform.y,j.transform.k]}),T.current=!!(r&&vf(h,N.current??0)),(e||R)&&!((F=j.sourceEvent)!=null&&F.internal)){const z=Ls(j.transform);R==null||R(z),e==null||e(j.sourceEvent,z)}}))},[k,W,e,h,r]),g.useEffect(()=>{W&&W.on("end",j=>{if(!j.sourceEvent||j.sourceEvent.internal)return null;const{onViewportChangeEnd:R}=S.getState();if(C.current=!1,S.setState({paneDragging:!1}),r&&vf(h,N.current??0)&&!T.current&&r(j.sourceEvent),T.current=!1,(n||R)&&ek(I.current,j.transform)){const F=Ls(j.transform);I.current=F,clearTimeout(_.current),_.current=setTimeout(()=>{R==null||R(F),n==null||n(j.sourceEvent,F)},l?150:0)}})},[W,l,h,n,r]),g.useEffect(()=>{W&&W.filter(j=>{const R=M||o,F=s&&j.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&j.button===1&&j.type==="mousedown"&&(ar(j,"react-flow__node")||ar(j,"react-flow__edge")))return!0;if(!h&&!R&&!l&&!u&&!s||k||!u&&j.type==="dblclick"||ar(j,v)&&j.type==="wheel"||ar(j,b)&&(j.type!=="wheel"||l&&j.type==="wheel"&&!M)||!s&&j.ctrlKey&&j.type==="wheel"||!R&&!l&&!F&&j.type==="wheel"||!h&&(j.type==="mousedown"||j.type==="touchstart")||Array.isArray(h)&&!h.includes(j.button)&&j.type==="mousedown")return!1;const z=Array.isArray(h)&&h.includes(j.button)||!j.button||j.button<=1;return(!j.ctrlKey||j.type==="wheel")&&z})},[k,W,o,s,l,u,h,d,M]),O.createElement("div",{className:"react-flow__renderer",ref:A,style:wu},y)},rk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ok(){const{userSelectionActive:e,userSelectionRect:t}=fe(rk,Te);return e&&t?O.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function bf(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(o>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),s>0&&(r.style.height+=s),t.position.x<0){const l=Math.abs(t.position.x);r.position.x=r.position.x-l,r.style.width+=l,t.position.x=0}if(t.position.y<0){const l=Math.abs(t.position.y);r.position.y=r.position.y-l,r.style.height+=l,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function ym(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const s=e.filter(a=>a.id===o.id);if(s.length===0)return r.push(o),r;const l={...o};for(const a of s)if(a)switch(a.type){case"select":{l.selected=a.selected;break}case"position":{typeof a.position<"u"&&(l.position=a.position),typeof a.positionAbsolute<"u"&&(l.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(l.dragging=a.dragging),l.expandParent&&bf(r,l);break}case"dimensions":{typeof a.dimensions<"u"&&(l.width=a.dimensions.width,l.height=a.dimensions.height),typeof a.updateStyle<"u"&&(l.style={...l.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(l.resizing=a.resizing),l.expandParent&&bf(r,l);break}case"remove":return r}return r.push(l),r},n)}function xm(e,t){return ym(e,t)}function sk(e,t){return ym(e,t)}const cn=(e,t)=>({id:e,type:"select",selected:t});function br(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(cn(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(cn(r.id,!1))),n},[])}const Ha=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},lk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),vm=g.memo(({isSelecting:e,selectionMode:t=qo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:a,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:h})=>{const f=g.useRef(null),p=Ce(),w=g.useRef(0),x=g.useRef(0),E=g.useRef(),{userSelectionActive:m,elementsSelectable:y,dragging:v}=fe(lk,Te),b=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,x.current=0},_=D=>{s==null||s(D),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},S=D=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){D.preventDefault();return}l==null||l(D)},C=a?D=>a(D):void 0,T=D=>{const{resetSelectedElements:k,domNode:M}=p.getState();if(E.current=M==null?void 0:M.getBoundingClientRect(),!y||!e||D.button!==0||D.target!==f.current||!E.current)return;const{x:N,y:L}=Sn(D,E.current);k(),p.setState({userSelectionRect:{width:0,height:0,startX:N,startY:L,x:N,y:L}}),r==null||r(D)},A=D=>{const{userSelectionRect:k,nodeInternals:M,edges:N,transform:L,onNodesChange:$,onEdgesChange:j,nodeOrigin:R,getNodes:F}=p.getState();if(!e||!E.current||!k)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const z=Sn(D,E.current),V=k.startX??0,P=k.startY??0,Y={...k,x:z.x<V?z.x:V,y:z.y<P?z.y:P,width:Math.abs(z.x-V),height:Math.abs(z.y-P)},H=F(),G=Jg(M,Y,L,t===qo.Partial,!0,R),J=em(G,N).map(te=>te.id),ee=G.map(te=>te.id);if(w.current!==ee.length){w.current=ee.length;const te=br(H,ee);te.length&&($==null||$(te))}if(x.current!==J.length){x.current=J.length;const te=br(N,J);te.length&&(j==null||j(te))}p.setState({userSelectionRect:Y})},I=D=>{if(D.button!==0)return;const{userSelectionRect:k}=p.getState();!m&&k&&D.target===f.current&&(_==null||_(D)),p.setState({nodesSelectionActive:w.current>0}),b(),o==null||o(D)},W=D=>{m&&(p.setState({nodesSelectionActive:w.current>0}),o==null||o(D)),b()},U=y&&(e||m);return O.createElement("div",{className:Ie(["react-flow__pane",{dragging:v,selection:e}]),onClick:U?void 0:Ha(_,f),onContextMenu:Ha(S,f),onWheel:Ha(C,f),onMouseEnter:U?void 0:c,onMouseDown:U?T:void 0,onMouseMove:U?A:u,onMouseUp:U?I:void 0,onMouseLeave:U?W:d,ref:f,style:wu},h,O.createElement(ok,null))});vm.displayName="Pane";function wm(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:wm(r,t):!1}function kf(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function ak(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!wm(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var s,l;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=o.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((l=o.positionAbsolute)==null?void 0:l.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function ik(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function bm(e,t,n,r,o=[0,0],s){const l=ik(e,e.extent||r);let a=l;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const h=n.get(c),{x:f,y:p}=Yn(h,o).positionAbsolute;a=h&&ht(f)&&ht(p)&&ht(h.width)&&ht(h.height)?[[f+e.width*o[0],p+e.height*o[1]],[f+h.width-e.width+e.width*o[0],p+h.height-e.height+e.height*o[1]]]:a}else s==null||s("005",tn.error005()),a=l;else if(e.extent&&c&&e.extent!=="parent"){const h=n.get(c),{x:f,y:p}=Yn(h,o).positionAbsolute;a=[[e.extent[0][0]+f,e.extent[0][1]+p],[e.extent[1][0]+f,e.extent[1][1]+p]]}let u={x:0,y:0};if(c){const h=n.get(c);u=Yn(h,o).positionAbsolute}const d=a&&a!=="parent"?du(t,a):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Ba({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const Nf=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const s=Array.from(o),l=t.getBoundingClientRect(),a={x:l.width*r[0],y:l.height*r[1]};return s.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-l.left-a.x)/n,y:(u.top-l.top-a.y)/n,...uu(c)}})};function ao(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function oc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:l,nodeInternals:a,onError:c}=t.getState(),u=a.get(e);if(!u){c==null||c("012",tn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&l)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):o([e])}function ck(){const e=Ce();return g.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:s}=e.getState(),l=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,c={x:(l-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:s?o[0]*Math.round(c.x/o[0]):c.x,ySnapped:s?o[1]*Math.round(c.y/o[1]):c.y,...c}},[])}function Ua(e){return(t,n,r)=>e==null?void 0:e(t,r)}function km({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:s,selectNodesOnDrag:l}){const a=Ce(),[c,u]=g.useState(!1),d=g.useRef([]),h=g.useRef({x:null,y:null}),f=g.useRef(0),p=g.useRef(null),w=g.useRef({x:0,y:0}),x=g.useRef(null),E=g.useRef(!1),m=g.useRef(!1),y=g.useRef(!1),v=ck();return g.useEffect(()=>{if(e!=null&&e.current){const b=dt(e.current),_=({x:T,y:A})=>{const{nodeInternals:I,onNodeDrag:W,onSelectionDrag:U,updateNodePositions:D,nodeExtent:k,snapGrid:M,snapToGrid:N,nodeOrigin:L,onError:$}=a.getState();h.current={x:T,y:A};let j=!1,R={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&k){const z=na(d.current,L);R=Zo(z)}if(d.current=d.current.map(z=>{const V={x:T-z.distance.x,y:A-z.distance.y};N&&(V.x=M[0]*Math.round(V.x/M[0]),V.y=M[1]*Math.round(V.y/M[1]));const P=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];d.current.length>1&&k&&!z.extent&&(P[0][0]=z.positionAbsolute.x-R.x+k[0][0],P[1][0]=z.positionAbsolute.x+(z.width??0)-R.x2+k[1][0],P[0][1]=z.positionAbsolute.y-R.y+k[0][1],P[1][1]=z.positionAbsolute.y+(z.height??0)-R.y2+k[1][1]);const Y=bm(z,V,I,P,L,$);return j=j||z.position.x!==Y.position.x||z.position.y!==Y.position.y,z.position=Y.position,z.positionAbsolute=Y.positionAbsolute,z}),!j)return;D(d.current,!0,!0),u(!0);const F=o?W:Ua(U);if(F&&x.current){const[z,V]=Ba({nodeId:o,dragItems:d.current,nodeInternals:I});F(x.current,z,V)}},S=()=>{if(!p.current)return;const[T,A]=Hg(w.current,p.current);if(T!==0||A!==0){const{transform:I,panBy:W}=a.getState();h.current.x=(h.current.x??0)-T/I[2],h.current.y=(h.current.y??0)-A/I[2],W({x:T,y:A})&&_(h.current)}f.current=requestAnimationFrame(S)},C=T=>{var L;const{nodeInternals:A,multiSelectionActive:I,nodesDraggable:W,unselectNodesAndEdges:U,onNodeDragStart:D,onSelectionDragStart:k}=a.getState();m.current=!0;const M=o?D:Ua(k);(!l||!s)&&!I&&o&&((L=A.get(o))!=null&&L.selected||U()),o&&s&&l&&oc({id:o,store:a,nodeRef:e});const N=v(T);if(h.current=N,d.current=ak(A,W,N,o),M&&d.current){const[$,j]=Ba({nodeId:o,dragItems:d.current,nodeInternals:A});M(T.sourceEvent,$,j)}};if(t)b.on(".drag",null);else{const T=b2().on("start",A=>{const{domNode:I,nodeDragThreshold:W}=a.getState();W===0&&C(A),y.current=!1;const U=v(A);h.current=U,p.current=(I==null?void 0:I.getBoundingClientRect())||null,w.current=Sn(A.sourceEvent,p.current)}).on("drag",A=>{var D,k;const I=v(A),{autoPanOnNodeDrag:W,nodeDragThreshold:U}=a.getState();if(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!E.current&&m.current&&W&&(E.current=!0,S()),!m.current){const M=I.xSnapped-(((D=h==null?void 0:h.current)==null?void 0:D.x)??0),N=I.ySnapped-(((k=h==null?void 0:h.current)==null?void 0:k.y)??0);Math.sqrt(M*M+N*N)>U&&C(A)}(h.current.x!==I.xSnapped||h.current.y!==I.ySnapped)&&d.current&&m.current&&(x.current=A.sourceEvent,w.current=Sn(A.sourceEvent,p.current),_(I))}}).on("end",A=>{if(!(!m.current||y.current)&&(u(!1),E.current=!1,m.current=!1,cancelAnimationFrame(f.current),d.current)){const{updateNodePositions:I,nodeInternals:W,onNodeDragStop:U,onSelectionDragStop:D}=a.getState(),k=o?U:Ua(D);if(I(d.current,!1,!1),k){const[M,N]=Ba({nodeId:o,dragItems:d.current,nodeInternals:W});k(A.sourceEvent,M,N)}}}).filter(A=>{const I=A.target;return!A.button&&(!n||!kf(I,`.${n}`,e))&&(!r||kf(I,r,e))});return b.call(T),()=>{b.on(".drag",null)}}}},[e,t,n,r,s,a,o,l,v]),c}function Nm(){const e=Ce();return g.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:s,getNodes:l,snapToGrid:a,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),h=l().filter(y=>y.selected&&(y.draggable||d&&typeof y.draggable>"u")),f=a?c[0]:5,p=a?c[1]:5,w=n.isShiftPressed?4:1,x=n.x*f*w,E=n.y*p*w,m=h.map(y=>{if(y.positionAbsolute){const v={x:y.positionAbsolute.x+x,y:y.positionAbsolute.y+E};a&&(v.x=c[0]*Math.round(v.x/c[0]),v.y=c[1]*Math.round(v.y/c[1]));const{positionAbsolute:b,position:_}=bm(y,v,r,o,void 0,u);y.position=_,y.positionAbsolute=b}return y});s(m,!0,!1)},[])}const Mr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var io=e=>{const t=({id:n,type:r,data:o,xPos:s,yPos:l,xPosOrigin:a,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:h,onMouseMove:f,onMouseLeave:p,onContextMenu:w,onDoubleClick:x,style:E,className:m,isDraggable:y,isSelectable:v,isConnectable:b,isFocusable:_,selectNodesOnDrag:S,sourcePosition:C,targetPosition:T,hidden:A,resizeObserver:I,dragHandle:W,zIndex:U,isParent:D,noDragClassName:k,noPanClassName:M,initialized:N,disableKeyboardA11y:L,ariaLabel:$,rfId:j,hasHandleBounds:R})=>{const F=Ce(),z=g.useRef(null),V=g.useRef(null),P=g.useRef(C),Y=g.useRef(T),H=g.useRef(r),G=v||y||d||h||f||p,J=Nm(),ee=ao(n,F.getState,h),te=ao(n,F.getState,f),X=ao(n,F.getState,p),ne=ao(n,F.getState,w),Se=ao(n,F.getState,x),me=ae=>{const{nodeDragThreshold:K}=F.getState();if(v&&(!S||!y||K>0)&&oc({id:n,store:F,nodeRef:z}),d){const Le=F.getState().nodeInternals.get(n);Le&&d(ae,{...Le})}},ye=ae=>{if(!Ji(ae)&&!L)if(Gg.includes(ae.key)&&v){const K=ae.key==="Escape";oc({id:n,store:F,unselect:K,nodeRef:z})}else y&&u&&Object.prototype.hasOwnProperty.call(Mr,ae.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${ae.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~l}`}),J({x:Mr[ae.key].x,y:Mr[ae.key].y,isShiftPressed:ae.shiftKey}))};g.useEffect(()=>()=>{V.current&&(I==null||I.unobserve(V.current),V.current=null)},[]),g.useEffect(()=>{if(z.current&&!A){const ae=z.current;(!N||!R||V.current!==ae)&&(V.current&&(I==null||I.unobserve(V.current)),I==null||I.observe(ae),V.current=ae)}},[A,N,R]),g.useEffect(()=>{const ae=H.current!==r,K=P.current!==C,Le=Y.current!==T;z.current&&(ae||K||Le)&&(ae&&(H.current=r),K&&(P.current=C),Le&&(Y.current=T),F.getState().updateNodeDimensions([{id:n,nodeElement:z.current,forceUpdate:!0}]))},[n,r,C,T]);const Ue=km({nodeRef:z,disabled:A||!y,noDragClassName:k,handleSelector:W,nodeId:n,isSelectable:v,selectNodesOnDrag:S});return A?null:O.createElement("div",{className:Ie(["react-flow__node",`react-flow__node-${r}`,{[M]:y},m,{selected:u,selectable:v,parent:D,dragging:Ue}]),ref:z,style:{zIndex:U,transform:`translate(${a}px,${c}px)`,pointerEvents:G?"all":"none",visibility:N?"visible":"hidden",...E},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ee,onMouseMove:te,onMouseLeave:X,onContextMenu:ne,onClick:me,onDoubleClick:Se,onKeyDown:_?ye:void 0,tabIndex:_?0:void 0,role:_?"button":void 0,"aria-describedby":L?void 0:`${fm}-${j}`,"aria-label":$},O.createElement(Sb,{value:n},O.createElement(e,{id:n,data:o,type:r,xPos:s,yPos:l,selected:u,isConnectable:b,sourcePosition:C,targetPosition:T,dragging:Ue,dragHandle:W,zIndex:U})))};return t.displayName="NodeWrapper",g.memo(t)};const uk=e=>{const t=e.getNodes().filter(n=>n.selected);return{...na(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function dk({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ce(),{width:o,height:s,x:l,y:a,transformString:c,userSelectionActive:u}=fe(uk,Te),d=Nm(),h=g.useRef(null);if(g.useEffect(()=>{var w;n||(w=h.current)==null||w.focus({preventScroll:!0})},[n]),km({nodeRef:h}),u||!o||!s)return null;const f=e?w=>{const x=r.getState().getNodes().filter(E=>E.selected);e(w,x)}:void 0,p=w=>{Object.prototype.hasOwnProperty.call(Mr,w.key)&&d({x:Mr[w.key].x,y:Mr[w.key].y,isShiftPressed:w.shiftKey})};return O.createElement("div",{className:Ie(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},O.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:o,height:s,top:a,left:l}}))}var fk=g.memo(dk);const hk=e=>e.nodesSelectionActive,Sm=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:l,deleteKeyCode:a,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:f,selectionMode:p,onSelectionStart:w,onSelectionEnd:x,multiSelectionKeyCode:E,panActivationKeyCode:m,zoomActivationKeyCode:y,elementsSelectable:v,zoomOnScroll:b,zoomOnPinch:_,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:T,zoomOnDoubleClick:A,panOnDrag:I,defaultViewport:W,translateExtent:U,minZoom:D,maxZoom:k,preventScrolling:M,onSelectionContextMenu:N,noWheelClassName:L,noPanClassName:$,disableKeyboardA11y:j})=>{const R=fe(hk),F=Ko(h),z=Ko(m),V=z||I,P=z||S,Y=F||f&&V!==!0;return Qb({deleteKeyCode:a,multiSelectionKeyCode:E}),O.createElement(nk,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:s,elementsSelectable:v,zoomOnScroll:b,zoomOnPinch:_,panOnScroll:P,panOnScrollSpeed:C,panOnScrollMode:T,zoomOnDoubleClick:A,panOnDrag:!F&&V,defaultViewport:W,translateExtent:U,minZoom:D,maxZoom:k,zoomActivationKeyCode:y,preventScrolling:M,noWheelClassName:L,noPanClassName:$},O.createElement(vm,{onSelectionStart:w,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:V,isSelecting:!!Y,selectionMode:p},e,R&&O.createElement(fk,{onSelectionContextMenu:N,noPanClassName:$,disableKeyboardA11y:j})))};Sm.displayName="FlowRenderer";var gk=g.memo(Sm);function mk(e){return fe(g.useCallback(n=>e?Jg(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function pk(e){const t={input:io(e.input||im),default:io(e.default||rc),output:io(e.output||um),group:io(e.group||xu)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,s)=>(o[s]=io(e[s]||rc),o),n);return{...t,...r}}const yk=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},xk=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Em=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:s,onError:l}=fe(xk,Te),a=mk(e.onlyRenderVisibleElements),c=g.useRef(),u=g.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const f=h.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));s(f)});return c.current=d,d},[]);return g.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),O.createElement("div",{className:"react-flow__nodes",style:wu},a.map(d=>{var _,S,C;let h=d.type||"default";e.nodeTypes[h]||(l==null||l("003",tn.error003(h)),h="default");const f=e.nodeTypes[h]||e.nodeTypes.default,p=!!(d.draggable||t&&typeof d.draggable>"u"),w=!!(d.selectable||o&&typeof d.selectable>"u"),x=!!(d.connectable||n&&typeof d.connectable>"u"),E=!!(d.focusable||r&&typeof d.focusable>"u"),m=e.nodeExtent?du(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,y=(m==null?void 0:m.x)??0,v=(m==null?void 0:m.y)??0,b=yk({x:y,y:v,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return O.createElement(f,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||Q.Bottom,targetPosition:d.targetPosition||Q.Top,hidden:d.hidden,xPos:y,yPos:v,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:p,isSelectable:w,isConnectable:x,isFocusable:E,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((_=d[ke])==null?void 0:_.z)??0,isParent:!!((S=d[ke])!=null&&S.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((C=d[ke])!=null&&C.handleBounds)})}))};Em.displayName="NodeRenderer";var vk=g.memo(Em);const wk=(e,t,n)=>n===Q.Left?e-t:n===Q.Right?e+t:e,bk=(e,t,n)=>n===Q.Top?e-t:n===Q.Bottom?e+t:e,Sf="react-flow__edgeupdater",Ef=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:s,onMouseOut:l,type:a})=>O.createElement("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:l,className:Ie([Sf,`${Sf}-${a}`]),cx:wk(t,r,e),cy:bk(n,r,e),r,stroke:"transparent",fill:"transparent"}),kk=()=>!0;var ir=e=>{const t=({id:n,className:r,type:o,data:s,onClick:l,onEdgeDoubleClick:a,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:x,style:E,source:m,target:y,sourceX:v,sourceY:b,targetX:_,targetY:S,sourcePosition:C,targetPosition:T,elementsSelectable:A,hidden:I,sourceHandleId:W,targetHandleId:U,onContextMenu:D,onMouseEnter:k,onMouseMove:M,onMouseLeave:N,reconnectRadius:L,onReconnect:$,onReconnectStart:j,onReconnectEnd:R,markerEnd:F,markerStart:z,rfId:V,ariaLabel:P,isFocusable:Y,isReconnectable:H,pathOptions:G,interactionWidth:J,disableKeyboardA11y:ee})=>{const te=g.useRef(null),[X,ne]=g.useState(!1),[Se,me]=g.useState(!1),ye=Ce(),Ue=g.useMemo(()=>`url('#${tc(z,V)}')`,[z,V]),ae=g.useMemo(()=>`url('#${tc(F,V)}')`,[F,V]);if(I)return null;const K=ze=>{var Mt;const{edges:vt,addSelectedEdges:Ln,unselectNodesAndEdges:An,multiSelectionActive:Rn}=ye.getState(),Ot=vt.find(Yr=>Yr.id===n);Ot&&(A&&(ye.setState({nodesSelectionActive:!1}),Ot.selected&&Rn?(An({nodes:[],edges:[Ot]}),(Mt=te.current)==null||Mt.blur()):Ln([n])),l&&l(ze,Ot))},Le=lo(n,ye.getState,a),q=lo(n,ye.getState,D),se=lo(n,ye.getState,k),ie=lo(n,ye.getState,M),ce=lo(n,ye.getState,N),Pe=(ze,vt)=>{if(ze.button!==0)return;const{edges:Ln,isValidConnection:An}=ye.getState(),Rn=vt?y:m,Ot=(vt?U:W)||null,Mt=vt?"target":"source",Yr=An||kk,oa=vt,Xr=Ln.find(Dn=>Dn.id===n);me(!0),j==null||j(ze,Xr,Mt);const sa=Dn=>{me(!1),R==null||R(Dn,Xr,Mt)};om({event:ze,handleId:Ot,nodeId:Rn,onConnect:Dn=>$==null?void 0:$(Xr,Dn),isTarget:oa,getState:ye.getState,setState:ye.setState,isValidConnection:Yr,edgeUpdaterType:Mt,onReconnectEnd:sa})},yt=ze=>Pe(ze,!0),xt=ze=>Pe(ze,!1),Tn=()=>ne(!0),nr=()=>ne(!1),rr=!A&&!l,Gr=ze=>{var vt;if(!ee&&Gg.includes(ze.key)&&A){const{unselectNodesAndEdges:Ln,addSelectedEdges:An,edges:Rn}=ye.getState();ze.key==="Escape"?((vt=te.current)==null||vt.blur(),Ln({edges:[Rn.find(Mt=>Mt.id===n)]})):An([n])}};return O.createElement("g",{className:Ie(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:c,animated:u,inactive:rr,updating:X}]),onClick:K,onDoubleClick:Le,onContextMenu:q,onMouseEnter:se,onMouseMove:ie,onMouseLeave:ce,onKeyDown:Y?Gr:void 0,tabIndex:Y?0:void 0,role:Y?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":P===null?void 0:P||`Edge from ${m} to ${y}`,"aria-describedby":Y?`${hm}-${V}`:void 0,ref:te},!Se&&O.createElement(e,{id:n,source:m,target:y,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:x,data:s,style:E,sourceX:v,sourceY:b,targetX:_,targetY:S,sourcePosition:C,targetPosition:T,sourceHandleId:W,targetHandleId:U,markerStart:Ue,markerEnd:ae,pathOptions:G,interactionWidth:J}),H&&O.createElement(O.Fragment,null,(H==="source"||H===!0)&&O.createElement(Ef,{position:C,centerX:v,centerY:b,radius:L,onMouseDown:yt,onMouseEnter:Tn,onMouseOut:nr,type:"source"}),(H==="target"||H===!0)&&O.createElement(Ef,{position:T,centerX:_,centerY:S,radius:L,onMouseDown:xt,onMouseEnter:Tn,onMouseOut:nr,type:"target"})))};return t.displayName="EdgeWrapper",g.memo(t)};function Nk(e){const t={default:ir(e.default||Ll),straight:ir(e.bezier||gu),step:ir(e.step||hu),smoothstep:ir(e.step||ta),simplebezier:ir(e.simplebezier||fu)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,s)=>(o[s]=ir(e[s]||Ll),o),n);return{...t,...r}}function _f(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,l=(n==null?void 0:n.height)||t.height;switch(e){case Q.Top:return{x:r+s/2,y:o};case Q.Right:return{x:r+s,y:o+l/2};case Q.Bottom:return{x:r+s/2,y:o+l};case Q.Left:return{x:r,y:o+l/2}}}function jf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const Sk=(e,t,n,r,o,s)=>{const l=_f(n,e,t),a=_f(s,r,o);return{sourceX:l.x,sourceY:l.y,targetX:a.x,targetY:a.y}};function Ek({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:s,width:l,height:a,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Zo({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:l/c[2],height:a/c[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),f=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*f)>0}function Cf(e){var r,o,s,l,a;const t=((r=e==null?void 0:e[ke])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const _k=[{level:0,isMaxLevel:!0,edges:[]}];function jk(e,t,n=!1){let r=-1;const o=e.reduce((l,a)=>{var d,h;const c=ht(a.zIndex);let u=c?a.zIndex:0;if(n){const f=t.get(a.target),p=t.get(a.source),w=a.selected||(f==null?void 0:f.selected)||(p==null?void 0:p.selected),x=Math.max(((d=p==null?void 0:p[ke])==null?void 0:d.z)||0,((h=f==null?void 0:f[ke])==null?void 0:h.z)||0,1e3);u=(c?a.zIndex:0)+(w?x:0)}return l[u]?l[u].push(a):l[u]=[a],r=u>r?u:r,l},{}),s=Object.entries(o).map(([l,a])=>{const c=+l;return{edges:a,level:c,isMaxLevel:c===r}});return s.length===0?_k:s}function Ck(e,t,n){const r=fe(g.useCallback(o=>e?o.edges.filter(s=>{const l=t.get(s.source),a=t.get(s.target);return(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&Ek({sourcePos:l.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:l.width,sourceHeight:l.height,targetWidth:a.width,targetHeight:a.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return jk(r,t,n)}const $k=({color:e="none",strokeWidth:t=1})=>O.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Mk=({color:e="none",strokeWidth:t=1})=>O.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),$f={[Tl.Arrow]:$k,[Tl.ArrowClosed]:Mk};function Tk(e){const t=Ce();return g.useMemo(()=>{var o,s;return Object.prototype.hasOwnProperty.call($f,e)?$f[e]:((s=(o=t.getState()).onError)==null||s.call(o,"009",tn.error009(e)),null)},[e])}const Lk=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:a="auto-start-reverse"})=>{const c=Tk(t);return c?O.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},O.createElement(c,{color:n,strokeWidth:l})):null},Ak=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,s)=>([s.markerStart,s.markerEnd].forEach(l=>{if(l&&typeof l=="object"){const a=tc(l,t);r.includes(a)||(o.push({id:a,color:l.color||e,...l}),r.push(a))}}),o),[]).sort((o,s)=>o.id.localeCompare(s.id))},_m=({defaultColor:e,rfId:t})=>{const n=fe(g.useCallback(Ak({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((s,l)=>s.id!==o[l].id)));return O.createElement("defs",null,n.map(r=>O.createElement(Lk,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};_m.displayName="MarkerDefinitions";var Rk=g.memo(_m);const Dk=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),jm=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:s,onEdgeContextMenu:l,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:w,reconnectRadius:x,children:E,disableKeyboardA11y:m})=>{const{edgesFocusable:y,edgesUpdatable:v,elementsSelectable:b,width:_,height:S,connectionMode:C,nodeInternals:T,onError:A}=fe(Dk,Te),I=Ck(t,T,n);return _?O.createElement(O.Fragment,null,I.map(({level:W,edges:U,isMaxLevel:D})=>O.createElement("svg",{key:W,style:{zIndex:W},width:_,height:S,className:"react-flow__edges react-flow__container"},D&&O.createElement(Rk,{defaultColor:e,rfId:r}),O.createElement("g",null,U.map(k=>{const[M,N,L]=Cf(T.get(k.source)),[$,j,R]=Cf(T.get(k.target));if(!L||!R)return null;let F=k.type||"default";o[F]||(A==null||A("011",tn.error011(F)),F="default");const z=o[F]||o.default,V=C===jn.Strict?j.target:(j.target??[]).concat(j.source??[]),P=jf(N.source,k.sourceHandle),Y=jf(V,k.targetHandle),H=(P==null?void 0:P.position)||Q.Bottom,G=(Y==null?void 0:Y.position)||Q.Top,J=!!(k.focusable||y&&typeof k.focusable>"u"),ee=k.reconnectable||k.updatable,te=typeof f<"u"&&(ee||v&&typeof ee>"u");if(!P||!Y)return A==null||A("008",tn.error008(P,k)),null;const{sourceX:X,sourceY:ne,targetX:Se,targetY:me}=Sk(M,P,H,$,Y,G);return O.createElement(z,{key:k.id,id:k.id,className:Ie([k.className,s]),type:F,data:k.data,selected:!!k.selected,animated:!!k.animated,hidden:!!k.hidden,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,style:k.style,source:k.source,target:k.target,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerEnd:k.markerEnd,markerStart:k.markerStart,sourceX:X,sourceY:ne,targetX:Se,targetY:me,sourcePosition:H,targetPosition:G,elementsSelectable:b,onContextMenu:l,onMouseEnter:a,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:w,reconnectRadius:x,rfId:r,ariaLabel:k.ariaLabel,isFocusable:J,isReconnectable:te,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth,disableKeyboardA11y:m})})))),E):null};jm.displayName="EdgeRenderer";var Ik=g.memo(jm);const Pk=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function zk({children:e}){const t=fe(Pk);return O.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function Fk(e){const t=vu(),n=g.useRef(!1);g.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Ok={[Q.Left]:Q.Right,[Q.Right]:Q.Left,[Q.Top]:Q.Bottom,[Q.Bottom]:Q.Top},Cm=({nodeId:e,handleType:t,style:n,type:r=hn.Bezier,CustomComponent:o,connectionStatus:s})=>{var S,C,T;const{fromNode:l,handleId:a,toX:c,toY:u,connectionMode:d}=fe(g.useCallback(A=>({fromNode:A.nodeInternals.get(e),handleId:A.connectionHandleId,toX:(A.connectionPosition.x-A.transform[0])/A.transform[2],toY:(A.connectionPosition.y-A.transform[1])/A.transform[2],connectionMode:A.connectionMode}),[e]),Te),h=(S=l==null?void 0:l[ke])==null?void 0:S.handleBounds;let f=h==null?void 0:h[t];if(d===jn.Loose&&(f=f||(h==null?void 0:h[t==="source"?"target":"source"])),!l||!f)return null;const p=a?f.find(A=>A.id===a):f[0],w=p?p.x+p.width/2:(l.width??0)/2,x=p?p.y+p.height/2:l.height??0,E=(((C=l.positionAbsolute)==null?void 0:C.x)??0)+w,m=(((T=l.positionAbsolute)==null?void 0:T.y)??0)+x,y=p==null?void 0:p.position,v=y?Ok[y]:null;if(!y||!v)return null;if(o)return O.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:l,fromHandle:p,fromX:E,fromY:m,toX:c,toY:u,fromPosition:y,toPosition:v,connectionStatus:s});let b="";const _={sourceX:E,sourceY:m,sourcePosition:y,targetX:c,targetY:u,targetPosition:v};return r===hn.Bezier?[b]=Kg(_):r===hn.Step?[b]=ec({..._,borderRadius:0}):r===hn.SmoothStep?[b]=ec(_):r===hn.SimpleBezier?[b]=qg(_):b=`M${E},${m} ${c},${u}`,O.createElement("path",{d:b,fill:"none",className:"react-flow__connection-path",style:n})};Cm.displayName="ConnectionLine";const Wk=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Hk({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:s,nodesConnectable:l,width:a,height:c,connectionStatus:u}=fe(Wk,Te);return!(o&&s&&a&&l)?null:O.createElement("svg",{style:e,width:a,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},O.createElement("g",{className:Ie(["react-flow__connection",u])},O.createElement(Cm,{nodeId:o,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Mf(e,t){return g.useRef(null),Ce(),g.useMemo(()=>t(e),[e])}const $m=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:s,onNodeClick:l,onEdgeClick:a,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:w,onSelectionStart:x,onSelectionEnd:E,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:v,connectionLineContainerStyle:b,selectionKeyCode:_,selectionOnDrag:S,selectionMode:C,multiSelectionKeyCode:T,panActivationKeyCode:A,zoomActivationKeyCode:I,deleteKeyCode:W,onlyRenderVisibleElements:U,elementsSelectable:D,selectNodesOnDrag:k,defaultViewport:M,translateExtent:N,minZoom:L,maxZoom:$,preventScrolling:j,defaultMarkerColor:R,zoomOnScroll:F,zoomOnPinch:z,panOnScroll:V,panOnScrollSpeed:P,panOnScrollMode:Y,zoomOnDoubleClick:H,panOnDrag:G,onPaneClick:J,onPaneMouseEnter:ee,onPaneMouseMove:te,onPaneMouseLeave:X,onPaneScroll:ne,onPaneContextMenu:Se,onEdgeContextMenu:me,onEdgeMouseEnter:ye,onEdgeMouseMove:Ue,onEdgeMouseLeave:ae,onReconnect:K,onReconnectStart:Le,onReconnectEnd:q,reconnectRadius:se,noDragClassName:ie,noWheelClassName:ce,noPanClassName:Pe,elevateEdgesOnSelect:yt,disableKeyboardA11y:xt,nodeOrigin:Tn,nodeExtent:nr,rfId:rr})=>{const Gr=Mf(e,pk),ze=Mf(t,Nk);return Fk(s),O.createElement(gk,{onPaneClick:J,onPaneMouseEnter:ee,onPaneMouseMove:te,onPaneMouseLeave:X,onPaneContextMenu:Se,onPaneScroll:ne,deleteKeyCode:W,selectionKeyCode:_,selectionOnDrag:S,selectionMode:C,onSelectionStart:x,onSelectionEnd:E,multiSelectionKeyCode:T,panActivationKeyCode:A,zoomActivationKeyCode:I,elementsSelectable:D,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:F,zoomOnPinch:z,zoomOnDoubleClick:H,panOnScroll:V,panOnScrollSpeed:P,panOnScrollMode:Y,panOnDrag:G,defaultViewport:M,translateExtent:N,minZoom:L,maxZoom:$,onSelectionContextMenu:w,preventScrolling:j,noDragClassName:ie,noWheelClassName:ce,noPanClassName:Pe,disableKeyboardA11y:xt},O.createElement(zk,null,O.createElement(Ik,{edgeTypes:ze,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:U,onEdgeContextMenu:me,onEdgeMouseEnter:ye,onEdgeMouseMove:Ue,onEdgeMouseLeave:ae,onReconnect:K,onReconnectStart:Le,onReconnectEnd:q,reconnectRadius:se,defaultMarkerColor:R,noPanClassName:Pe,elevateEdgesOnSelect:!!yt,disableKeyboardA11y:xt,rfId:rr},O.createElement(Hk,{style:y,type:m,component:v,containerStyle:b})),O.createElement("div",{className:"react-flow__edgelabel-renderer"}),O.createElement(vk,{nodeTypes:Gr,onNodeClick:l,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:p,selectNodesOnDrag:k,onlyRenderVisibleElements:U,noPanClassName:Pe,noDragClassName:ie,disableKeyboardA11y:xt,nodeOrigin:Tn,nodeExtent:nr,rfId:rr})))};$m.displayName="GraphView";var Bk=g.memo($m);const sc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],on={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:sc,nodeExtent:sc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:jn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:xb,isValidConnection:void 0},Uk=()=>Av((e,t)=>({...on,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:s}=t();e({nodeInternals:Wa(n,r,o,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",s=typeof r<"u",l=o?Wa(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:l,edges:s?r:[],hasDefaultNodes:o,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:s,fitViewOnInitDone:l,fitViewOnInitOptions:a,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:f}=new window.DOMMatrixReadOnly(h.transform),p=n.reduce((x,E)=>{const m=o.get(E.id);if(m!=null&&m.hidden)o.set(m.id,{...m,[ke]:{...m[ke],handleBounds:void 0}});else if(m){const y=uu(E.nodeElement);!!(y.width&&y.height&&(m.width!==y.width||m.height!==y.height||E.forceUpdate))&&(o.set(m.id,{...m,[ke]:{...m[ke],handleBounds:{source:Nf(".source",E.nodeElement,f,u),target:Nf(".target",E.nodeElement,f,u)}},...y}),x.push({id:m.id,type:"dimensions",dimensions:y}))}return x},[]);mm(o,u);const w=l||s&&!l&&pm(t,{initial:!0,...a});e({nodeInternals:new Map(o),fitViewOnInitDone:w}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:s}=t(),l=n.map(a=>{const c={id:a.id,type:"position",dragging:o};return r&&(c.positionAbsolute=a.positionAbsolute,c.position=a.position),c});s(l)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:s,nodeOrigin:l,getNodes:a,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(s){const u=xm(n,a()),d=Wa(u,o,l,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let l,a=null;r?l=n.map(c=>cn(c,!0)):(l=br(s(),n),a=br(o,[])),Ts({changedNodes:l,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let l,a=null;r?l=n.map(c=>cn(c,!0)):(l=br(o,n),a=br(s(),[])),Ts({changedNodes:a,changedEdges:l,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:s}=t(),l=n||s(),a=r||o,c=l.map(d=>(d.selected=!1,cn(d.id,!1))),u=a.map(d=>cn(d.id,!1));Ts({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(a=>a.selected).map(a=>cn(a.id,!1)),l=n.filter(a=>a.selected).map(a=>cn(a.id,!1));Ts({changedNodes:s,changedEdges:l,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=du(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:s,d3Zoom:l,d3Selection:a,translateExtent:c}=t();if(!l||!a||!n.x&&!n.y)return!1;const u=Xt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[o,s]],h=l==null?void 0:l.constrain()(u,d,c);return l.transform(a,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>e({connectionNodeId:on.connectionNodeId,connectionHandleId:on.connectionHandleId,connectionHandleType:on.connectionHandleType,connectionStatus:on.connectionStatus,connectionStartHandle:on.connectionStartHandle,connectionEndHandle:on.connectionEndHandle}),reset:()=>e({...on})}),Object.is),ra=({children:e})=>{const t=g.useRef(null);return t.current||(t.current=Uk()),O.createElement(db,{value:t.current},e)};ra.displayName="ReactFlowProvider";const Mm=({children:e})=>g.useContext(ea)?O.createElement(O.Fragment,null,e):O.createElement(ra,null,e);Mm.displayName="ReactFlowWrapper";const Vk={input:im,default:rc,output:um,group:xu},Gk={default:Ll,straight:gu,step:hu,smoothstep:ta,simplebezier:fu},Yk=[0,0],Xk=[15,15],Zk={x:0,y:0,zoom:1},qk={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},bu=g.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:s=Vk,edgeTypes:l=Gk,onNodeClick:a,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onConnect:p,onConnectStart:w,onConnectEnd:x,onClickConnectStart:E,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:v,onNodeMouseLeave:b,onNodeContextMenu:_,onNodeDoubleClick:S,onNodeDragStart:C,onNodeDrag:T,onNodeDragStop:A,onNodesDelete:I,onEdgesDelete:W,onSelectionChange:U,onSelectionDragStart:D,onSelectionDrag:k,onSelectionDragStop:M,onSelectionContextMenu:N,onSelectionStart:L,onSelectionEnd:$,connectionMode:j=jn.Strict,connectionLineType:R=hn.Bezier,connectionLineStyle:F,connectionLineComponent:z,connectionLineContainerStyle:V,deleteKeyCode:P="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:H=!1,selectionMode:G=qo.Full,panActivationKeyCode:J="Space",multiSelectionKeyCode:ee=Ml()?"Meta":"Control",zoomActivationKeyCode:te=Ml()?"Meta":"Control",snapToGrid:X=!1,snapGrid:ne=Xk,onlyRenderVisibleElements:Se=!1,selectNodesOnDrag:me=!0,nodesDraggable:ye,nodesConnectable:Ue,nodesFocusable:ae,nodeOrigin:K=Yk,edgesFocusable:Le,edgesUpdatable:q,elementsSelectable:se,defaultViewport:ie=Zk,minZoom:ce=.5,maxZoom:Pe=2,translateExtent:yt=sc,preventScrolling:xt=!0,nodeExtent:Tn,defaultMarkerColor:nr="#b1b1b7",zoomOnScroll:rr=!0,zoomOnPinch:Gr=!0,panOnScroll:ze=!1,panOnScrollSpeed:vt=.5,panOnScrollMode:Ln=Bn.Free,zoomOnDoubleClick:An=!0,panOnDrag:Rn=!0,onPaneClick:Ot,onPaneMouseEnter:Mt,onPaneMouseMove:Yr,onPaneMouseLeave:oa,onPaneScroll:Xr,onPaneContextMenu:sa,children:Nu,onEdgeContextMenu:Dn,onEdgeDoubleClick:Vm,onEdgeMouseEnter:Gm,onEdgeMouseMove:Ym,onEdgeMouseLeave:Xm,onEdgeUpdate:Zm,onEdgeUpdateStart:qm,onEdgeUpdateEnd:Km,onReconnect:Qm,onReconnectStart:Jm,onReconnectEnd:ep,reconnectRadius:tp=10,edgeUpdaterRadius:np=10,onNodesChange:rp,onEdgesChange:op,noDragClassName:sp="nodrag",noWheelClassName:lp="nowheel",noPanClassName:Su="nopan",fitView:ap=!1,fitViewOptions:ip,connectOnClick:cp=!0,attributionPosition:up,proOptions:dp,defaultEdgeOptions:fp,elevateNodesOnSelect:hp=!0,elevateEdgesOnSelect:gp=!1,disableKeyboardA11y:Eu=!1,autoPanOnConnect:mp=!0,autoPanOnNodeDrag:pp=!0,connectionRadius:yp=20,isValidConnection:xp,onError:vp,style:wp,id:_u,nodeDragThreshold:bp,...kp},Np)=>{const la=_u||"1";return O.createElement("div",{...kp,style:{...wp,...qk},ref:Np,className:Ie(["react-flow",o]),"data-testid":"rf__wrapper",id:_u},O.createElement(Mm,null,O.createElement(Bk,{onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:y,onNodeMouseMove:v,onNodeMouseLeave:b,onNodeContextMenu:_,onNodeDoubleClick:S,nodeTypes:s,edgeTypes:l,connectionLineType:R,connectionLineStyle:F,connectionLineComponent:z,connectionLineContainerStyle:V,selectionKeyCode:Y,selectionOnDrag:H,selectionMode:G,deleteKeyCode:P,multiSelectionKeyCode:ee,panActivationKeyCode:J,zoomActivationKeyCode:te,onlyRenderVisibleElements:Se,selectNodesOnDrag:me,defaultViewport:ie,translateExtent:yt,minZoom:ce,maxZoom:Pe,preventScrolling:xt,zoomOnScroll:rr,zoomOnPinch:Gr,zoomOnDoubleClick:An,panOnScroll:ze,panOnScrollSpeed:vt,panOnScrollMode:Ln,panOnDrag:Rn,onPaneClick:Ot,onPaneMouseEnter:Mt,onPaneMouseMove:Yr,onPaneMouseLeave:oa,onPaneScroll:Xr,onPaneContextMenu:sa,onSelectionContextMenu:N,onSelectionStart:L,onSelectionEnd:$,onEdgeContextMenu:Dn,onEdgeDoubleClick:Vm,onEdgeMouseEnter:Gm,onEdgeMouseMove:Ym,onEdgeMouseLeave:Xm,onReconnect:Qm??Zm,onReconnectStart:Jm??qm,onReconnectEnd:ep??Km,reconnectRadius:tp??np,defaultMarkerColor:nr,noDragClassName:sp,noWheelClassName:lp,noPanClassName:Su,elevateEdgesOnSelect:gp,rfId:la,disableKeyboardA11y:Eu,nodeOrigin:K,nodeExtent:Tn}),O.createElement(Ob,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:w,onConnectEnd:x,onClickConnectStart:E,onClickConnectEnd:m,nodesDraggable:ye,nodesConnectable:Ue,nodesFocusable:ae,edgesFocusable:Le,edgesUpdatable:q,elementsSelectable:se,elevateNodesOnSelect:hp,minZoom:ce,maxZoom:Pe,nodeExtent:Tn,onNodesChange:rp,onEdgesChange:op,snapToGrid:X,snapGrid:ne,connectionMode:j,translateExtent:yt,connectOnClick:cp,defaultEdgeOptions:fp,fitView:ap,fitViewOptions:ip,onNodesDelete:I,onEdgesDelete:W,onNodeDragStart:C,onNodeDrag:T,onNodeDragStop:A,onSelectionDrag:k,onSelectionDragStart:D,onSelectionDragStop:M,noPanClassName:Su,nodeOrigin:K,rfId:la,autoPanOnConnect:mp,autoPanOnNodeDrag:pp,onError:vp,connectionRadius:yp,isValidConnection:xp,nodeDragThreshold:bp}),O.createElement(zb,{onSelectionChange:U}),Nu,O.createElement(hb,{proOptions:dp,position:up}),O.createElement(Vb,{rfId:la,disableKeyboardA11y:Eu})))});bu.displayName="ReactFlow";function Tm(e){return t=>{const[n,r]=g.useState(t),o=g.useCallback(s=>r(l=>e(s,l)),[]);return[n,r,o]}}const Lm=Tm(xm),Am=Tm(sk),Rm=({id:e,x:t,y:n,width:r,height:o,style:s,color:l,strokeColor:a,strokeWidth:c,className:u,borderRadius:d,shapeRendering:h,onClick:f,selected:p})=>{const{background:w,backgroundColor:x}=s||{},E=l||w||x;return O.createElement("rect",{className:Ie(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:d,ry:d,width:r,height:o,fill:E,stroke:a,strokeWidth:c,shapeRendering:h,onClick:f?m=>f(m,e):void 0})};Rm.displayName="MiniMapNode";var Kk=g.memo(Rm);const Qk=e=>e.nodeOrigin,Jk=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Va=e=>e instanceof Function?e:()=>e;function eN({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:s=Kk,onClick:l}){const a=fe(Jk,Te),c=fe(Qk),u=Va(t),d=Va(e),h=Va(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return O.createElement(O.Fragment,null,a.map(p=>{const{x:w,y:x}=Yn(p,c).positionAbsolute;return O.createElement(s,{key:p.id,x:w,y:x,width:p.width,height:p.height,style:p.style,selected:p.selected,className:h(p),color:u(p),borderRadius:r,strokeColor:d(p),strokeWidth:o,shapeRendering:f,onClick:l,id:p.id})}))}var tN=g.memo(eN);const nN=200,rN=150,oN=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?pb(na(t,e.nodeOrigin),n):n,rfId:e.rfId}},sN="react-flow__minimap-desc";function Dm({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:l=2,nodeComponent:a,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:h="bottom-right",onClick:f,onNodeClick:p,pannable:w=!1,zoomable:x=!1,ariaLabel:E="React Flow mini map",inversePan:m=!1,zoomStep:y=10,offsetScale:v=5}){const b=Ce(),_=g.useRef(null),{boundingRect:S,viewBB:C,rfId:T}=fe(oN,Te),A=(e==null?void 0:e.width)??nN,I=(e==null?void 0:e.height)??rN,W=S.width/A,U=S.height/I,D=Math.max(W,U),k=D*A,M=D*I,N=v*D,L=S.x-(k-S.width)/2-N,$=S.y-(M-S.height)/2-N,j=k+N*2,R=M+N*2,F=`${sN}-${T}`,z=g.useRef(0);z.current=D,g.useEffect(()=>{if(_.current){const Y=dt(_.current),H=ee=>{const{transform:te,d3Selection:X,d3Zoom:ne}=b.getState();if(ee.sourceEvent.type!=="wheel"||!X||!ne)return;const Se=-ee.sourceEvent.deltaY*(ee.sourceEvent.deltaMode===1?.05:ee.sourceEvent.deltaMode?1:.002)*y,me=te[2]*Math.pow(2,Se);ne.scaleTo(X,me)},G=ee=>{const{transform:te,d3Selection:X,d3Zoom:ne,translateExtent:Se,width:me,height:ye}=b.getState();if(ee.sourceEvent.type!=="mousemove"||!X||!ne)return;const Ue=z.current*Math.max(1,te[2])*(m?-1:1),ae={x:te[0]-ee.sourceEvent.movementX*Ue,y:te[1]-ee.sourceEvent.movementY*Ue},K=[[0,0],[me,ye]],Le=Xt.translate(ae.x,ae.y).scale(te[2]),q=ne.constrain()(Le,K,Se);ne.transform(X,q)},J=Og().on("zoom",w?G:null).on("zoom.wheel",x?H:null);return Y.call(J),()=>{Y.on("zoom",null)}}},[w,x,m,y]);const V=f?Y=>{const H=Nt(Y);f(Y,{x:H[0],y:H[1]})}:void 0,P=p?(Y,H)=>{const G=b.getState().nodeInternals.get(H);p(Y,G)}:void 0;return O.createElement(cu,{position:h,style:e,className:Ie(["react-flow__minimap",t]),"data-testid":"rf__minimap"},O.createElement("svg",{width:A,height:I,viewBox:`${L} ${$} ${j} ${R}`,role:"img","aria-labelledby":F,ref:_,onClick:V},E&&O.createElement("title",{id:F},E),O.createElement(tN,{onClick:P,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:l,nodeComponent:a}),O.createElement("path",{className:"react-flow__minimap-mask",d:`M${L-N},${$-N}h${j+N*2}v${R+N*2}h${-j-N*2}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}Dm.displayName="MiniMap";var Im=g.memo(Dm);function lN(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},O.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function aN(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},O.createElement("path",{d:"M0 0h32v4.2H0z"}))}function iN(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},O.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function cN(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},O.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function uN(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},O.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const po=({children:e,className:t,...n})=>O.createElement("button",{type:"button",className:Ie(["react-flow__controls-button",t]),...n},e);po.displayName="ControlButton";const dN=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Pm=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:l,onFitView:a,onInteractiveChange:c,className:u,children:d,position:h="bottom-left"})=>{const f=Ce(),[p,w]=g.useState(!1),{isInteractive:x,minZoomReached:E,maxZoomReached:m}=fe(dN,Te),{zoomIn:y,zoomOut:v,fitView:b}=vu();if(g.useEffect(()=>{w(!0)},[]),!p)return null;const _=()=>{y(),s==null||s()},S=()=>{v(),l==null||l()},C=()=>{b(o),a==null||a()},T=()=>{f.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)};return O.createElement(cu,{className:Ie(["react-flow__controls",u]),position:h,style:e,"data-testid":"rf__controls"},t&&O.createElement(O.Fragment,null,O.createElement(po,{onClick:_,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},O.createElement(lN,null)),O.createElement(po,{onClick:S,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E},O.createElement(aN,null))),n&&O.createElement(po,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},O.createElement(iN,null)),r&&O.createElement(po,{className:"react-flow__controls-interactive",onClick:T,title:"toggle interactivity","aria-label":"toggle interactivity"},x?O.createElement(uN,null):O.createElement(cN,null)),d)};Pm.displayName="Controls";var zm=g.memo(Pm),ot;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ot||(ot={}));function fN({color:e,dimensions:t,lineWidth:n}){return O.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function hN({color:e,radius:t}){return O.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const gN={[ot.Dots]:"#91919a",[ot.Lines]:"#eee",[ot.Cross]:"#e2e2e2"},mN={[ot.Dots]:1,[ot.Lines]:1,[ot.Cross]:6},pN=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Fm({id:e,variant:t=ot.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=2,color:l,style:a,className:c}){const u=g.useRef(null),{transform:d,patternId:h}=fe(pN,Te),f=l||gN[t],p=r||mN[t],w=t===ot.Dots,x=t===ot.Cross,E=Array.isArray(n)?n:[n,n],m=[E[0]*d[2]||1,E[1]*d[2]||1],y=p*d[2],v=x?[y,y]:m,b=w?[y/s,y/s]:[v[0]/s,v[1]/s];return O.createElement("svg",{className:Ie(["react-flow__background",c]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},O.createElement("pattern",{id:h+e,x:d[0]%m[0],y:d[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${b[0]},-${b[1]})`},w?O.createElement(hN,{color:f,radius:y/s}):O.createElement(fN,{dimensions:v,color:f,lineWidth:o})),O.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+e})`}))}Fm.displayName="Background";var Om=g.memo(Fm);const Be=({data:e,selected:t,icon:n,title:r,subtitle:o,color:s,bgColor:l})=>(console.log("BaseNode rendered:",{title:r,selected:t,data:e}),i.jsxs("div",{className:`relative rounded-lg border-2 min-w-[160px] shadow-sm transition-all duration-200 ${t?"border-blue-500 shadow-lg transform scale-105":"border-gray-300 hover:border-gray-400 hover:shadow-md"}`,style:{backgroundColor:l},children:[i.jsx(Hr,{type:"target",position:Q.Top,className:"w-3 h-3 !bg-gray-400 !border-2 !border-white hover:!bg-gray-600 transition-colors",style:{top:-6}}),i.jsxs("div",{className:"p-3",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-sm shadow-sm",style:{backgroundColor:s},children:n})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:r}),o&&i.jsx("div",{className:"text-xs text-gray-600 leading-tight",children:o}),(e==null?void 0:e.label)&&e.label!==r&&i.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:e.label})]})]}),i.jsx(Hr,{type:"source",position:Q.Bottom,className:"w-3 h-3 !bg-gray-400 !border-2 !border-white hover:!bg-gray-600 transition-colors",style:{bottom:-6}})]})),Ga=e=>i.jsx(Be,{...e,icon:"▶️",title:"Start",subtitle:"Trigger point",color:"#10b981",bgColor:"#f0fdf4"}),yN=e=>i.jsx(Be,{...e,icon:"⏰",title:"Schedule",subtitle:"Time-based trigger",color:"#3b82f6",bgColor:"#eff6ff"}),Tf=e=>i.jsx(Be,{...e,icon:"🔗",title:"Webhook",subtitle:"HTTP trigger",color:"#8b5cf6",bgColor:"#f5f3ff"}),As=e=>i.jsx(Be,{...e,icon:"📊",title:"Google Sheets",subtitle:"Read spreadsheet data",color:"#059669",bgColor:"#ecfdf5"}),Lf=e=>i.jsx(Be,{...e,icon:"🗄️",title:"Database",subtitle:"Database operations",color:"#4b5563",bgColor:"#f9fafb"}),xN=e=>i.jsx(Be,{...e,icon:"🌐",title:"HTTP Request",subtitle:"Make API calls",color:"#2563eb",bgColor:"#eff6ff"}),Af=e=>i.jsx(Be,{...e,icon:"🧠",title:"AI Processing",subtitle:"OpenAI, Claude, Ollama",color:"#4f46e5",bgColor:"#eef2ff"}),Rf=e=>i.jsx(Be,{...e,icon:"🔄",title:"Transform",subtitle:"Manipulate data",color:"#f59e0b",bgColor:"#fefbf3"}),vN=e=>i.jsx(Be,{...e,icon:"🔍",title:"Filter",subtitle:"Filter data",color:"#eab308",bgColor:"#fefce8"}),wN=e=>i.jsx(Be,{...e,icon:"🔀",title:"If/Condition",subtitle:"Conditional logic",color:"#7c3aed",bgColor:"#f5f3ff"}),bN=e=>i.jsx(Be,{...e,icon:"⏸️",title:"Wait/Delay",subtitle:"Pause execution",color:"#6b7280",bgColor:"#f9fafb"}),kN=e=>i.jsx(Be,{...e,icon:"🔁",title:"Loop",subtitle:"Iterate over data",color:"#06b6d4",bgColor:"#f0fdfa"}),Df=e=>i.jsx(Be,{...e,icon:"💾",title:"Google Drive",subtitle:"Save to Drive",color:"#1d4ed8",bgColor:"#eff6ff"}),If=e=>i.jsx(Be,{...e,icon:"📧",title:"Send Notification",subtitle:"Email or Slack",color:"#dc2626",bgColor:"#fef2f2"}),NN=e=>i.jsx(Be,{...e,icon:"📈",title:"Analytics",subtitle:"Track workflow data",color:"#ec4899",bgColor:"#fdf2f8"}),Ya=e=>i.jsx(Be,{...e,icon:"🏁",title:"End",subtitle:"Completion point",color:"#dc2626",bgColor:"#fef2f2"}),Wm={manual_trigger:Ga,webhook:Tf,http_request:xN,google_sheets:As,google_sheets_write:As,google_drive_write:Df,ai_processing:Af,data_transform:Rf,email_sender:If,email_report:If,database_write:Lf,schedule:yN,database:Lf,filter:vN,condition:wN,delay:bN,loop:kN,drive:Df,analytics:NN,httpTrigger:Tf,googleSheets:As,start:Ga,end:Ya,input:Ga,ai:Af,output:Ya,sheets:As,transform:Rf,pdf:Ya},Rs=[{type:"start",label:"Manual Trigger",description:"Workflow trigger point",IconComponent:Nl,category:"Triggers",color:"from-emerald-500 via-emerald-600 to-teal-600"},{type:"schedule",label:"Schedule",description:"Time-based trigger",IconComponent:nu,category:"Triggers",color:"from-blue-500 via-blue-600 to-cyan-600"},{type:"webhook",label:"Webhook",description:"HTTP trigger",IconComponent:Hi,category:"Triggers",color:"from-violet-500 via-purple-500 to-purple-600"},{type:"google_sheets",label:"Google Sheets",description:"Read data from Google Sheets",IconComponent:Bi,category:"Data Sources",color:"from-green-500 via-emerald-600 to-green-700"},{type:"google_sheets_write",label:"Google Sheets Write",description:"Write data to Google Sheets",IconComponent:Bi,category:"Output & Actions",color:"from-blue-500 via-blue-600 to-indigo-700"},{type:"google_drive_write",label:"Google Drive Write",description:"Save files to Google Drive",IconComponent:k1,category:"Output & Actions",color:"from-purple-500 via-purple-600 to-purple-700"},{type:"database",label:"Database",description:"Database operations",IconComponent:Wi,category:"Data Sources",color:"from-slate-500 via-gray-600 to-slate-700"},{type:"api",label:"HTTP Request",description:"Make HTTP requests",IconComponent:rg,category:"Data Sources",color:"from-sky-500 via-blue-600 to-indigo-600"},{type:"ai",label:"AI Processing",description:"OpenAI, Claude, Ollama",IconComponent:Jh,category:"AI & Processing",color:"from-indigo-500 via-purple-600 to-violet-700"},{type:"transform",label:"Data Transform",description:"Transform and manipulate data",IconComponent:Qh,category:"AI & Processing",color:"from-amber-500 via-orange-500 to-orange-600"},{type:"filter",label:"Filter",description:"Filter data based on conditions",IconComponent:Bo,category:"AI & Processing",color:"from-yellow-400 via-amber-500 to-orange-500"},{type:"condition",label:"If/Condition",description:"Conditional logic (if/then/else)",IconComponent:E1,category:"Control Flow",color:"from-purple-500 via-violet-600 to-indigo-600"},{type:"delay",label:"Wait/Delay",description:"Wait for specified time",IconComponent:Y1,category:"Control Flow",color:"from-gray-400 via-slate-500 to-gray-600"},{type:"loop",label:"Loop",description:"Iterate over data",IconComponent:o1,category:"Control Flow",color:"from-cyan-400 via-cyan-500 to-blue-600"},{type:"drive",label:"Google Drive",description:"Save files to Google Drive",IconComponent:Pd,category:"Output & Actions",color:"from-blue-600 via-indigo-600 to-blue-800"},{type:"notification",label:"Send Notification",description:"Email or Slack notification",IconComponent:Ys,category:"Output & Actions",color:"from-rose-500 via-pink-500 to-rose-600"},{type:"analytics",label:"Analytics",description:"Track and analyze workflow data",IconComponent:eg,category:"Output & Actions",color:"from-pink-500 via-rose-500 to-red-500"},{type:"end",label:"End",description:"Workflow completion point",IconComponent:z1,category:"Output & Actions",color:"from-red-500 via-rose-600 to-red-700"},{type:"email",label:"Send Email",description:"Send email notifications",IconComponent:Ys,category:"Output & Actions",color:"from-blue-500 via-indigo-500 to-purple-500"},{type:"slack",label:"Slack Message",description:"Send Slack messages",IconComponent:Ys,category:"Output & Actions",color:"from-green-500 via-emerald-500 to-teal-500"},{type:"webhook-send",label:"Send Webhook",description:"Send HTTP webhook",IconComponent:Hi,category:"Output & Actions",color:"from-orange-500 via-red-500 to-pink-500"},{type:"file-upload",label:"File Upload",description:"Upload files to storage",IconComponent:Pd,category:"Output & Actions",color:"from-violet-500 via-purple-500 to-indigo-500"},{type:"database-write",label:"Database Write",description:"Write data to database",IconComponent:Wi,category:"Data Sources",color:"from-gray-500 via-slate-600 to-gray-700"}],Pf=["Triggers","Data Sources","AI & Processing","Control Flow","Output & Actions"],SN=()=>{const[e,t]=g.useState(""),[n,r]=g.useState(null),{isDark:o}=zt()||{isDark:!1},s=(c,u)=>{c.dataTransfer.setData("application/reactflow",u),c.dataTransfer.effectAllowed="move"},l=Rs.filter(c=>{const u=c.label.toLowerCase().includes(e.toLowerCase())||c.description.toLowerCase().includes(e.toLowerCase()),d=!n||c.category===n;return u&&d}),a=Pf.filter(c=>Rs.some(u=>u.category===c&&u.label.toLowerCase().includes(e.toLowerCase())||u.description.toLowerCase().includes(e.toLowerCase())));return i.jsxs("div",{className:`w-80 h-full border-r flex flex-col flex-shrink-0 transition-all duration-300 ${o?"bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 border-gray-700/70":"bg-gradient-to-b from-white via-gray-50 to-white border-gray-200/70"}`,children:[i.jsxs("div",{className:`p-5 border-b transition-colors duration-300 flex-shrink-0 ${o?"border-gray-700/50 bg-gray-800/30":"border-gray-200/50 bg-white/50"} backdrop-blur-sm`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-500 via-purple-500 to-violet-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/25",children:i.jsx(Jh,{className:"w-5 h-5 text-white"})}),i.jsx("div",{children:i.jsx("h2",{className:`text-lg font-bold transition-colors duration-300 ${o?"text-gray-100":"text-gray-900"}`,children:"Components"})})]}),i.jsx("p",{className:`text-sm leading-relaxed transition-colors duration-300 ${o?"text-gray-400":"text-gray-600"}`,children:"Drag components to build your workflow"}),Rs.length>8&&i.jsxs("div",{className:`text-xs mt-2 flex items-center gap-2 transition-all duration-300 ${o?"text-blue-400/80":"text-blue-600/80"}`,children:[i.jsx("svg",{className:"w-3 h-3 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),i.jsxs("span",{className:"text-xs",children:["Scroll for more (",Rs.length," total)"]})]})]}),i.jsxs("div",{className:`p-4 border-b transition-colors duration-300 flex-shrink-0 ${o?"border-gray-700/50":"border-gray-200/50"}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search components...",value:e,onChange:c=>t(c.target.value),className:`w-full pl-11 pr-4 py-3 border rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 ${o?"bg-gray-800/50 border-gray-600/50 text-gray-100 placeholder-gray-400 focus:bg-gray-800":"bg-white/80 border-gray-300/60 text-gray-900 placeholder-gray-500 focus:bg-white"} backdrop-blur-sm`}),i.jsx(Bo,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 transition-colors duration-300 ${o?"text-gray-400":"text-gray-500"}`})]}),i.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>r(null),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-all duration-200 ${n?o?"bg-gray-700/60 text-gray-300 hover:bg-gray-600/60 border border-gray-600/30":"bg-gray-100/80 text-gray-600 hover:bg-gray-200/80 border border-gray-200/50":"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25"}`,children:"All"}),Pf.map(c=>i.jsx("button",{onClick:()=>r(c),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-all duration-200 ${n===c?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25":o?"bg-gray-700/60 text-gray-300 hover:bg-gray-600/60 border border-gray-600/30":"bg-gray-100/80 text-gray-600 hover:bg-gray-200/80 border border-gray-200/50"}`,children:c},c))]})]}),i.jsx("div",{className:"flex-1 overflow-y-scroll workflow-sidebar-scroll",style:{maxHeight:"calc(100vh - 280px)",minHeight:"350px"},children:i.jsxs("div",{className:"px-4 pt-4 pb-24 space-y-6",children:[a.map(c=>{const u=l.filter(d=>d.category===c);return u.length===0?null:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h3",{className:`text-sm font-bold uppercase tracking-wide transition-colors duration-300 ${o?"text-gray-300":"text-gray-700"}`,children:c}),i.jsx("div",{className:`flex-1 h-px transition-colors duration-300 ${o?"bg-gradient-to-r from-gray-700 to-transparent":"bg-gradient-to-r from-gray-200 to-transparent"}`}),i.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full transition-colors duration-300 ${o?"text-gray-400 bg-gray-700/50":"text-gray-500 bg-gray-100/80"}`,children:u.length})]}),i.jsx("div",{className:"space-y-2",children:u.map(d=>{const h=d.IconComponent;return i.jsxs("div",{draggable:!0,onDragStart:f=>s(f,d.type),className:`group flex items-center p-3 rounded-xl cursor-grab active:cursor-grabbing transition-all duration-300 border backdrop-blur-sm hover:shadow-xl hover:shadow-black/10 hover:scale-[1.02] active:scale-[0.98] ${o?"bg-gray-800/40 hover:bg-gray-700/60 border-gray-700/50 hover:border-gray-600/50":"bg-white/70 hover:bg-white/90 border-gray-200/60 hover:border-gray-300/60"}`,children:[i.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${d.color} rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110 group-hover:rotate-3`,children:i.jsx(h,{className:"w-5 h-5 text-white drop-shadow-sm"})}),i.jsxs("div",{className:"flex-1 min-w-0 ml-3",children:[i.jsx("div",{className:`text-sm font-semibold mb-1 transition-colors duration-300 ${o?"text-gray-100 group-hover:text-white":"text-gray-900 group-hover:text-gray-700"}`,children:d.label}),i.jsx("div",{className:`text-xs leading-relaxed transition-colors duration-300 ${o?"text-gray-400 group-hover:text-gray-300":"text-gray-500 group-hover:text-gray-600"}`,children:d.description})]}),i.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:scale-110 ${o?"bg-gray-700/60 text-gray-300":"bg-gray-100/80 text-gray-600"}`,children:i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]},d.type)})})]},c)}),i.jsx("div",{className:"h-16"}),l.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-2xl flex items-center justify-center ${o?"bg-gray-700/50":"bg-gray-100/80"}`,children:i.jsx(Bo,{className:`w-8 h-8 transition-colors duration-300 ${o?"text-gray-500":"text-gray-400"}`})}),i.jsx("p",{className:`text-base font-semibold mb-2 transition-colors duration-300 ${o?"text-gray-300":"text-gray-600"}`,children:"No components found"}),i.jsx("p",{className:"text-sm transition-colors duration-300 text-gray-500",children:"Try adjusting your search or filter"})]})]})}),i.jsx("div",{className:`p-3 border-t transition-colors duration-300 flex-shrink-0 ${o?"border-gray-700/50":"border-gray-200/50"}`,children:i.jsx("div",{className:`border rounded-lg p-3 transition-all duration-300 backdrop-blur-sm ${o?"bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 border-blue-700/30":"bg-gradient-to-br from-blue-50/80 via-indigo-50/80 to-purple-50/80 border-blue-200/60"}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:`w-6 h-6 rounded-md flex items-center justify-center flex-shrink-0 transition-colors duration-300 ${o?"bg-blue-500/20 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:`text-xs font-bold mb-1 transition-colors duration-300 ${o?"text-blue-300":"text-blue-900"}`,children:"Quick Guide"}),i.jsx("ul",{className:`text-xs space-y-1 transition-colors duration-300 ${o?"text-blue-400/90":"text-blue-700/90"}`,children:i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-1 h-1 rounded-full ${o?"bg-blue-400":"bg-blue-600"}`}),i.jsx("span",{children:"Drag to canvas"})]})})]})]})})})]})},EN=[{id:"node_1",type:"google_sheets",position:{x:100,y:100},data:{label:"Google Sheets Read",type:"google_sheets"}},{id:"node_2",type:"ai_processing",position:{x:400,y:100},data:{label:"AI Processing",type:"ai_processing"}},{id:"node_3",type:"google_sheets_write",position:{x:700,y:50},data:{label:"Google Sheets Write",type:"google_sheets_write"}},{id:"node_4",type:"google_drive_write",position:{x:700,y:150},data:{label:"Google Drive Write (CSV)",type:"google_drive_write"}}],_N=[{id:"edge_1",source:"node_1",target:"node_2",type:"smoothstep"},{id:"edge_2",source:"node_2",target:"node_3",type:"smoothstep"},{id:"edge_3",source:"node_2",target:"node_4",type:"smoothstep"}],Hm={nodes:EN,edges:_N},jN=Hm.nodes,CN=Hm.edges;let $N=5;const MN=()=>`node_${$N++}`;function TN({onBack:e}){const{isDark:t}=zt()||{isDark:!1},n=g.useRef(null),[r,o,s]=Lm(jN),[l,a,c]=Am(CN),[u,d]=g.useState(null),[h,f]=g.useState(!0),[p,w]=g.useState({x:0,y:0,zoom:1}),x=g.useCallback(S=>a(C=>pu(S,C)),[a]),E=g.useCallback((S,C)=>{w(C)},[]),m=g.useCallback(()=>{u&&u.setViewport({x:0,y:0,zoom:1})},[u]),y=g.useCallback(()=>{u&&r.length>0&&u.fitView({padding:.1,minZoom:.5,maxZoom:1.5})},[u,r]),v=g.useCallback(S=>{if(u){const C=u.getViewport(),T=100;let A=C.x,I=C.y;switch(S){case"up":I+=T;break;case"down":I-=T;break;case"left":A+=T;break;case"right":A-=T;break}u.setViewport({x:A,y:I,zoom:C.zoom})}},[u]),b=g.useCallback(S=>{S.preventDefault(),S.dataTransfer&&(S.dataTransfer.dropEffect="move")},[]),_=g.useCallback(S=>{if(S.preventDefault(),!S.dataTransfer||!u)return;const C=S.dataTransfer.getData("application/reactflow");if(typeof C>"u"||!C)return;const T=u.screenToFlowPosition({x:S.clientX,y:S.clientY}),A={id:MN(),type:C,position:T,data:{label:`${C.charAt(0).toUpperCase()+C.slice(1)} Node`,type:C}};o(I=>I.concat(A))},[u,o]);return i.jsxs("div",{className:`h-screen flex flex-col ${t?"bg-gray-900":"bg-gray-50"}`,children:[i.jsx("div",{className:`border-b px-6 py-4 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[e&&i.jsxs("button",{onClick:e,className:`flex items-center gap-2 px-4 py-2 rounded-lg ${t?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Dashboard"]}),i.jsx("h1",{className:`text-xl font-bold ${t?"text-gray-100":"text-gray-900"}`,children:"New Workflow"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>f(!h),className:`p-2 rounded-lg ${t?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save"}),i.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Execute"})]})]})}),i.jsxs("div",{className:"flex flex-1",children:[h&&i.jsx(SN,{}),i.jsx("div",{className:"flex-1 overflow-hidden",ref:n,children:i.jsxs(bu,{nodes:r,edges:l,onNodesChange:s,onEdgesChange:c,onConnect:x,onInit:d,onDrop:_,onDragOver:b,onMove:E,nodeTypes:Wm,className:t?"bg-gray-900":"bg-gray-50",panOnScroll:!0,panOnScrollSpeed:.5,zoomOnScroll:!0,zoomOnPinch:!0,panOnDrag:!0,selectionOnDrag:!1,zoomOnDoubleClick:!1,preventScrolling:!1,children:[i.jsx(zm,{className:t?"bg-gray-800 text-white":"bg-white"}),i.jsx(Im,{className:t?"bg-gray-800":"bg-white"}),i.jsx(Om,{variant:ot.Dots}),i.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 z-10",children:[i.jsx("button",{onClick:y,className:`p-3 rounded-lg shadow-lg transition-all duration-200 hover:scale-105 ${t?"bg-gray-800 text-gray-200 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-50"}`,title:"Fit view to all nodes",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4m-4 0l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),i.jsx("button",{onClick:m,className:`p-3 rounded-lg shadow-lg transition-all duration-200 hover:scale-105 ${t?"bg-gray-800 text-gray-200 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-50"}`,title:"Reset view to center",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4V1m6 8h3m-6 8v3m-6-3v3m-6-8H1m11-6l6 6-6 6-6-6 6-6z"})})}),i.jsxs("div",{className:`px-3 py-2 rounded-lg shadow-lg text-sm font-medium ${t?"bg-gray-800 text-gray-200":"bg-white text-gray-700"}`,children:[Math.round(p.zoom*100),"%"]})]}),i.jsx("div",{className:"absolute top-4 left-4 z-10",children:i.jsx("div",{className:`bg-opacity-90 backdrop-blur-sm rounded-xl p-2 shadow-lg ${t?"bg-gray-800":"bg-white"}`,children:i.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[i.jsx("div",{}),i.jsx("button",{onClick:()=>v("up"),className:`p-2 rounded-lg transition-all duration-200 hover:scale-105 ${t?"text-gray-200 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,title:"Pan up",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),i.jsx("div",{}),i.jsx("button",{onClick:()=>v("left"),className:`p-2 rounded-lg transition-all duration-200 hover:scale-105 ${t?"text-gray-200 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,title:"Pan left",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:`p-2 rounded-lg ${t?"bg-gray-700":"bg-gray-100"}`,children:i.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:i.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-gray-400":"bg-gray-500"}`})})}),i.jsx("button",{onClick:()=>v("right"),className:`p-2 rounded-lg transition-all duration-200 hover:scale-105 ${t?"text-gray-200 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,title:"Pan right",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),i.jsx("div",{}),i.jsx("button",{onClick:()=>v("down"),className:`p-2 rounded-lg transition-all duration-200 hover:scale-105 ${t?"text-gray-200 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,title:"Pan down",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),i.jsx("div",{})]})})}),r.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),i.jsx("h3",{className:`text-xl font-bold mb-2 ${t?"text-gray-100":"text-gray-900"}`,children:"Start building your workflow"}),i.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Drag components from the sidebar to create your workflow"})]})})]})})]})]})}function LN(e){return i.jsx(ra,{children:i.jsx(TN,{...e})})}class AN{constructor(){ls(this,"baseUrl","http://localhost:8000/api/v1/workflow")}async request(t,n={}){try{const r=await fetch(`${this.baseUrl}${t}`,{headers:{"Content-Type":"application/json",...n.headers},...n}),o=await r.json();if(!r.ok)throw new Error(o.detail||"API request failed");return o}catch(r){return console.error("API request error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async getComponents(t){const n=t?`?category=${t}`:"";return this.request(`/components${n}`)}async getComponentMetadata(t){return this.request(`/components/${t}`)}async createInstance(t){return this.request("/instances",{method:"POST",body:JSON.stringify(t)})}async getInstances(t){const n=new URLSearchParams;t!=null&&t.status&&n.append("status",t.status),t!=null&&t.limit&&n.append("limit",String(t.limit)),t!=null&&t.offset&&n.append("offset",String(t.offset));const r=n.toString();return this.request(`/instances${r?`?${r}`:""}`)}async getInstance(t){return this.request(`/instances/${t}`)}async executeInstance(t,n){return this.request(`/instances/${t}/execute`,{method:"POST",body:JSON.stringify(n||{})})}async stopExecution(t){return this.request(`/instances/${t}/stop`,{method:"POST"})}async getExecutionStatus(t){return this.request(`/instances/${t}/status`)}async getExecutionLogs(t,n=100,r=0){return this.request(`/instances/${t}/logs?limit=${n}&offset=${r}`)}connectToExecutionUpdates(t){const n=`ws://localhost:8000/api/v1/workflow/ws/${t}`;return new WebSocket(n)}async saveWorkflow(t){return this.request("/editor/save",{method:"POST",body:JSON.stringify(t)})}async loadWorkflow(t){return this.request(`/editor/load/${t}`)}async listEditorWorkflows(t){const n=new URLSearchParams;t!=null&&t.category&&n.append("category",t.category),(t==null?void 0:t.is_public)!==void 0&&n.append("is_public",String(t.is_public));const r=n.toString();return this.request(`/editor/list${r?`?${r}`:""}`)}}const Rt=new AN,ku=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!1),[o,s]=g.useState(null),l=g.useCallback(async c=>{r(!0),s(null);try{const u=await Rt.getComponents(c);u.success&&u.data?t(u.data):s(u.error||"Failed to fetch components")}catch(u){s(u instanceof Error?u.message:"Unknown error")}finally{r(!1)}},[]),a=g.useCallback(async c=>{try{return await Rt.getComponentMetadata(c)}catch(u){return console.error("Error fetching component metadata:",u),{success:!1,error:u instanceof Error?u.message:"Unknown error"}}},[]);return g.useEffect(()=>{l()},[l]),{components:e,loading:n,error:o,fetchComponents:l,getComponentMetadata:a}},RN=e=>{const[t,n]=g.useState(null),[r,o]=g.useState([]),[s,l]=g.useState([]),[a,c]=g.useState(!1),[u,d]=g.useState(!1),[h,f]=g.useState(null),p=g.useRef(null),w=g.useRef(null),x=g.useCallback(_=>{var S;((S=p.current)==null?void 0:S.readyState)===WebSocket.OPEN&&p.current.close();try{const C=Rt.connectToExecutionUpdates(_);C.onopen=()=>{console.log("WebSocket connected for execution updates"),c(!0),f(null)},C.onmessage=T=>{try{const A=JSON.parse(T.data);l(I=>[A,...I.slice(0,99)]),A.event_type==="execution_started"?n(I=>I?{...I,status:"running",is_running:!0}:null):A.event_type==="execution_completed"?n(I=>I?{...I,status:"completed",is_running:!1}:null):A.event_type==="execution_failed"?n(I=>I?{...I,status:"failed",is_running:!1,error_message:A.data.error}:null):A.event_type==="execution_stopped"&&n(I=>I?{...I,status:"cancelled",is_running:!1}:null),(A.event_type==="component_executed"||A.event_type==="component_failed"||A.event_type==="execution_completed"||A.event_type==="execution_failed")&&(w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{e&&b(e)},500))}catch(A){console.error("Error parsing WebSocket message:",A)}},C.onerror=T=>{console.error("WebSocket error:",T),f("WebSocket connection error"),c(!1)},C.onclose=()=>{console.log("WebSocket disconnected"),c(!1)},p.current=C}catch(C){console.error("Error connecting to WebSocket:",C),f("Failed to connect to real-time updates")}},[]),E=g.useCallback(()=>{p.current&&(p.current.close(),p.current=null),w.current&&(clearTimeout(w.current),w.current=null),c(!1)},[]),m=g.useCallback(async(_,S)=>{d(!0),f(null);try{const C=await Rt.executeInstance(_,S);return C.success?(a||x(_),C):(f(C.error||"Failed to execute workflow"),C)}catch(C){const T=C instanceof Error?C.message:"Unknown error";return f(T),{success:!1,error:T}}finally{d(!1)}},[a,x]),y=g.useCallback(async _=>{d(!0),f(null);try{const S=await Rt.stopExecution(_);return S.success||f(S.error||"Failed to stop execution"),S}catch(S){const C=S instanceof Error?S.message:"Unknown error";return f(C),{success:!1,error:C}}finally{d(!1)}},[]),v=g.useCallback(async _=>{try{const S=await Rt.getExecutionStatus(_);return S.success&&S.data&&n(S.data),S}catch(S){return console.error("Error fetching execution status:",S),{success:!1,error:S instanceof Error?S.message:"Unknown error"}}},[]),b=g.useCallback(async(_,S=100,C=0)=>{try{const T=await Rt.getExecutionLogs(_,S,C);return T.success&&T.data&&o(T.data.logs),T}catch(T){return console.error("Error fetching execution logs:",T),{success:!1,error:T instanceof Error?T.message:"Unknown error"}}},[]);return g.useEffect(()=>(e&&(x(e),v(e),b(e)),()=>{E(),w.current&&(clearTimeout(w.current),w.current=null)}),[e,x,v,b,E]),{executionStatus:t,executionLogs:r,executionEvents:s,isConnected:a,loading:u,error:h,executeWorkflow:m,stopExecution:y,fetchExecutionStatus:v,fetchExecutionLogs:b,connectToUpdates:x,disconnect:E}},Bm=()=>{const[e,t]=g.useState(null),[n,r]=g.useState([]),[o,s]=g.useState(!1),[l,a]=g.useState(null),c=g.useCallback(async f=>{s(!0),a(null);try{const p=await Rt.saveWorkflow(f);return p.success?(await d(),p):(a(p.error||"Failed to save workflow"),p)}catch(p){const w=p instanceof Error?p.message:"Unknown error";return a(w),{success:!1,error:w}}finally{s(!1)}},[]),u=g.useCallback(async f=>{console.log("loadWorkflow called with ID:",f),s(!0),a(null);try{console.log("Calling API to load workflow...");const p=await Rt.loadWorkflow(f);return console.log("API response:",p),p.success&&p.data?(console.log("Setting current workflow:",p.data),t(p.data),p):(console.log("Load failed:",p.error),a(p.error||"Failed to load workflow"),p)}catch(p){console.log("Load error:",p);const w=p instanceof Error?p.message:"Unknown error";return a(w),{success:!1,error:w}}finally{s(!1)}},[]),d=g.useCallback(async f=>{s(!0),a(null);try{const p=await Rt.listEditorWorkflows(f);p.success&&p.data?r(p.data.workflows):a(p.error||"Failed to fetch workflows")}catch(p){a(p instanceof Error?p.message:"Unknown error")}finally{s(!1)}},[]),h=g.useCallback((f,p,w)=>({nodes:f.map(x=>{var E,m,y;return{id:x.id,type:x.type||"default",position:x.position,data:{label:((E=x.data)==null?void 0:E.label)||"",type:((m=x.data)==null?void 0:m.type)||x.type||"default",config:((y=x.data)==null?void 0:y.config)||{}}}}),edges:p.map(x=>({id:x.id,source:x.source,target:x.target,sourceHandle:x.sourceHandle||void 0,targetHandle:x.targetHandle||void 0})),viewport:w}),[]);return g.useEffect(()=>{d()},[d]),{currentWorkflow:e,availableWorkflows:n,loading:o,error:l,saveWorkflow:c,loadWorkflow:u,fetchAvailableWorkflows:d,convertReactFlowData:h,setCurrentWorkflow:t}},DN={PlayIcon:Nl,ClockIcon:nu,LinkIcon:Hi,TableCellsIcon:Bi,CircleStackIcon:Wi,GlobeAltIcon:rg,CpuChipIcon:M1,ArrowsRightLeftIcon:Qh,MagnifyingGlassIcon:Bo,EnvelopeIcon:D1,DocumentChartBarIcon:L1,CogIcon:Xs};function IN({isOpen:e=!0,onToggle:t}){const{components:n,loading:r,error:o}=ku(),[s,l]=g.useState(""),[a,c]=g.useState(["triggers","data_sources","ai_processing","control_flow","output_actions"]),[u,d]=g.useState(["triggers","data_sources","ai_processing","output_actions"]);console.log("=== COMPONENT DEBUG ==="),console.log("Total components:",n.length),console.log("Components:",n),console.log("Email sender component:",n.find(m=>m.type==="email_sender")),console.log("======================");const h=n.filter(m=>{const y=m.name.toLowerCase().includes(s.toLowerCase())||m.description.toLowerCase().includes(s.toLowerCase()),v=a.includes(m.category);return y&&v}),f=h.reduce((m,y)=>(m[y.category]||(m[y.category]=[]),m[y.category].push(y),m),{});console.log("=== FILTER DEBUG ==="),console.log("Selected categories:",a),console.log("Filtered components:",h.length),console.log("Email sender in filtered:",h.find(m=>m.type==="email_sender")),console.log("Grouped components:",f),console.log("Output actions group:",f.output_actions),console.log("===================");const p={triggers:"Triggers",data_sources:"Data Sources",ai_processing:"AI & Processing",control_flow:"Control Flow",output_actions:"Output & Actions"},w=(m,y)=>{m.dataTransfer.setData("application/reactflow",y),m.dataTransfer.effectAllowed="move"},x=m=>{d(y=>y.includes(m)?y.filter(v=>v!==m):[...y,m])},E=m=>{c(y=>y.includes(m)?y.filter(v=>v!==m):[...y,m])};return e?r?i.jsx("div",{className:"w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded mb-4"}),i.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(m=>i.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-600 rounded"},m))})]})}):o?i.jsx("div",{className:"w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"text-red-600 dark:text-red-400",children:[i.jsx("h3",{className:"font-medium",children:"Error loading components"}),i.jsx("p",{className:"text-sm mt-1",children:o})]})}):i.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:i.jsx(Xs,{className:"w-5 h-5 text-white"})}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Components"})]}),t&&i.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:i.jsx(og,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),i.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Drag components to build your workflow"}),i.jsxs("div",{className:"relative",children:[i.jsx(Bo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search components...",value:s,onChange:m=>l(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Categories:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(p).map(([m,y])=>i.jsx("button",{onClick:()=>E(m),className:`px-2 py-1 text-xs rounded transition-colors ${a.includes(m)?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:y},m))})]}),i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[h.length," component",h.length!==1?"s":""," available"]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:Object.entries(f).map(([m,y])=>i.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[i.jsxs("button",{onClick:()=>x(m),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors",children:[i.jsxs("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[p[m]," (",y.length,")"]}),u.includes(m)?i.jsx(p1,{className:"w-4 h-4 text-gray-500"}):i.jsx(x1,{className:"w-4 h-4 text-gray-500"})]}),u.includes(m)&&i.jsx("div",{className:"pb-2",children:y.map(v=>{const b=DN[v.icon]||Xs;return i.jsx("div",{draggable:!0,onDragStart:_=>w(_,v.type),className:"mx-2 mb-2 p-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg cursor-move hover:shadow-md hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200 group",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-r ${v.color} flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform`,children:i.jsx(b,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:v.name}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:v.description}),i.jsxs("div",{className:"flex gap-1 mt-2",children:[v.is_trigger&&i.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 rounded",children:"Trigger"}),v.is_async&&i.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 rounded",children:"Async"}),v.parameters.length>0&&i.jsxs("span",{className:"px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 dark:bg-gray-600 dark:text-gray-300 rounded",children:[v.parameters.length," param",v.parameters.length!==1?"s":""]})]})]})]})},v.type)})})]},m))}),i.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"💡 Tip: Drag components to the canvas to start building your workflow"})})]}):i.jsx("div",{className:"w-16 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col items-center py-4",children:i.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:i.jsx(Xs,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})})})}const PN=(e,t={})=>{const{autoSave:n=!0,retentionDays:r=7,maxStoredInstances:o=50}=t,[s,l]=g.useState(null),[a,c]=g.useState([]),[u,d]=g.useState([]),[h,f]=g.useState(!1),[p,w]=g.useState(null),x="workflow_execution_",E="workflow_execution_instances",m=g.useCallback(N=>`${x}${N}`,[]),y=g.useCallback(()=>{try{const N=localStorage.getItem(E);return N?JSON.parse(N):[]}catch(N){return console.warn("Failed to load stored instances list:",N),[]}},[]),v=g.useCallback(N=>{try{localStorage.setItem(E,JSON.stringify(N))}catch(L){console.warn("Failed to update stored instances list:",L)}},[]),b=g.useCallback(N=>{const L=new Date(N);return(new Date().getTime()-L.getTime())/(1e3*60*60*24)>r},[r]),_=g.useCallback(()=>{try{const N=y(),L=[];N.forEach($=>{try{const j=localStorage.getItem(m($));if(j){const R=JSON.parse(j);b(R.createdAt)?localStorage.removeItem(m($)):L.push($)}}catch{localStorage.removeItem(m($))}}),v(L),console.log(`🧹 Cleanup complete. Removed ${N.length-L.length} expired entries`)}catch(N){console.warn("Failed to cleanup old data:",N)}},[y,m,b,v]),S=g.useCallback((N,L,$=[],j=[],R)=>{try{w(null);const F=C(N),z={instanceId:N,executionStatus:L,executionLogs:$,executionEvents:j,lastUpdated:new Date().toISOString(),createdAt:(F==null?void 0:F.createdAt)||new Date().toISOString(),isCompleted:(L==null?void 0:L.status)==="completed"||(L==null?void 0:L.status)==="failed",workflowName:R};localStorage.setItem(m(N),JSON.stringify(z));const V=y();return V.includes(N)||(V.push(N),V.length>o&&V.splice(0,V.length-o).forEach(Y=>{localStorage.removeItem(m(Y))}),v(V)),console.log("💾 Saved execution data for instance:",N),!0}catch(F){const z=F instanceof Error?F.message:"Unknown error";return w(`Failed to save execution data: ${z}`),console.error("Failed to save execution data:",F),!1}},[m,y,o,v]),C=g.useCallback(N=>{try{const L=localStorage.getItem(m(N));if(!L)return null;const $=JSON.parse(L);return!$.instanceId||!Array.isArray($.executionLogs)||!Array.isArray($.executionEvents)?(console.warn("Invalid data structure, removing corrupted entry:",N),localStorage.removeItem(m(N)),null):b($.createdAt)?(localStorage.removeItem(m(N)),null):$}catch(L){console.warn("Failed to load execution data, removing corrupted entry:",N,L);try{localStorage.removeItem(m(N))}catch($){console.error("Failed to remove corrupted data:",$)}return null}},[m,b]),T=g.useCallback(N=>{try{localStorage.removeItem(m(N));const $=y().filter(j=>j!==N);return v($),console.log("🗑️ Removed execution data for instance:",N),!0}catch(L){return console.error("Failed to remove execution data:",L),!1}},[m,y,v]),A=g.useCallback(()=>{const N=y(),L=[];return N.forEach($=>{const j=C($);j&&L.push(j)}),L.sort(($,j)=>new Date(j.lastUpdated).getTime()-new Date($.lastUpdated).getTime())},[y,C]),I=g.useCallback((N=10)=>A().slice(0,N),[A]),W=g.useCallback(()=>{try{return y().forEach(L=>{localStorage.removeItem(m(L))}),localStorage.removeItem(E),console.log("🧹 Cleared all execution data"),!0}catch(N){return console.error("Failed to clear all data:",N),!1}},[y,m]),U=g.useCallback(N=>{const L=C(N);return L?JSON.stringify(L,null,2):null},[C]),D=g.useCallback(()=>{const N=A();return JSON.stringify(N,null,2)},[A]),k=g.useCallback(N=>{try{const L=JSON.parse(N);if(!L.instanceId||!L.executionStatus)throw new Error("Invalid execution data format");return S(L.instanceId,L.executionStatus,L.executionLogs,L.executionEvents,L.workflowName)}catch(L){return console.error("Failed to import execution data:",L),!1}},[S]),M=g.useCallback(()=>{const N=y();let L=0,$=null,j=null;return N.forEach(R=>{const F=m(R),z=localStorage.getItem(F);if(z){L+=z.length;try{const V=JSON.parse(z),P=new Date(V.createdAt);(!$||P<$)&&($=P),(!j||P>j)&&(j=P)}catch{}}}),{totalInstances:N.length,totalSize:L,oldestEntry:$?$.toISOString():null,newestEntry:j?j.toISOString():null}},[y,m]);return g.useEffect(()=>{if(e){f(!0),w(null);const N=C(e);N?(l(N.executionStatus),c(N.executionLogs),d(N.executionEvents),console.log("📂 Loaded saved execution data for:",e,{status:!!N.executionStatus,logs:N.executionLogs.length,events:N.executionEvents.length})):(console.log("📭 No saved data found for instance:",e),l(null),c([]),d([])),f(!1)}else console.log("📭 No instanceId provided to useExecutionStorage")},[e,C]),g.useEffect(()=>{n&&e&&(s||a.length>0||u.length>0)&&S(e,s,a,u)},[n,e,s,a,u,S]),g.useEffect(()=>{_()},[_]),{executionStatus:s,executionLogs:a,executionEvents:u,saveExecution:S,loadExecution:C,removeExecution:T,getAllExecutions:A,getRecentExecutions:I,clearAllExecutions:W,exportExecution:U,exportAllExecutions:D,importExecution:k,getStorageStats:M,isLoading:h,error:p}},Um=()=>{console.group("🔍 localStorage Debug");const e=Object.keys(localStorage).filter(n=>n.startsWith("workflow_execution_"));console.log("📋 Total execution keys:",e.length);const t=localStorage.getItem("workflow_execution_instances");try{console.log("📝 Instances list:",t?JSON.parse(t):"None")}catch(n){console.error("❌ Failed to parse instances list:",n),console.log("Raw instances list:",t)}e.forEach(n=>{var r,o,s;try{const l=localStorage.getItem(n);if(!l){console.warn(`⚠️ ${n}: No data found`);return}const a=JSON.parse(l);console.log(`📂 ${n}:`,{instanceId:a.instanceId,logsCount:((r=a.executionLogs)==null?void 0:r.length)||0,eventsCount:((o=a.executionEvents)==null?void 0:o.length)||0,status:(s=a.executionStatus)==null?void 0:s.status,lastUpdated:a.lastUpdated,createdAt:a.createdAt,dataSize:l.length})}catch(l){console.error(`❌ Failed to parse ${n}:`,l);const a=localStorage.getItem(n);console.log("Raw data preview (first 200 chars):",a==null?void 0:a.substring(0,200))}}),console.groupEnd()},zN=()=>{Object.keys(localStorage).filter(t=>t.startsWith("workflow_execution_")).forEach(t=>localStorage.removeItem(t)),localStorage.removeItem("workflow_execution_instances"),console.log("🧹 Cleared all execution storage")},FN=()=>{console.log("🧹 Cleaning corrupted localStorage entries...");const e=Object.keys(localStorage).filter(n=>n.startsWith("workflow_execution_")&&n!=="workflow_execution_instances");let t=0;e.forEach(n=>{try{const r=localStorage.getItem(n);if(!r)return;const o=JSON.parse(r);(!o.instanceId||!Array.isArray(o.executionLogs)||!Array.isArray(o.executionEvents))&&(console.log(`🗑️ Removing corrupted entry: ${n}`),localStorage.removeItem(n),t++)}catch{console.log(`🗑️ Removing unparseable entry: ${n}`),localStorage.removeItem(n),t++}});try{const n=localStorage.getItem("workflow_execution_instances");if(n){const r=JSON.parse(n),o=r.filter(s=>{const l=`workflow_execution_${s}`;return localStorage.getItem(l)!==null});o.length!==r.length&&(localStorage.setItem("workflow_execution_instances",JSON.stringify(o)),console.log(`🧹 Updated instances list: removed ${r.length-o.length} invalid references`))}}catch{console.log("🗑️ Removing corrupted instances list"),localStorage.removeItem("workflow_execution_instances")}console.log(`✅ Cleaning complete. Removed ${t} corrupted entries.`)};typeof window<"u"&&(window.debugStorage=Um,window.clearStorage=zN,window.cleanStorage=FN);const ON=({instanceId:e,workflowName:t,executionStatus:n,onClose:r})=>{var b;const{isDark:o}=zt()||{isDark:!1},[s,l]=g.useState(""),[a,c]=g.useState(!0),[u,d]=g.useState(!0),[h,f]=g.useState("execution"),[p,w]=g.useState(!1),[x,E]=g.useState(null),m=async()=>{if(!(!s||!e)){w(!0),E(null);try{const S=await(await fetch(`/api/v1/workflow/instances/${e}/send-report`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient_email:s,include_analytics:a,include_detailed_logs:u})})).json();E({success:S.success,message:S.message||(S.success?"Report sent successfully!":"Failed to send report")})}catch(_){E({success:!1,message:`Error: ${_ instanceof Error?_.message:"Unknown error"}`})}finally{w(!1)}}},y=async()=>{if(s){w(!0),E(null);try{const S=await(await fetch("/api/v1/workflow/reports/daily-analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient_email:s,date:new Date().toISOString().split("T")[0]})})).json();E({success:S.success,message:S.message||(S.success?"Daily report sent successfully!":"Failed to send daily report")})}catch(_){E({success:!1,message:`Error: ${_ instanceof Error?_.message:"Unknown error"}`})}finally{w(!1)}}},v=()=>{h==="execution"?m():y()};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:`
        w-full max-w-lg mx-4 rounded-lg shadow-xl
        ${o?"bg-gray-800 text-white":"bg-white text-gray-900"}
      `,children:[i.jsxs("div",{className:`
          px-6 py-4 border-b rounded-t-lg
          ${o?"border-gray-700 bg-blue-900":"border-gray-200 bg-blue-50"}
        `,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx("span",{className:"text-2xl",children:"📧"}),i.jsx("span",{children:"Send Email Report"})]}),r&&i.jsx("button",{onClick:r,className:`
                  p-2 rounded-md transition-colors text-gray-500 hover:text-gray-700
                  ${o?"hover:bg-gray-700":"hover:bg-gray-200"}
                `,children:"✕"})]}),i.jsx("p",{className:`text-sm mt-1 ${o?"text-gray-300":"text-gray-600"}`,children:"Send comprehensive workflow reports with analytics and logs"})]}),i.jsxs("div",{className:"px-6 py-4 space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-3",children:"📊 Report Type"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-colors ${h==="execution"?o?"bg-blue-900 border-blue-600":"bg-blue-50 border-blue-300":o?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx("input",{type:"radio",value:"execution",checked:h==="execution",onChange:_=>f(_.target.value),className:"mr-3 text-blue-600",disabled:!e}),i.jsxs("div",{className:e?"":"opacity-50",children:[i.jsx("span",{className:"font-medium",children:"📋 Workflow Execution Report"}),i.jsx("span",{className:"text-sm block mt-1 ml-6 text-gray-500",children:"Detailed report for this specific workflow run"}),e&&t&&i.jsxs("span",{className:"text-xs text-blue-600 block ml-6 mt-1",children:[t," • ID: ",e.slice(0,8),"..."]})]})]}),i.jsxs("label",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-colors ${h==="daily"?o?"bg-blue-900 border-blue-600":"bg-blue-50 border-blue-300":o?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx("input",{type:"radio",value:"daily",checked:h==="daily",onChange:_=>f(_.target.value),className:"mr-3 text-blue-600"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"📈 Daily Analytics Report"}),i.jsx("span",{className:"text-sm block mt-1 ml-6 text-gray-500",children:"Today's workflow performance summary with charts"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"📧 Recipient Email *"}),i.jsx("input",{type:"email",value:s,onChange:_=>l(_.target.value),placeholder:"Enter email address",className:`
                w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors
                ${o?"bg-gray-700 border-gray-600 focus:ring-blue-500":"bg-white border-gray-300 focus:ring-blue-500"}
              `,required:!0})]}),h==="execution"&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm font-medium",children:"Report Options"}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:a,onChange:_=>c(_.target.checked),className:"mr-2"}),i.jsxs("span",{children:["Include Analytics Chart",i.jsx("span",{className:"text-sm text-gray-500 block ml-6",children:"Success rate, timeline, and performance visualizations"})]})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:u,onChange:_=>d(_.target.checked),className:"mr-2"}),i.jsxs("span",{children:["Include Detailed Logs",i.jsx("span",{className:"text-sm text-gray-500 block ml-6",children:"Full execution logs and JSON data attachment"})]})]})]}),h==="execution"&&n&&i.jsxs("div",{className:`
              p-3 rounded-md text-sm
              ${o?"bg-gray-700":"bg-gray-100"}
            `,children:[i.jsx("div",{className:"font-medium mb-1",children:"Workflow Status"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Status:"}),i.jsx("span",{className:`
                  px-2 py-1 rounded text-xs font-medium
                  ${n.status==="completed"?"bg-green-100 text-green-800":n.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}
                `,children:((b=n.status)==null?void 0:b.toUpperCase())||"UNKNOWN"})]}),n.execution_time&&i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[i.jsx("span",{children:"Duration:"}),i.jsxs("span",{children:[(n.execution_time/1e3).toFixed(2),"s"]})]})]}),x&&i.jsx("div",{className:`
              p-3 rounded-md text-sm
              ${x.success?o?"bg-green-900 text-green-200":"bg-green-100 text-green-800":o?"bg-red-900 text-red-200":"bg-red-100 text-red-800"}
            `,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"mr-2",children:x.success?"✅":"❌"}),i.jsx("span",{children:x.message})]})})]}),i.jsx("div",{className:`
          px-6 py-4 border-t rounded-b-lg
          ${o?"border-gray-700 bg-gray-900":"border-gray-200 bg-gray-50"}
        `,children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("button",{onClick:r,className:`
                px-4 py-2 rounded-md transition-colors
                ${o?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"}
              `,children:"Cancel"}),i.jsx("button",{onClick:v,disabled:!s||p||h==="execution"&&!e,className:`
                px-4 py-2 rounded-md transition-colors flex items-center
                ${!s||p||h==="execution"&&!e?"bg-gray-400 cursor-not-allowed text-gray-600":"bg-blue-600 hover:bg-blue-700 text-white"}
              `,children:p?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):i.jsx(i.Fragment,{children:"📧 Send Report"})})]})}),i.jsx("div",{className:`
          px-6 py-3 text-xs border-t
          ${o?"border-gray-700 text-gray-400 bg-gray-800":"border-gray-200 text-gray-600 bg-gray-50"}
        `,children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Execution Report:"})," Detailed workflow analysis with charts and logs"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Daily Report:"})," Performance summary for all workflows today"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Email Format:"})," Professional HTML with charts and JSON attachments"]})]})})]})})},WN=({executionStatus:e,executionLogs:t=[],executionEvents:n=[],instanceId:r,workflowName:o,onClose:s})=>{const{isDark:l}=zt()||{isDark:!1},[a,c]=g.useState("events"),[u,d]=g.useState(!1),[h,f]=g.useState(!1),{executionStatus:p,executionLogs:w,executionEvents:x,saveExecution:E,getRecentExecutions:m,clearAllExecutions:y,exportExecution:v,exportAllExecutions:b,getStorageStats:_,isLoading:S,error:C}=PN(r,{autoSave:!0,retentionDays:7,maxStoredInstances:50}),T=e||p,A=t.length>0?t:w,I=n.length>0?n:x,[W,U]=g.useState(null),[D,k]=g.useState(!1);g.useEffect(()=>{const P=t.length>0||n.length>0||e,Y=w.length>0||x.length>0||p;if(!P&&!Y&&!D){console.log("🔍 Attempting auto-load - no valid data available");const G=m(1);if(G.length>0){const J=G[0];U(J),console.log("🔄 Auto-loaded most recent execution:",J.instanceId,{logs:J.executionLogs.length,events:J.executionEvents.length})}else console.log("📭 No recent executions found to auto-load");k(!0)}(P||Y)&&D&&(console.log("📥 Valid data received, clearing auto-load state"),U(null),k(!1))},[r,w.length,x.length,p,t.length,n.length,e,D,m]),g.useEffect(()=>{r&&W&&(console.log("🔄 InstanceId set, clearing auto-loaded data to load specific instance"),U(null),k(!1))},[r,W]);const M=T||(W==null?void 0:W.executionStatus),N=A.length>0?A:(W==null?void 0:W.executionLogs)||[],L=I.length>0?I:(W==null?void 0:W.executionEvents)||[];g.useEffect(()=>{console.log("📊 Data merge:",{instanceId:r||"none",autoLoadedId:(W==null?void 0:W.instanceId)||"none",sources:{status:e?"props":p?"stored":W!=null&&W.executionStatus?"auto-loaded":"none",logs:t.length>0?"props":w.length>0?"stored":N.length>0?"auto-loaded":"none",events:n.length>0?"props":x.length>0?"stored":L.length>0?"auto-loaded":"none"},counts:{logs:N.length,events:L.length}})},[r,e,t,n,p,w,x,W,N,L]),g.useEffect(()=>{r&&(M||N.length>0||L.length>0)&&(console.log("💾 Auto-saving execution data:",{instanceId:r.slice(0,8)+"...",status:M==null?void 0:M.status,logsCount:N.length,eventsCount:L.length,source:"comprehensive"}),E(r,M,N,L,o))},[r,M,N,L,o,E]),g.useEffect(()=>{r&&(e||t.length>0||n.length>0)&&(console.log("💾 Auto-saving props data:",{instanceId:r.slice(0,8)+"...",status:e==null?void 0:e.status,logsCount:t.length,eventsCount:n.length,source:"props"}),E(r,e,t,n,o))},[r,e,t,n,o,E]),g.useEffect(()=>{r&&(console.log("🔍 EnhancedExecutionPanel Debug for instance:",r),console.log("Props data:",{propStatus:!!e,propLogsCount:t.length,propEventsCount:n.length}),console.log("Stored data:",{storedStatus:!!p,storedLogsCount:w.length,storedEventsCount:x.length}),console.log("Effective data:",{finalStatus:!!M,finalLogsCount:N.length,finalEventsCount:L.length}),Um())},[r,e,t,n,p,w,x,W,M,N,L]);const $=g.useMemo(()=>{const P=[];return(L||[]).forEach((H,G)=>{var J;if(H.data&&typeof H.data=="object")if(H.event_type==="execution_completed"&&H.data.output_data){const ee=H.data.output_data;ee.node_outputs&&Object.entries(ee.node_outputs).forEach(([te,X])=>{const ne={};X.sheets_data&&Array.isArray(X.sheets_data)&&(ne.rows_processed=X.sheets_data.length),X.values&&Array.isArray(X.values)&&(ne.input_count=X.values.length),X.processed_results&&Array.isArray(X.processed_results)&&(ne.results_generated=X.processed_results.length),X.operation&&(ne.operation=X.operation),X.metadata&&(ne.model=X.metadata.model,ne.processing_time=X.metadata.processing_time),P.push({id:`${G}-${te}`,type:"node_execution",title:`${te} Completed`,content:ne,timestamp:H.timestamp,status:X.error?"failed":"completed",nodeId:te,executionTime:X.execution_time_ms})})}else H.event_type.includes("started")?P.push({id:`${G}-start`,type:"workflow_step",title:"Workflow Started",content:{instance_id:((J=H.data.instance_id)==null?void 0:J.slice(0,8))||"Unknown"},timestamp:H.timestamp,status:"running"}):H.event_type.includes("step")||H.event_type.includes("node")?P.push({id:`${G}-step`,type:"data_processing",title:H.event_type.replace(/_/g," ").replace(/\b\w/g,ee=>ee.toUpperCase()),content:{step:H.event_type},timestamp:H.timestamp,status:H.event_type.includes("failed")?"failed":"completed"}):P.push({id:`${G}-system`,type:"system_event",title:H.event_type.replace(/_/g," ").replace(/\b\w/g,ee=>ee.toUpperCase()),content:{type:H.event_type},timestamp:H.timestamp,status:H.event_type.includes("failed")||H.event_type.includes("error")?"failed":"completed"})}),P.sort((H,G)=>new Date(G.timestamp).getTime()-new Date(H.timestamp).getTime())},[L]),j=g.useMemo(()=>{const P=[],Y=N||[];return(I||[]).forEach((G,J)=>{if(G.data&&typeof G.data=="object"&&G.event_type==="execution_completed"&&G.data.output_data){const ee=G.data.output_data;ee.node_outputs&&Object.entries(ee.node_outputs).forEach(([te,X])=>{const ne={node_id:te,operation:X.operation,status:X.error?"failed":"completed"};X.sheets_data&&Array.isArray(X.sheets_data)&&(ne.sheets_data=X.sheets_data,ne.total_rows=X.sheets_data.length),X.values&&Array.isArray(X.values)&&(ne.input_values=X.values,ne.total_inputs=X.values.length),X.processed_results&&Array.isArray(X.processed_results)&&(ne.processed_results=X.processed_results,ne.results_count=X.processed_results.length),X.metadata&&(ne.metadata=X.metadata),X.error&&(ne.error_details=X.error),P.push({id:`detailed-${J}-${te}`,level:X.error?"error":"success",title:`${te} - ${X.operation||"Unknown Operation"}`,message:X.error?`Failed: ${X.error}`:"Completed successfully",timestamp:G.timestamp,nodeId:te,executionTime:X.execution_time_ms,details:ne})})}}),Y.forEach((G,J)=>{const ee=G.status==="completed"?"success":G.status==="failed"?"error":G.status==="running"?"info":"warning";P.push({id:G.id||`step-${J}`,level:ee,title:G.step_name||"Workflow Step",message:G.error_message||`Step ${G.status}`,timestamp:G.created_at,nodeId:G.step_name,executionTime:G.execution_time_ms,details:{step_type:G.step_name,status:G.status,error_message:G.error_message}})}),M&&(M.status==="completed"?P.unshift({id:"workflow-completed",level:"success",title:"Workflow Completed Successfully",message:"All workflow steps have been executed successfully",timestamp:M.completed_at||M.started_at||new Date().toISOString(),details:{instance_id:M.instance_id,started_at:M.started_at,completed_at:M.completed_at,is_running:M.is_running}}):M.status==="running"&&P.unshift({id:"workflow-running",level:"info",title:"Workflow In Progress",message:"Workflow is currently executing...",timestamp:M.started_at||new Date().toISOString(),details:{instance_id:M.instance_id,started_at:M.started_at,is_running:M.is_running}})),P.sort((G,J)=>new Date(J.timestamp).getTime()-new Date(G.timestamp).getTime())},[N,L,M]),R=()=>{const[P,Y]=g.useState(null),[H,G]=g.useState([]),J=()=>{Y(_()),G(m(10))};g.useEffect(()=>{J()},[]);const ee=()=>{window.confirm("Are you sure you want to clear all stored execution data?")&&(y(),J())},te=()=>{const X=b(),ne=new Blob([X],{type:"application/json"}),Se=URL.createObjectURL(ne),me=document.createElement("a");me.href=Se,me.download=`all_executions_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(Se)};return i.jsxs("div",{className:`absolute top-full left-0 right-0 z-50 border shadow-lg rounded-lg p-4 ${l?"bg-gray-800 border-gray-600":"bg-white border-gray-200"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:`font-semibold ${l?"text-gray-100":"text-gray-900"}`,children:"Storage Manager"}),i.jsx("button",{onClick:()=>d(!1),className:`text-sm ${l?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"}`,children:"✕"})]}),P&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{className:`p-3 rounded ${l?"bg-gray-700":"bg-gray-50"}`,children:[i.jsx("div",{className:`text-sm font-medium ${l?"text-gray-300":"text-gray-700"}`,children:"Total Instances"}),i.jsx("div",{className:`text-lg ${l?"text-gray-100":"text-gray-900"}`,children:P.totalInstances})]}),i.jsxs("div",{className:`p-3 rounded ${l?"bg-gray-700":"bg-gray-50"}`,children:[i.jsx("div",{className:`text-sm font-medium ${l?"text-gray-300":"text-gray-700"}`,children:"Storage Size"}),i.jsxs("div",{className:`text-lg ${l?"text-gray-100":"text-gray-900"}`,children:[Math.round(P.totalSize/1024)," KB"]})]})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsx("h4",{className:`text-sm font-medium ${l?"text-gray-300":"text-gray-700"}`,children:"Recent Executions:"}),i.jsx("div",{className:"max-h-32 overflow-y-auto",children:H.map(X=>i.jsxs("div",{className:`text-xs p-2 rounded ${l?"bg-gray-700":"bg-gray-50"}`,children:[i.jsx("div",{className:`font-mono ${l?"text-gray-300":"text-gray-700"}`,children:X.instanceId.slice(0,8)}),i.jsx("div",{className:l?"text-gray-400":"text-gray-600",children:new Date(X.lastUpdated).toLocaleString()})]},X.instanceId))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:te,className:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Export All"}),i.jsx("button",{onClick:ee,className:"px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700",children:"Clear All"}),i.jsx("button",{onClick:J,className:"px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700",children:"Refresh"})]})]})},F=P=>{switch(P){case"running":return"text-blue-600 bg-blue-100 border-blue-200";case"completed":return"text-green-600 bg-green-100 border-green-200";case"failed":return"text-red-600 bg-red-100 border-red-200";case"pending":return"text-yellow-600 bg-yellow-100 border-yellow-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}},z=P=>{switch(P){case"success":return"text-green-600 bg-green-100 border-green-200";case"error":return"text-red-600 bg-red-100 border-red-200";case"warning":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"info":return"text-blue-600 bg-blue-100 border-blue-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}},V=P=>new Date(P).toLocaleTimeString();return S?i.jsx("div",{className:`w-96 border-l flex items-center justify-center ${l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),i.jsx("div",{className:l?"text-gray-400":"text-gray-600",children:"Loading execution data..."})]})}):i.jsxs("div",{className:`w-96 border-l flex flex-col relative ${l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[i.jsxs("div",{className:`p-4 border-b ${l?"border-gray-700":"border-gray-200"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:`font-semibold ${l?"text-gray-100":"text-gray-900"}`,children:"Execution Monitor"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>f(!h),className:`p-1 rounded text-xs ${l?"text-gray-400 hover:text-gray-200 bg-gray-700":"text-gray-500 hover:text-gray-700 bg-gray-100"}`,title:"Send Email Report",children:"📧"}),i.jsx("button",{onClick:()=>d(!u),className:`p-1 rounded text-xs ${l?"text-gray-400 hover:text-gray-200 bg-gray-700":"text-gray-500 hover:text-gray-700 bg-gray-100"}`,title:"Storage Manager",children:"💾"}),s&&i.jsx("button",{onClick:s,className:`p-1 rounded ${l?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"}`,children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),M&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${F(M.status)}`,children:M.status.toUpperCase()}),M.is_running&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),i.jsx("span",{className:`text-xs ${l?"text-blue-400":"text-blue-600"}`,children:"Running"})]})]}),i.jsxs("div",{className:`mt-2 text-xs ${l?"text-gray-400":"text-gray-600"}`,children:[M.started_at&&i.jsxs("div",{children:["Started: ",V(M.started_at)]}),M.completed_at&&i.jsxs("div",{children:["Completed: ",V(M.completed_at)]}),M.error_message&&i.jsxs("div",{className:"text-red-500 mt-1",children:["Error: ",M.error_message]})]}),(M.status==="completed"||M.status==="failed")&&i.jsx("div",{className:"mt-3",children:i.jsx("button",{onClick:()=>f(!0),className:`w-full px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${l?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600":"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200"}`,title:"Send comprehensive email report with analytics and logs",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{children:"📧"}),i.jsx("span",{children:"Send Email Report"})]})})})]}),i.jsxs("div",{className:`mt-2 text-xs ${l?"text-gray-500":"text-gray-400"}`,children:[r&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{children:"Auto-saved to localStorage"})]}),C&&i.jsx("div",{className:"text-red-500 mt-1",children:C})]})]}),u&&i.jsx(R,{}),!r&&!u&&i.jsxs("div",{className:`p-4 border-b ${l?"border-gray-700":"border-gray-200"}`,children:[i.jsx("h4",{className:`text-sm font-medium mb-3 ${l?"text-gray-300":"text-gray-700"}`,children:"Recent Executions"}),i.jsxs("div",{className:"space-y-2",children:[m(3).map(P=>{var Y,H;return i.jsxs("div",{className:`p-2 rounded cursor-pointer transition-colors ${l?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>{console.log("Load execution:",P.instanceId)},children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:`font-mono text-xs ${l?"text-gray-300":"text-gray-700"}`,children:[P.instanceId.slice(0,8),"..."]}),i.jsx("div",{className:`text-xs ${l?"text-gray-400":"text-gray-500"}`,children:new Date(P.lastUpdated).toLocaleString()})]}),i.jsx("div",{className:`text-xs mt-1 ${l?"text-gray-400":"text-gray-600"}`,children:P.workflowName||"Unnamed Workflow"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:`px-1 py-0.5 rounded text-xs ${F(((Y=P.executionStatus)==null?void 0:Y.status)||"unknown")}`,children:((H=P.executionStatus)==null?void 0:H.status)||"unknown"}),i.jsxs("span",{className:`text-xs ${l?"text-gray-500":"text-gray-400"}`,children:[P.executionLogs.length," logs, ",P.executionEvents.length," events"]})]})]},P.instanceId)}),m().length===0&&i.jsxs("div",{className:`text-center py-8 ${l?"text-gray-500":"text-gray-400"}`,children:[i.jsx("div",{className:"text-2xl mb-2",children:"📋"}),i.jsx("div",{children:"No executions yet"}),i.jsx("div",{className:"text-xs mt-1",children:"Execute a workflow to see results here"})]})]})]}),i.jsx("div",{className:`border-b ${l?"border-gray-700":"border-gray-200"}`,children:i.jsxs("div",{className:"flex",children:[i.jsxs("button",{onClick:()=>c("events"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${a==="events"?l?"text-blue-400 border-blue-400 bg-gray-700":"text-blue-600 border-blue-600 bg-gray-50":l?"text-gray-400 hover:text-gray-200 border-transparent":"text-gray-600 hover:text-gray-800 border-transparent"}`,children:["Events (",$.length,")"]}),i.jsxs("button",{onClick:()=>c("logs"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${a==="logs"?l?"text-blue-400 border-blue-400 bg-gray-700":"text-blue-600 border-blue-600 bg-gray-50":l?"text-gray-400 hover:text-gray-200 border-transparent":"text-gray-600 hover:text-gray-800 border-transparent"}`,children:["Logs (",j.length,")"]})]})}),i.jsxs("div",{className:"flex-1 overflow-auto",children:[a==="events"&&i.jsx("div",{className:"p-4 space-y-3",children:$.length===0?i.jsxs("div",{className:`text-center py-8 ${l?"text-gray-400":"text-gray-500"}`,children:[i.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),i.jsx("p",{children:"No execution events yet"}),i.jsx("p",{className:"text-xs mt-1",children:"Execute the workflow to see real-time execution steps"})]}):$.map(P=>i.jsxs("div",{className:`p-4 rounded-lg border ${l?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:"⚙️"}),i.jsx("span",{className:`text-sm font-medium ${l?"text-gray-200":"text-gray-800"}`,children:P.title})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${F(P.status)}`,children:P.status.toUpperCase()}),i.jsx("span",{className:`text-xs ${l?"text-gray-400":"text-gray-500"}`,children:V(P.timestamp)})]})]}),(P.nodeId||P.executionTime)&&i.jsxs("div",{className:`text-xs mb-2 ${l?"text-gray-400":"text-gray-500"}`,children:[P.nodeId&&i.jsxs("span",{children:["Node: ",P.nodeId]}),P.executionTime&&i.jsxs("span",{className:"ml-3",children:["⏱️ ",P.executionTime,"ms"]})]}),P.content&&Object.keys(P.content).length>0&&i.jsx("div",{className:`mt-3 text-xs space-y-2 ${l?"text-gray-300":"text-gray-600"}`,children:Object.entries(P.content).map(([Y,H])=>i.jsxs("div",{children:[i.jsxs("span",{className:`font-medium capitalize ${l?"text-gray-200":"text-gray-700"}`,children:[Y.replace(/_/g," "),": "]}),i.jsx("span",{className:l?"text-gray-400":"text-gray-600",children:typeof H=="object"?JSON.stringify(H):String(H)})]},Y))})]},P.id))}),a==="logs"&&i.jsx("div",{className:"p-4 space-y-3",children:j.length===0?i.jsxs("div",{className:`text-center py-8 ${l?"text-gray-400":"text-gray-500"}`,children:[i.jsx("p",{children:"No logs available"}),i.jsx("p",{className:"text-xs mt-1",children:"Logs will appear here as the workflow executes"})]}):j.map(P=>i.jsxs("div",{className:`p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${z(P.level)}`,children:P.level.toUpperCase()}),i.jsx("span",{className:`text-sm font-medium ${l?"text-gray-200":"text-gray-800"}`,children:P.title})]}),i.jsx("span",{className:`text-xs ${l?"text-gray-400":"text-gray-500"}`,children:V(P.timestamp)})]}),i.jsx("div",{className:`text-sm ${l?"text-gray-300":"text-gray-600"}`,children:P.message}),(P.executionTime||P.nodeId)&&i.jsxs("div",{className:`text-xs mt-2 ${l?"text-gray-400":"text-gray-500"}`,children:[P.nodeId&&i.jsxs("span",{children:["Node: ",P.nodeId]}),P.executionTime&&i.jsxs("span",{className:P.nodeId?"ml-3":"",children:["⏱️ ",P.executionTime,"ms"]})]}),P.details&&Object.keys(P.details).length>0&&i.jsxs("details",{className:"mt-3",children:[i.jsx("summary",{className:`cursor-pointer text-xs font-medium ${l?"text-gray-300":"text-gray-700"}`,children:"View Details"}),i.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(P.details).map(([Y,H])=>i.jsxs("div",{className:"text-xs",children:[i.jsxs("span",{className:`font-medium capitalize ${l?"text-gray-300":"text-gray-700"}`,children:[Y.replace(/_/g," "),": "]}),i.jsx("span",{className:`break-words ${l?"text-gray-400":"text-gray-600"}`,children:typeof H=="object"?JSON.stringify(H,null,2):String(H)})]},Y))})]})]},P.id))})]}),i.jsx("div",{className:`p-3 border-t text-xs ${l?"border-gray-700 text-gray-400":"border-gray-200 text-gray-500"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:l?"text-gray-300":"text-gray-700",children:"Real-time updates"})]}),i.jsx("span",{className:`text-xs ${l?"text-gray-400":"text-gray-600"}`,children:"💾 Persistent storage enabled"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[r&&i.jsx("button",{onClick:()=>{const P=v(r);if(P){const Y=new Blob([P],{type:"application/json"}),H=URL.createObjectURL(Y),G=document.createElement("a");G.href=H,G.download=`execution_${r.substring(0,8)}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(H)}},className:`px-2 py-1 rounded text-xs border transition-colors ${l?"bg-gray-600 border-gray-500 text-gray-300 hover:bg-gray-500":"bg-gray-100 border-gray-300 text-gray-600 hover:bg-gray-200"}`,title:"Export execution data to JSON file",children:"📥 Export"}),r&&i.jsx("button",{onClick:()=>f(!0),className:`px-2 py-1 rounded text-xs border transition-colors ${l?"bg-blue-600 border-blue-500 text-blue-100 hover:bg-blue-500":"bg-blue-100 border-blue-300 text-blue-600 hover:bg-blue-200"}`,title:"Send comprehensive email report",children:"📧 Email Report"})]})]})}),h&&i.jsx(ON,{instanceId:r,workflowName:o,executionStatus:M,onClose:()=>f(!1)})]})};function HN({node:e,onUpdateNode:t,onDeleteNode:n}){var u,d,h;const{components:r}=ku(),[o,s]=g.useState(((u=e.data)==null?void 0:u.config)||{}),l=r.find(f=>f.type===e.type);g.useEffect(()=>{var f;s(((f=e.data)==null?void 0:f.config)||{})},[e]);const a=(f,p)=>{const w={...o,[f]:p};s(w);const x={...e.data,config:w};t(e.id,x)},c=f=>{var w;const p=o[f.name]??f.default_value??"";switch(f.type){case"string":return i.jsx("input",{type:"text",value:p,onChange:x=>a(f.name,x.target.value),placeholder:f.description||`Enter ${f.label}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:f.required});case"number":return i.jsx("input",{type:"number",value:p,onChange:x=>a(f.name,parseFloat(x.target.value)||0),placeholder:f.description||`Enter ${f.label}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:f.required});case"boolean":return i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:p,onChange:x=>a(f.name,x.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),i.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:f.description||"Enable this option"})]});case"select":return i.jsx("select",{value:p,onChange:x=>a(f.name,x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:f.required,children:(w=f.options)==null?void 0:w.map(x=>i.jsx("option",{value:x.value,children:x.label},x.value))});case"textarea":return i.jsx("textarea",{value:p,onChange:x=>a(f.name,x.target.value),placeholder:f.description||`Enter ${f.label}`,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:f.required});case"json":return i.jsx("textarea",{value:typeof p=="string"?p:JSON.stringify(p,null,2),onChange:x=>{try{const E=JSON.parse(x.target.value);a(f.name,E)}catch{a(f.name,x.target.value)}},placeholder:f.description||"Enter valid JSON",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white font-mono text-sm",required:f.required});case"file":return i.jsx("input",{type:"file",onChange:x=>{var m;const E=(m=x.target.files)==null?void 0:m[0];E&&a(f.name,E.name)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:f.required});default:return i.jsx("input",{type:"text",value:p,onChange:x=>a(f.name,x.target.value),placeholder:f.description||`Enter ${f.label}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:f.required})}};return l?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:l.name}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:l.description})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Node Label"}),i.jsx("input",{type:"text",value:((h=e.data)==null?void 0:h.label)||l.name,onChange:f=>t(e.id,{...e.data,label:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),l.parameters&&l.parameters.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:"Configuration"}),l.parameters.map(f=>i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[f.label,f.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c(f),f.description&&i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:f.description})]},f.name))]}),(l.input_handles.length>0||l.output_handles.length>0)&&i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 p-3 rounded-lg",children:[i.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Connection Points"}),l.input_handles.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:"Inputs:"}),i.jsx("ul",{className:"text-xs text-blue-600 dark:text-blue-400 ml-4",children:l.input_handles.map(f=>i.jsxs("li",{children:["• ",f.label||f.id]},f.id))})]}),l.output_handles.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:"Outputs:"}),i.jsx("ul",{className:"text-xs text-blue-600 dark:text-blue-400 ml-4",children:l.output_handles.map(f=>i.jsxs("li",{children:["• ",f.label||f.id]},f.id))})]})]}),i.jsx("div",{className:"flex space-x-2 pt-4 border-t border-gray-200 dark:border-gray-600",children:i.jsx("button",{onClick:()=>n(e.id),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Node"})})]}):i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"text-yellow-600 bg-yellow-100 dark:bg-yellow-900 dark:text-yellow-300 p-3 rounded-lg",children:[i.jsx("h4",{className:"font-medium",children:"Unknown Component Type"}),i.jsxs("p",{className:"text-sm mt-1",children:["No metadata found for component type: ",e.type]})]}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Node Label"}),i.jsx("input",{type:"text",value:((d=e.data)==null?void 0:d.label)||"",onChange:f=>t(e.id,{...e.data,label:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),i.jsx("button",{onClick:()=>n(e.id),className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Node"})]})]})}const BN=[],UN=[];let VN=0;const GN=()=>`node_${VN++}`;function YN({workflowId:e,onBack:t}){const{isDark:n}=zt()||{isDark:!1},r=g.useRef(null),[o,s,l]=Lm(BN),[a,c,u]=Am(UN),[d,h]=g.useState(null),[f,p]=g.useState(!0),[w,x]=g.useState(!1),[E,m]=g.useState(!1),[y,v]=g.useState(null),[b,_]=g.useState({x:0,y:0,zoom:1}),[S,C]=g.useState(()=>{const q=localStorage.getItem("workflow_editor_current_instance");return q?console.log("🔄 Restored currentInstanceId from localStorage:",q.slice(0,8)+"..."):console.log("📭 No currentInstanceId found in localStorage"),q||null}),[T,A]=g.useState("New Workflow"),[I,W]=g.useState(""),[U,D]=g.useState(!1);g.useEffect(()=>{S?(localStorage.setItem("workflow_editor_current_instance",S),console.log("💾 Saved currentInstanceId to localStorage:",S.slice(0,8)+"...")):(localStorage.removeItem("workflow_editor_current_instance"),console.log("🗑️ Removed currentInstanceId from localStorage"))},[S]);const{components:k}=ku(),{currentWorkflow:M,loading:N,error:L,saveWorkflow:$,loadWorkflow:j,convertReactFlowData:R,setCurrentWorkflow:F}=Bm(),{executionStatus:z,executionLogs:V,executionEvents:P,isConnected:Y,loading:H,error:G,executeWorkflow:J,stopExecution:ee}=RN(S||void 0);g.useEffect(()=>{if(!S&&!N){const q=localStorage.getItem("workflow_execution_instances");if(q)try{const se=JSON.parse(q);if(se.length>0){const ie=se[se.length-1];console.log("🔧 Auto-recovering currentInstanceId from most recent execution:",ie.slice(0,8)+"..."),C(ie)}}catch(se){console.warn("Failed to auto-recover currentInstanceId:",se)}}},[S,N]),g.useEffect(()=>{console.log("EnhancedWorkflowEditor useEffect - workflowId:",e),e&&(console.log("Loading workflow with ID:",e),j(e))},[e,j]),g.useEffect(()=>{if(M&&M.workflow_data){const q=M.workflow_data;A(M.name||"Untitled Workflow"),W(M.description||"");const se=(q.nodes||[]).map(ce=>({id:ce.id,type:ce.type,position:ce.position||{x:0,y:0},data:ce.data||{}})),ie=(q.edges||[]).map(ce=>({id:ce.id,source:ce.source,target:ce.target,sourceHandle:ce.sourceHandle||null,targetHandle:ce.targetHandle||null}));s(se),c(ie),q.viewport&&(_(q.viewport),d==null||d.setViewport(q.viewport)),D(!1)}},[M,s,c,d]),g.useEffect(()=>{M&&D(!0)},[o,a,T,I]);const te=g.useCallback(q=>{console.log("Connection attempt:",q),c(se=>pu(q,se)),D(!0)},[c]),X=g.useCallback((q,se)=>{_(se)},[]),ne=g.useCallback(q=>{q.preventDefault(),q.dataTransfer&&(q.dataTransfer.dropEffect="move")},[]),Se=g.useCallback(q=>{if(q.preventDefault(),!q.dataTransfer||!d)return;const se=q.dataTransfer.getData("application/reactflow");if(typeof se>"u"||!se)return;const ie=d.screenToFlowPosition({x:q.clientX,y:q.clientY}),ce=k.find(xt=>xt.type===se),Pe=ce?ce.name:`${se.charAt(0).toUpperCase()+se.slice(1)} Node`,yt={id:GN(),type:se,position:ie,data:{label:Pe,type:se,config:{}}};s(xt=>xt.concat(yt))},[d,s,k]),me=g.useCallback((q,se)=>{v(se),m(!0)},[]),ye=g.useCallback((q,se)=>{s(ie=>ie.map(ce=>ce.id===q?{...ce,data:{...ce.data,...se}}:ce)),D(!0)},[s]),Ue=g.useCallback(q=>{s(se=>se.filter(ie=>ie.id!==q)),c(se=>se.filter(ie=>ie.source!==q&&ie.target!==q)),m(!1),v(null),D(!0)},[s,c]),ae=g.useCallback(async()=>{var ce;if(!T.trim()){alert("Please enter a workflow name");return}const q=R(o,a,b),ie=await $({name:T,description:I,category:"custom",workflow_data:q,is_public:!1});ie.success?(D(!1),alert("Workflow saved successfully!"),(ce=ie.data)!=null&&ce.id&&!e&&F({id:ie.data.id,name:T,description:I,workflow_data:q,status:"draft",created_at:new Date().toISOString()})):alert(`Failed to save workflow: ${ie.error}`)},[T,I,o,a,b,R,$,e,F]),K=g.useCallback(async()=>{if(!M)if(U){if(await ae(),!M)return}else{alert("Please save the workflow first");return}if(o.length===0){alert("Cannot execute empty workflow");return}try{const q=R(o,a,b),se={name:`${T} - Execution ${new Date().toLocaleTimeString()}`,template_id:M.id,workflow_data:q,input_data:{},created_by:"frontend_user"},ie=await fetch("http://localhost:8000/api/v1/workflow/instances",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!ie.ok)throw new Error(`Failed to create instance: ${ie.status}`);const Pe=(await ie.json()).instance_id;if(!Pe)throw new Error("No instance ID returned from server");console.log("Created instance:",Pe),C(Pe),x(!0);const yt=await J(Pe,{});yt.success||alert(`Failed to execute workflow: ${yt.error}`)}catch(q){console.error("Execution error:",q),alert(`Failed to execute workflow: ${q instanceof Error?q.message:"Unknown error"}`)}},[M,U,ae,o,a,b,T,R,J]),Le=g.useCallback(async()=>{if(S&&(z!=null&&z.is_running)){const q=await ee(S);q.success||alert(`Failed to stop execution: ${q.error}`)}},[S,z,ee]);return i.jsxs("div",{className:`h-screen flex flex-col ${n?"bg-gray-900":"bg-gray-50"}`,children:[i.jsxs("div",{className:`border-b px-6 py-4 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[t&&i.jsxs("button",{onClick:t,className:`flex items-center gap-2 px-4 py-2 rounded-lg ${n?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Dashboard"]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("input",{type:"text",value:T,onChange:q=>A(q.target.value),className:`text-xl font-bold bg-transparent border-none outline-none ${n?"text-gray-100":"text-gray-900"}`,placeholder:"Workflow Name"}),i.jsx("input",{type:"text",value:I,onChange:q=>W(q.target.value),className:`text-sm bg-transparent border-none outline-none ${n?"text-gray-400":"text-gray-600"}`,placeholder:"Description (optional)"})]}),U&&i.jsx("span",{className:"text-xs text-orange-500 font-medium",children:"• Unsaved changes"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>p(!f),className:`p-2 rounded-lg ${n?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),i.jsx("button",{onClick:()=>x(!w),className:`p-2 rounded-lg ${n?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"} ${w?"bg-blue-100 text-blue-600":""}`,children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),i.jsx("button",{onClick:ae,disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:N?"Saving...":"Save"}),z!=null&&z.is_running?i.jsx("button",{onClick:Le,disabled:H,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:H?"Stopping...":"Stop"}):i.jsx("button",{onClick:K,disabled:H||o.length===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:H?"Starting...":"Execute"})]})]}),i.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[L&&i.jsxs("div",{className:"text-red-500 text-sm",children:["Error: ",L]}),G&&i.jsxs("div",{className:"text-red-500 text-sm",children:["Execution Error: ",G]}),z&&i.jsxs("div",{className:`text-sm px-2 py-1 rounded ${z.status==="running"?"bg-blue-100 text-blue-800":z.status==="completed"?"bg-green-100 text-green-800":z.status==="failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:["Status: ",z.status]}),Y&&i.jsxs("div",{className:"text-green-500 text-sm flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Live Updates"]})]})]}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[f&&i.jsx(IN,{isOpen:f,onToggle:()=>p(!1)}),i.jsx("div",{className:"flex-1 overflow-hidden",ref:r,children:i.jsxs(bu,{nodes:o,edges:a,onNodesChange:l,onEdgesChange:u,onConnect:te,onNodeClick:me,onInit:h,onDrop:Se,onDragOver:ne,onMove:X,nodeTypes:Wm,className:n?"dark":"",fitView:!0,snapToGrid:!0,snapGrid:[20,20],connectionMode:jn.Loose,children:[i.jsx(zm,{}),i.jsx(Im,{}),i.jsx(Om,{variant:ot.Dots,gap:20,size:1})]})}),w&&i.jsx(WN,{executionStatus:z,executionLogs:V,executionEvents:P,instanceId:S||void 0,workflowName:M==null?void 0:M.name,onClose:()=>x(!1)}),E&&y&&i.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 overflow-y-auto",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Configure Node"}),i.jsx("button",{onClick:()=>{m(!1),v(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"p-4",children:i.jsx(HN,{node:y,onUpdateNode:ye,onDeleteNode:Ue})})]})]})]})}function XN(e){return i.jsx(ra,{children:i.jsx(YN,{...e})})}class ZN{constructor(){ls(this,"baseUrl","http://localhost:8000");ls(this,"apiUrl",`${this.baseUrl}/api/v1/workflow`)}async request(t,n={}){try{const r=await fetch(`${this.apiUrl}${t}`,{headers:{"Content-Type":"application/json",...n.headers},...n}),o=await r.json();if(!r.ok)throw new Error(o.detail||"API request failed");return o}catch(r){return console.error("API request error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async createTemplate(t){return this.request("/templates",{method:"POST",body:JSON.stringify(t)})}async getTemplates(t){const n=new URLSearchParams;t!=null&&t.category&&n.append("category",t.category),(t==null?void 0:t.is_public)!==void 0&&n.append("is_public",String(t.is_public));const r=n.toString();return this.request(`/templates${r?`?${r}`:""}`)}async getTemplate(t){return this.request(`/templates/${t}`)}async createInstance(t){return this.request("/instances",{method:"POST",body:JSON.stringify(t)})}async executeInstance(t){return this.request(`/instances/${t}/execute`,{method:"POST"})}async getInstances(t){const n=new URLSearchParams;t!=null&&t.status&&n.append("status",t.status),t!=null&&t.limit&&n.append("limit",String(t.limit)),t!=null&&t.offset&&n.append("offset",String(t.offset));const r=n.toString();return this.request(`/instances${r?`?${r}`:""}`)}async getInstance(t){return this.request(`/instances/${t}`)}async processGoogleSheets(t){return this.request("/google-sheets/process",{method:"POST",body:JSON.stringify(t)})}async generateDailyReport(t){return this.request("/reports/daily",{method:"POST",body:JSON.stringify({report_date:t})})}async getDailyAnalytics(t){return this.request(`/analytics/daily?date=${t}`)}async getWeeklyAnalytics(t){return this.request(`/analytics/weekly?end_date=${t}`)}async getTaskLogs(t){const n=new URLSearchParams;t!=null&&t.limit&&n.append("limit",String(t.limit)),t!=null&&t.offset&&n.append("offset",String(t.offset)),t!=null&&t.status&&n.append("status",t.status),t!=null&&t.start_date&&n.append("start_date",t.start_date),t!=null&&t.end_date&&n.append("end_date",t.end_date);const r=n.toString();return this.request(`/task-logs${r?`?${r}`:""}`)}async healthCheck(){try{const t=await fetch(`${this.baseUrl}/api/v1/health`),n=await t.json();return{success:t.ok,data:n}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Health check failed"}}}}const Zt=new ZN,qN=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!1),[o,s]=g.useState(null),l=g.useCallback(async u=>{r(!0),s(null);try{const d=await Zt.getInstances(u);d.success&&d.data?t(d.data.instances):s(d.error||"Failed to fetch instances")}catch(d){s(d instanceof Error?d.message:"Unknown error")}finally{r(!1)}},[]),a=g.useCallback(async u=>{r(!0),s(null);try{const d=await Zt.createInstance(u);return d.success?(await l(),d):(s(d.error||"Failed to create instance"),d)}catch(d){const h=d instanceof Error?d.message:"Unknown error";return s(h),{success:!1,error:h}}finally{r(!1)}},[l]),c=g.useCallback(async u=>{r(!0),s(null);try{const d=await Zt.executeInstance(u);return d.success?(await l(),d):(s(d.error||"Failed to execute instance"),d)}catch(d){const h=d instanceof Error?d.message:"Unknown error";return s(h),{success:!1,error:h}}finally{r(!1)}},[l]);return{instances:e,loading:n,error:o,fetchInstances:l,createInstance:a,executeInstance:c}},KN=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!1),[o,s]=g.useState(null),l=g.useCallback(async a=>{r(!0),s(null);try{const c=await Zt.getTaskLogs(a);c.success&&c.data?t(c.data.logs):s(c.error||"Failed to fetch logs")}catch(c){s(c instanceof Error?c.message:"Unknown error")}finally{r(!1)}},[]);return{logs:e,loading:n,error:o,fetchLogs:l}},QN=()=>{const[e,t]=g.useState(null),[n,r]=g.useState(null),[o,s]=g.useState(!1),[l,a]=g.useState(null),c=g.useCallback(async h=>{s(!0),a(null);try{const f=await Zt.getDailyAnalytics(h);f.success&&f.data?t(f.data):a(f.error||"Failed to fetch daily analytics")}catch(f){a(f instanceof Error?f.message:"Unknown error")}finally{s(!1)}},[]),u=g.useCallback(async h=>{s(!0),a(null);try{const f=await Zt.getWeeklyAnalytics(h);f.success&&f.data?r(f.data):a(f.error||"Failed to fetch weekly analytics")}catch(f){a(f instanceof Error?f.message:"Unknown error")}finally{s(!1)}},[]),d=g.useCallback(async h=>{s(!0),a(null);try{const f=await Zt.generateDailyReport(h);return f.success||a(f.error||"Failed to generate report"),f}catch(f){const p=f instanceof Error?f.message:"Unknown error";return a(p),{success:!1,error:p}}finally{s(!1)}},[]);return{dailyData:e,weeklyData:n,loading:o,error:l,fetchDailyAnalytics:c,fetchWeeklyAnalytics:u,generateDailyReport:d}},JN=()=>{const[e,t]=g.useState(!1),[n,r]=g.useState(null),o=g.useCallback(async s=>{t(!0),r(null);try{const l=await Zt.processGoogleSheets(s);return l.success||r(l.error||"Failed to process sheets"),l}catch(l){const a=l instanceof Error?l.message:"Unknown error";return r(a),{success:!1,error:a}}finally{t(!1)}},[]);return{loading:e,error:n,processSheets:o}},eS=()=>{const[e,t]=g.useState(null),[n,r]=g.useState(!1),o=g.useCallback(async()=>{r(!0);try{const s=await Zt.healthCheck();t(s.success)}catch{t(!1)}finally{r(!1)}},[]);return g.useEffect(()=>{o();const s=setInterval(o,3e4);return()=>clearInterval(s)},[o]),{isHealthy:e,loading:n,checkHealth:o}},tS=({onOpenEditor:e,onLoadTemplate:t})=>{var U;const[n,r]=g.useState("instances"),{isHealthy:o,checkHealth:s}=eS(),{instances:l,loading:a,error:c,fetchInstances:u,createInstance:d,executeInstance:h}=qN(),{availableWorkflows:f,fetchAvailableWorkflows:p}=Bm(),{logs:w,fetchLogs:x}=KN(),{dailyData:E,loading:m,error:y,fetchDailyAnalytics:v,generateDailyReport:b}=QN(),{loading:_,error:S,processSheets:C}=JN();g.useEffect(()=>{u(),p(),x({limit:50});const D=new Date().toISOString().split("T")[0];v(D)},[u,p,x,v]);const T=async D=>{const k=await h(D);k.success?alert(`Workflow execution started for instance: ${D}`):alert(`Failed to execute workflow: ${k.error}`)},A=async D=>{const k=await C({google_sheets_id:D,notification_settings:{email:"admin@company.com",slack_channel:"#workflow-notifications"},output_settings:{format:"pdf",drive_folder:"workflow_outputs"}});k.success?alert(`Google Sheets processing started for: ${D}`):alert(`Failed to process sheets: ${k.error}`)},I=async()=>{const D=await b();D.success?alert("Daily report generation started"):alert(`Failed to generate report: ${D.error}`)},W=async()=>{const D={nodes:[{id:"1",type:"input",position:{x:100,y:100},data:{label:"Google Sheets Input",type:"sheets"}},{id:"2",type:"ai",position:{x:300,y:100},data:{label:"AI Processing",type:"openai"}},{id:"3",type:"output",position:{x:500,y:100},data:{label:"Google Drive Output",type:"drive"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},k=await d({name:`Workflow Instance ${Date.now()}`,workflow_data:D,input_data:{sheets_id:"example-sheets-id",ai_prompt:"Generate product descriptions",output_format:"pdf"}});k.success?alert("Workflow instance created successfully"):alert(`Failed to create instance: ${k.error}`)};return o?i.jsx("div",{className:"h-full bg-gray-50 dark:bg-gray-900 overflow-auto",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Workflow Automation Dashboard"}),i.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage and monitor your automated workflows"})]}),e&&i.jsxs("button",{onClick:e,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Workflow"]})]})}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${o?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:[i.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${o?"bg-green-500":"bg-red-500"}`}),"Backend ",o?"Connected":"Disconnected"]})}),i.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:i.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"instances",label:"Workflow Instances",count:l.length},{id:"templates",label:"Templates",count:f.length},{id:"logs",label:"Task Logs",count:w.length},{id:"analytics",label:"Analytics"},{id:"sheets",label:"Google Sheets"}].map(D=>i.jsxs("button",{onClick:()=>r(D.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${n===D.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[D.label,D.count!==void 0&&i.jsx("span",{className:"ml-2 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 py-0.5 px-2 rounded-full text-xs",children:D.count})]},D.id))})}),n==="instances"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Workflow Instances"}),i.jsx("button",{onClick:W,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create New Instance"})]}),a?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c?i.jsxs("div",{className:"text-red-600 dark:text-red-400 py-4",children:["Error: ",c]}):i.jsx("div",{className:"grid gap-4",children:l.map(D=>i.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:D.name}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Created: ",new Date(D.created_at).toLocaleDateString()]}),i.jsx("div",{className:"mt-2",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":D.status==="running"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":D.status==="failed"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:D.status.toUpperCase()})}),D.error_message&&i.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:["Error: ",D.error_message]})]}),i.jsxs("div",{className:"flex space-x-2",children:[D.status==="draft"&&i.jsx("button",{onClick:()=>T(D.id),className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 text-sm transition-colors",children:"Execute"}),i.jsx("button",{onClick:()=>{console.log("View details for instance:",D.id)},className:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700 text-sm transition-colors",children:"View Details"})]})]})},D.id))})]}),n==="templates"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Workflow Templates"}),i.jsx("button",{onClick:e,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create New Template"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(D=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:D.name}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.is_public?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-100"}`,children:D.is_public?"Public":"Private"})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:D.description||"No description provided"}),i.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400 mb-4",children:[i.jsxs("span",{children:["Category: ",D.category||"General"]}),i.jsx("span",{children:D.created_at?new Date(D.created_at).toLocaleDateString():"Unknown"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>{console.log("Edit button clicked for template:",D.id),t?(console.log("Calling onLoadTemplate with ID:",D.id),t(D.id)):e?(console.log("Falling back to onOpenEditor"),e()):console.log("No onLoadTemplate or onOpenEditor available")},className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 text-sm transition-colors",children:"Edit"}),i.jsx("button",{onClick:async()=>{const k=await d({name:`${D.name} - Instance`,template_id:D.id,workflow_data:D.workflow_data});k.success?(alert("Instance created successfully!"),u()):alert(`Failed to create instance: ${k.error}`)},className:"flex-1 bg-green-600 text-white px-3 py-2 rounded hover:bg-green-700 text-sm transition-colors",children:"Use Template"})]})]},D.id))}),f.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No workflow templates found"}),i.jsx("button",{onClick:e,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Template"})]})]}),n==="sheets"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Google Sheets Processing"}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Process Google Sheets"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Google Sheets ID"}),i.jsx("input",{type:"text",placeholder:"Enter Google Sheets ID",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",id:"sheets-id-input"})]}),i.jsx("button",{onClick:()=>{const D=document.getElementById("sheets-id-input");D!=null&&D.value&&A(D.value)},disabled:_,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:_?"Processing...":"Process Sheets"}),S&&i.jsxs("p",{className:"text-red-600 dark:text-red-400 text-sm",children:["Error: ",S]})]})]})]}),n==="analytics"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Analytics & Reports"}),i.jsx("button",{onClick:I,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Generate Daily Report"})]}),m?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):y?i.jsxs("div",{className:"text-red-600 dark:text-red-400 py-4",children:["Error: ",y]}):E?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tasks"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:E.total_tasks||0})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Successful"}),i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-2",children:E.successful_tasks||0})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Failed"}),i.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-2",children:E.failed_tasks||0})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Success Rate"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:[((U=E.success_rate)==null?void 0:U.toFixed(1))||0,"%"]})]})]}):i.jsx("div",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"No analytics data available"})]})]})}):i.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Backend Unavailable"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Cannot connect to the backend service. Please ensure the backend is running on http://localhost:8000"}),i.jsx("button",{onClick:s,className:"mt-2 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"Retry Connection"})]})]})})})},nS=()=>i.jsxs("div",{className:"h-full overflow-auto p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Chat Module"}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsx("p",{className:"text-gray-600",children:"Chat interface will be implemented here."})})]}),rS=()=>i.jsxs("div",{className:"h-full overflow-auto p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Document Management"}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsx("p",{className:"text-gray-600",children:"Document upload and management interface will be implemented here."})})]}),oS=()=>{const[e,t]=g.useState("dashboard"),[n,r]=g.useState(null);return e==="editor"?i.jsx(LN,{onBack:()=>t("dashboard")}):e==="enhanced-editor"?i.jsx(XN,{onBack:()=>{t("dashboard"),r(null)},workflowId:n||void 0}):i.jsx(tS,{onOpenEditor:()=>t("enhanced-editor"),onLoadTemplate:o=>{console.log("WorkspaceManager onLoadTemplate called with:",o),r(o),t("enhanced-editor")}})},sS=()=>i.jsxs("div",{className:"h-full overflow-auto p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"MCP Plugins"}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsx("p",{className:"text-gray-600",children:"Model Context Protocol plugin management will be implemented here."})})]}),lS=()=>i.jsxs("div",{className:"h-full overflow-auto p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Analytics"}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsx("p",{className:"text-gray-600",children:"Analytics and reporting dashboard will be implemented here."})})]}),aS=()=>i.jsxs("div",{className:"h-full overflow-auto p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Team Management"}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsx("p",{className:"text-gray-600",children:"Team collaboration and user management will be implemented here."})})]}),iS=()=>i.jsxs("div",{className:"h-full overflow-auto p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Settings"}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:i.jsx("p",{className:"text-gray-600",children:"Application settings and configuration will be implemented here."})})]}),cS=()=>{var a,c;const[e,t]=g.useState("dashboard"),{user:n,logout:r}=eu(),{isDark:o,toggleTheme:s}=zt(),l=()=>{switch(e){case"dashboard":return i.jsx(Od,{user:n||void 0,onModuleChange:t});case"chat":return i.jsx(nS,{});case"documents":case"upload":case"manage":return i.jsx(rS,{});case"workflows":case"designer":case"executions":return i.jsx(oS,{});case"mcp":case"registry":case"installed":return i.jsx(sS,{});case"analytics":return i.jsx(lS,{});case"team":return i.jsx(aS,{});case"settings":return i.jsx(iS,{});default:return i.jsx(Od,{user:n||void 0,onModuleChange:t})}};return i.jsxs("div",{className:`h-screen flex overflow-hidden transition-colors duration-300 ${o?"bg-gray-900":"bg-gray-50"}`,children:[i.jsxs("div",{className:`w-64 shadow-xl transition-colors duration-300 flex flex-col ${o?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-r`,children:[i.jsx("div",{className:`p-4 border-b transition-colors duration-300 ${o?"border-gray-700":"border-gray-200"}`,children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-white font-bold text-sm",children:"EC"})}),i.jsx("h1",{className:`text-lg font-semibold transition-colors duration-300 ${o?"text-gray-100":"text-gray-800"}`,children:"EmbeddedChat"})]})}),i.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[{id:"dashboard",label:"Dashboard",icon:"🏠"},{id:"chat",label:"Chat",icon:"💬"},{id:"documents",label:"Documents",icon:"📄"},{id:"workflows",label:"Workflows",icon:"⚡"},{id:"mcp",label:"MCP Plugins",icon:"🧩"},{id:"analytics",label:"Analytics",icon:"📊"},{id:"team",label:"Team",icon:"👥"},{id:"settings",label:"Settings",icon:"⚙️"}].map(u=>i.jsxs("button",{onClick:()=>t(u.id),className:`w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg transition-all duration-200 hover:scale-105 ${e===u.id?"bg-blue-100 text-blue-700 shadow-md border-l-4 border-blue-700 dark:bg-blue-900 dark:text-blue-300":o?"text-gray-300 hover:bg-gray-700 hover:text-gray-100":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[i.jsx("span",{className:"text-lg",children:u.icon}),i.jsx("span",{className:"font-medium",children:u.label})]},u.id))}),i.jsxs("div",{className:`p-4 border-t transition-colors duration-300 ${o?"border-gray-700":"border-gray-200"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[o?i.jsx(V1,{className:"w-5 h-5 text-gray-400"}):i.jsx(q1,{className:"w-5 h-5 text-gray-600"}),i.jsxs("span",{className:`text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:[o?"Dark":"Light"," Mode"]})]}),i.jsx(av,{enabled:o,onChange:s,size:"sm"})]}),n&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-md",children:i.jsx("span",{className:"text-sm font-medium text-white",children:(c=(a=n.username)==null?void 0:a[0])==null?void 0:c.toUpperCase()})}),i.jsxs("div",{className:"text-sm min-w-0 flex-1",children:[i.jsx("div",{className:`font-medium transition-colors duration-300 truncate ${o?"text-gray-100":"text-gray-800"}`,children:n.username}),i.jsx("div",{className:`text-xs transition-colors duration-300 truncate ${o?"text-gray-400":"text-gray-500"}`,children:n.email})]})]}),i.jsx("button",{onClick:r,className:`p-2 rounded text-xs transition-all duration-200 hover:scale-110 flex-shrink-0 ${o?"text-red-400 hover:bg-red-900/20":"text-red-600 hover:bg-red-50"}`,title:"Logout",children:"🚪"})]})]})]}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx("div",{className:`shadow-sm border-b transition-colors duration-300 px-6 py-4 ${o?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:`text-xl font-semibold capitalize transition-colors duration-300 ${o?"text-gray-100":"text-gray-800"}`,children:e==="mcp"?"MCP Plugins":e}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{className:`relative p-2 rounded-lg transition-all duration-200 hover:scale-110 ${o?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,children:[i.jsx(Ys,{className:"w-5 h-5"}),i.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]}),i.jsx("button",{className:`p-2 rounded-lg transition-all duration-200 hover:scale-110 ${o?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,children:i.jsx(j1,{className:"w-5 h-5"})}),i.jsx("span",{className:`text-sm transition-colors duration-300 ${o?"text-gray-400":"text-gray-500"}`,children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),i.jsx("div",{className:`flex-1 overflow-hidden ${e==="workflows"?"":"overflow-auto"}`,children:l()})]})]})},uS=()=>{const{isAuthenticated:e,loading:t}=eu();return t?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading EmbeddedChat..."})]})}):e?i.jsx(cS,{}):i.jsx(n1,{})};function dS(){return i.jsx(rv,{children:i.jsx(sv,{children:i.jsx(Qx,{children:i.jsx(uS,{})})})})}Xa.createRoot(document.getElementById("root")).render(i.jsx(O.StrictMode,{children:i.jsx(dS,{})}));
